% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  letterpaper,
  DIV=11,
  numbers=noendperiod]{scrreprt}

\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else  
    % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{5}
% Make \paragraph and \subparagraph free-standing
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{241,243,245}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.40,0.45,0.13}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.28,0.35,0.67}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.46,0.62}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.07,0.07,0.07}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{multirow}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

\KOMAoption{captions}{tableheading}
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[skins,breakable]{tcolorbox}}
\@ifpackageloaded{fontawesome5}{}{\usepackage{fontawesome5}}
\definecolor{quarto-callout-color}{HTML}{909090}
\definecolor{quarto-callout-note-color}{HTML}{0758E5}
\definecolor{quarto-callout-important-color}{HTML}{CC1914}
\definecolor{quarto-callout-warning-color}{HTML}{EB9113}
\definecolor{quarto-callout-tip-color}{HTML}{00A047}
\definecolor{quarto-callout-caution-color}{HTML}{FC5300}
\definecolor{quarto-callout-color-frame}{HTML}{acacac}
\definecolor{quarto-callout-note-color-frame}{HTML}{4582ec}
\definecolor{quarto-callout-important-color-frame}{HTML}{d9534f}
\definecolor{quarto-callout-warning-color-frame}{HTML}{f0ad4e}
\definecolor{quarto-callout-tip-color-frame}{HTML}{02b875}
\definecolor{quarto-callout-caution-color-frame}{HTML}{fd7e14}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{bookmark}{}{\usepackage{bookmark}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[skins,breakable]{tcolorbox}}
\makeatother
\makeatletter
\@ifundefined{shadecolor}{\definecolor{shadecolor}{rgb}{.97, .97, .97}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\makeatother
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={å†™ç»™æ–‡ç§‘ç”Ÿçš„Pythonæ•™ç¨‹},
  pdfauthor={Weicheng Li},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}

\title{å†™ç»™æ–‡ç§‘ç”Ÿçš„Pythonæ•™ç¨‹}
\usepackage{etoolbox}
\makeatletter
\providecommand{\subtitle}[1]{% add subtitle to \maketitle
  \apptocmd{\@title}{\par {\large #1 \par}}{}{}
}
\makeatother
\subtitle{Python for Social Scientists v2.1}
\author{Weicheng Li}
\date{2023-12-20}

\begin{document}
\maketitle
\ifdefined\Shaded\renewenvironment{Shaded}{\begin{tcolorbox}[frame hidden, enhanced, borderline west={3pt}{0pt}{shadecolor}, sharp corners, interior hidden, breakable, boxrule=0pt]}{\end{tcolorbox}}\fi

\renewcommand*\contentsname{Table of contents}
{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{2}
\tableofcontents
}
\bookmarksetup{startatroot}

\hypertarget{ux5f15ux8a00}{%
\chapter*{å¼•è¨€}\label{ux5f15ux8a00}}
\addcontentsline{toc}{chapter}{å¼•è¨€}

\markboth{å¼•è¨€}{å¼•è¨€}

æœ¬è¯¾ç¨‹æ˜¯Pythonå…¥é—¨ã€æ•°æ®å¤„ç†å’Œåˆ†æçš„æ•™ç¨‹ï¼Œé€‚ç”¨äºç»ç®¡ç±»æœ¬ç§‘ä¸“ä¸šã€‚è€ƒè™‘åˆ°åŒå­¦ä»¬çš„è®¡ç®—æœºåŸºç¡€å¯èƒ½æœ‰æ¯”è¾ƒå¤§çš„å·®å¼‚ï¼Œå› æ­¤æœ¬è¯¾ç¨‹ä¹Ÿå…¼æœ‰ç¼–ç¨‹å…¥é—¨çš„æ€§è´¨ï¼Œåœ¨åŸºç¡€éƒ¨åˆ†ä¼šè®²å¾—è¯¦ç»†ä¸€äº›ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æœ¬è¯¾ä»¶çš„ç½‘å€ä¸º\url{https://py4ss.net/python}ï¼Œéœ€è¦å’Œè¯¾ç¨‹é…å¥—ä½¿ç”¨ã€‚è¿™ä»½è®²ä¹‰æ¯å¹´éƒ½ä¼šæœ‰å¾ˆå¤§çš„æ”¹å†™ï¼Œç‰¹åˆ«æ˜¯ä¸­åæ®µï¼ŒåŒæ—¶ä¹Ÿä¼šæ ¹æ®æ•™å­¦è¿‡ç¨‹é€æ­¥æ›´æ–°ã€‚
\item
  æœ¬è¯¾ç¨‹\textbf{å¼ºçƒˆå»ºè®®}å¸¦ç¬”è®°æœ¬ç”µè„‘ä¸Šè¯¾ï¼Œå¹¶è¦æ±‚åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šå®‰è£…Pythonç¯å¢ƒï¼ˆåé¢ä¼šæœ‰å®‰è£…æ•™å­¦ï¼‰ã€‚
\item
  Pythonä½œä¸ºæµè¡Œçš„ç¼–ç¨‹è¯­è¨€ï¼Œç½‘ç»œèµ„æ–™éå¸¸ä¸°å¯Œã€‚é™¤äº†è·Ÿç­å­¦ä¹ ä¹‹å¤–ï¼Œä¹Ÿæ¨èå……åˆ†åˆ©ç”¨ç½‘ç»œèµ„æºï¼Œæ¯”å¦‚æœç´¢å¼•æ“ï¼ˆä¸æ¨èç™¾åº¦ï¼Œæœç´¢ä¸“ä¸šç±»é—®é¢˜ç»“æœæ¯”è¾ƒç³Ÿç³•ï¼Œèƒ½ç”¨è°·æ­Œæœ€ä½³ï¼Œå¦åˆ™ä¹Ÿå¯ä»¥è€ƒè™‘ç”¨bingï¼‰ï¼Œç½‘è¯¾æˆ–è€…å„ç§AIå·¥å…·ã€‚
\end{enumerate}

\hypertarget{ux672cux8bfeux7a0bux7684ux4e3bux8981ux5185ux5bb9}{%
\section*{æœ¬è¯¾ç¨‹çš„ä¸»è¦å†…å®¹ï¼š}\label{ux672cux8bfeux7a0bux7684ux4e3bux8981ux5185ux5bb9}}
\addcontentsline{toc}{section}{æœ¬è¯¾ç¨‹çš„ä¸»è¦å†…å®¹ï¼š}

\markright{æœ¬è¯¾ç¨‹çš„ä¸»è¦å†…å®¹ï¼š}

åŸºç¡€éƒ¨åˆ†ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Pythonå…¥é—¨
\item
  åŸºç¡€æ•°æ®å¤„ç†ã€ç»˜å›¾å’Œåˆ†æ
\item
  åŸºç¡€ç»Ÿè®¡åˆ†æã€èšç±»ã€å›å½’ç­‰ï¼ˆé‡å†™ä¸­ï¼‰
\end{enumerate}

ä¸“ä¸šéƒ¨åˆ†ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  é‡‘èç±»ä¸“ä¸š48å­¦æ—¶ç‰ˆï¼šæœ€ä¼˜ç»„åˆã€é‡åŒ–æŠ€æœ¯åˆ†æå’Œäº¤æ˜“ç­–ç•¥åˆæ­¥
\end{enumerate}

å…¶ä»–ï¼šçœ‹æ•™å­¦æƒ…å†µé€‚æ—¶è°ƒæ•´ã€‚

\hypertarget{ux4e0aux8bfeux5f62ux5f0f}{%
\section*{ä¸Šè¯¾å½¢å¼}\label{ux4e0aux8bfeux5f62ux5f0f}}
\addcontentsline{toc}{section}{ä¸Šè¯¾å½¢å¼}

\markright{ä¸Šè¯¾å½¢å¼}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¯¾å ‚è®²è§£
\item
  â˜…
  è¯¾å ‚ä½œä¸šï¼šç»è¿‡åˆæœŸå‡ æ¬¡è¯¾åï¼Œæ¯æ¬¡è¯¾çš„æœ«å°¾éƒ½ä¼šæœ‰éœ€è¦ç°åœºå®Œæˆçš„ç¼–ç¨‹ä½œä¸šï¼Œéœ€è¦åœ¨ä¸€å®šæ—¶é—´å†…å®Œæˆå¹¶æäº¤ï¼Œè€å¸ˆå…¬å¸ƒå‚è€ƒå†™æ³•ï¼ŒéšæœºæŠ½é€‰å‡ ä½å¹¸è¿åŒå­¦çš„ä½œä¸šï¼ˆåŒ¿åï¼‰æ¥è¿›è¡Œè§£æã€‚
\end{enumerate}

â–¶ \href{https://py4ss.net/aasp}{è¯¾å ‚ä½œä¸šæäº¤ç³»ç»Ÿ}

\hypertarget{ux8003ux5bdfux5f62ux5f0f}{%
\section*{è€ƒå¯Ÿå½¢å¼}\label{ux8003ux5bdfux5f62ux5f0f}}
\addcontentsline{toc}{section}{è€ƒå¯Ÿå½¢å¼}

\markright{è€ƒå¯Ÿå½¢å¼}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  30\%å¹³æ—¶åˆ†ï¼Œ70\%æœŸæœ«è€ƒå¯Ÿ
\item
  æœŸæœ«è€ƒå¯Ÿçš„å½¢å¼æ˜¯ç¼–ç¨‹å¤§ä½œä¸šï¼ŒåŒ…æ‹¬ä¸€èˆ¬æ€§çš„ç®—æ³•é¢˜å’Œä¸“ä¸šç›¸å…³çš„åˆ†æé¢˜
\end{enumerate}

\hypertarget{ux8003ux8651ux589eux8865ux7684ux5185ux5bb9}{%
\section*{è€ƒè™‘å¢è¡¥çš„å†…å®¹ï¼š}\label{ux8003ux8651ux589eux8865ux7684ux5185ux5bb9}}
\addcontentsline{toc}{section}{è€ƒè™‘å¢è¡¥çš„å†…å®¹ï¼š}

\markright{è€ƒè™‘å¢è¡¥çš„å†…å®¹ï¼š}

\begin{tcolorbox}[enhanced jigsaw, opacityback=0, left=2mm, coltitle=black, leftrule=.75mm, bottomtitle=1mm, arc=.35mm, opacitybacktitle=0.6, bottomrule=.15mm, breakable, colbacktitle=quarto-callout-warning-color!10!white, toprule=.15mm, toptitle=1mm, colframe=quarto-callout-warning-color-frame, titlerule=0mm, title=\textcolor{quarto-callout-warning-color}{\faExclamationTriangle}\hspace{0.5em}{Warning}, rightrule=.15mm, colback=white]

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å­—ç¬¦ä¸²ä¸“é¢˜ + æ­£åˆ™è¡¨è¾¾å¼
\item
  é¢å‘å¯¹è±¡è¿›é˜¶ + ç®€å•è®¾è®¡æ¨¡å¼
\item
  çˆ¬è™«å…¥é—¨ (æŠ€æœ¯è·¯çº¿å¤ªé•¿)
\item
  (âœ“) CAPMï¼Œæœ€ä¼˜ç»„åˆï¼Œç®€å•é‡åŒ–äº¤æ˜“
\item
  Pythonæ“ä½œExcelï¼ˆéæ•°æ®éƒ¨åˆ†ï¼ŒåŒ…æ‹¬å­—ä½“ã€æ’ç‰ˆã€åˆå¹¶å•å…ƒæ ¼ç­‰ç­‰ï¼‰
\item
  æ›´å¤šçš„æ¡ˆä¾‹ (â˜…)
\end{enumerate}

\end{tcolorbox}

\part{ç¬¬1éƒ¨åˆ† PythonåŸºç¡€}

\hypertarget{ux642dux5efapythonux7f16ux7a0bux73afux5883}{%
\chapter{æ­å»ºPythonç¼–ç¨‹ç¯å¢ƒ}\label{ux642dux5efapythonux7f16ux7a0bux73afux5883}}

æœ¬è¯¾ç¨‹é‡‡ç”¨çš„ç¼–ç¨‹ç¯å¢ƒæ˜¯Anaconda + vscodeï¼Œè¿™ä¹Ÿæ˜¯ä¸šç•Œå¸¸è§çš„ç»„åˆã€‚

\hypertarget{ux5b89ux88c5anaconda}{%
\section{å®‰è£…Anaconda}\label{ux5b89ux88c5anaconda}}

Pythoné™¤äº†æŒ‡ä»£ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼ŒåŒæ—¶æŒ‡ä¸€ä¸ªå·¨å¤§çš„ç¨‹åºä»“åº“ã€‚Pythonéå¸¸æµè¡Œï¼Œå› æ­¤ç”¨Pythonç¼–ç¨‹çš„ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯ä½ é‡åˆ°çš„å¤§éƒ¨åˆ†é—®é¢˜ï¼Œéƒ½æœ‰åˆ«äººå†™å¥½çš„ç¨‹åºï¼ˆç§°ä¸ºåŒ…Packageæˆ–è€…åº“Libraryï¼‰å¸®ä½ æ¥å®Œæˆã€‚

ä¾‹å¦‚ï¼Œå¤„ç†äºŒç»´è¡¨æ ¼çš„Pandasï¼Œç»˜å›¾åŒ…Matplotlibç­‰ç­‰ï¼Œè¿™äº›åŒ…å·²ç»å®Œæˆäº†ç»å¤§éƒ¨åˆ†åŸºç¡€æ€§çš„å·¥ä½œï¼Œä½ åªè¦æŒ‰ä½ çš„è¦æ±‚è°ƒç”¨å®ƒä»¬æä¾›çš„å‡½æ•°æˆ–è€…æ–¹æ³•å³å¯ã€‚æ¯”å¦‚ä½ åªè¦å‘Šè¯‰Pandasè¯»å–ä¸€ä¸ªExcelæ–‡ä»¶ï¼Œæ•°æ®å‡ºç°åœ¨ä½ çš„å±å¹•ä¸Šï¼šä»ä½ çš„æŒ‡ä»¤å¼€å§‹ï¼Œä¸­é—´å·¥ä½œéƒ½ä¸ç”¨ä½ æ¥å®Œæˆã€‚

å¤§éƒ¨åˆ†ç¼–ç¨‹å·¥ä½œï¼Œæˆ‘ä»¬å¾€å¾€è¦è°ƒç”¨å¤§é‡è¿™äº›åˆ«äººå†™å¥½çš„åŒ…æˆ–è€…åº“ã€‚ä½†æ˜¯æ•°æ®åˆ†æç±»çš„å·¥ä½œï¼Œè¦ç”¨çš„åº“å¤§åŒå°å¼‚ï¼Œå› æ­¤æœ‰äººæŠŠé¢å‘è¿™ç±»å·¥ä½œçš„åŒ…ï¼ˆåŒ…æ‹¬ä¸Šè¿°Pandaså’ŒMatplotlibç­‰ï¼‰ï¼Œå…¨éƒ¨æ‰“åŒ…åˆ°ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªæ‰€è°“``å‘è¡Œç‰ˆ''ï¼Œè¿™å°±æ˜¯çš„Anacondaã€‚

AnacondaåŒ…æ‹¬äº†Pythonçš„æ‰§è¡Œç¨‹åºï¼ˆä»£ç çš„è§£é‡Šå™¨ç­‰ï¼‰ä»¥åŠå¤§éƒ¨åˆ†æ•°æ®åˆ†æå·¥ä½œè¦ç”¨åˆ°çš„åŒ…ï¼ˆè™½ç„¶å¤§éƒ¨åˆ†ä½ å¯èƒ½ç”¨ä¸åˆ°ï¼‰ï¼Œå®Œæˆæœ¬è¯¾ç¨‹æœ‰ä½™ã€‚

å½“å‰ï¼ˆ2023å¹´8æœˆï¼‰ï¼Œæœ€æ–°ç‰ˆæœ¬çš„Anacodaé™„å¸¦çš„Pythonä¸º3.11.xç‰ˆï¼Œæˆ‘ä»¬çš„è¯¾ç¨‹é»˜è®¤æ˜¯ç”¨è¿™ä¸ªç‰ˆæœ¬ã€‚ä½†éœ€è¦æ³¨æ„ï¼Œå®é™…ä¸Šå·¥ä½œä¸­æœ€æ–°æ˜¯æ„è§éå¸¸å±é™©çš„äº‹æƒ…ï¼Œå¾€å¾€é€‰æ‹©ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼ˆæ¯”å¦‚3.10.xç‰ˆï¼‰ä¼šæ›´åŠ ç¨³å¦¥ã€‚

Anacondaçš„å®‰è£…åŒ…å¯ä»¥åœ¨å…¶å®˜æ–¹ç½‘ç«™ä¸‹è½½ã€‚å¦‚æœå®˜æ–¹ç½‘ç«™è®¿é—®é€Ÿåº¦å¤ªæ…¢ï¼Œå¯ä»¥é‡‡ç”¨æ¸…åå¤§å­¦çš„é•œåƒåœ°å€ã€‚

å®‰è£…åˆ™åªéœ€è¦ä¸€è·¯ä¸‹ä¸€æ­¥å³å¯ã€‚

æ³¨æ„ï¼šå®‰è£…æ—¶è¯·é€‰æ‹©``Just Meï¼ˆä»…ä¸ºæˆ‘å®‰è£…ï¼‰''ï¼Œè€Œä¸è¦é€‰``All Users''ã€‚

\hypertarget{ux4e0bux8f7danacondaux5b98ux7f51}{%
\subsection{ä¸‹è½½Anacondaï¼ˆå®˜ç½‘ï¼‰}\label{ux4e0bux8f7danacondaux5b98ux7f51}}

ä¸‹è½½åœ°å€ï¼šhttps://www.anaconda.com/download\#downloads

æ‹‰åˆ°æœ€åï¼ŒæŒ‰ä½ ç”µè„‘çš„æ“ä½œç³»ç»Ÿï¼Œé€‰æ‹©ä¸‹è½½å¯¹åº”çš„64-Bit Graphical
Installerå³å¯ã€‚

\hypertarget{ux4e0bux8f7danacondaux6e05ux534eux5927ux5b66ux955cux50cf}{%
\subsection{ä¸‹è½½Anacondaï¼ˆæ¸…åå¤§å­¦é•œåƒï¼‰}\label{ux4e0bux8f7danacondaux6e05ux534eux5927ux5b66ux955cux50cf}}

å¦‚æœè®¿é—®Anacondaå®˜ç½‘é€Ÿåº¦å¤ªæ…¢ï¼Œå¯ä»¥é‡‡ç”¨æ¸…åå¤§å­¦é•œåƒåœ°å€æ¥ä¸‹è½½ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¯¹äºWindowsç³»ç»Ÿï¼š
\end{enumerate}

\href{https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2023.07-2-Windows-x86_64.exe}{Anaconda3-2023.07-2-Windows-x86\_64.exe}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¯¹äºMacç³»ç»Ÿ(é‡‡ç”¨Mç³»åˆ—å¤„ç†å™¨)ï¼š
\end{enumerate}

\href{https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2023.07-2-MacOSX-arm64.pkg}{Anaconda3-2023.07-2-MacOSX-arm64.pkg)}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¯¹äºMacç³»ç»Ÿ(é‡‡ç”¨Intelå¤„ç†å™¨)ï¼š
\end{enumerate}

\href{https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2023.07-2-MacOSX-x86_64.pkg}{Anaconda3-2023.07-2-MacOSX-x86\_64.pkg}

\hypertarget{ux68c0ux67e5ux5b89ux88c5}{%
\subsection{æ£€æŸ¥å®‰è£…}\label{ux68c0ux67e5ux5b89ux88c5}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Windowsç³»ç»Ÿä¸‹ï¼Œä½ çš„å¼€å§‹èœå•ä¸­åº”è¯¥ä¼šå‡ºç°''Anaconda Prompt (anaconda3)''
\end{enumerate}

\includegraphics{images/Anaconda_icon.png}

å¯åŠ¨ä¼šåå‡ºç°ç»ˆç«¯ç•Œé¢ï¼Œå½“ä½ çœ‹åˆ°\texttt{(base)}å³å¯ï¼Œåç»­ä¼šè§£é‡Šã€‚

\includegraphics{images/terminal.png}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Macä¸‹ï¼Œå¯åŠ¨ä½ çš„ç»ˆç«¯ï¼ˆTerminalï¼‰ï¼Œä½ ä¼šçœ‹åˆ°ç›¸ä¼¼çš„ç•Œé¢ã€‚
\end{enumerate}

\hypertarget{ux5b89ux88c5visual-studio-code}{%
\section{å®‰è£…Visual Studio Code}\label{ux5b89ux88c5visual-studio-code}}

åŸºæœ¬ä¸Šæ˜¯å½“å‰æœ€å—æ¬¢è¿çš„ç¼–ç¨‹ç¼–è¾‘å™¨ä¹‹ä¸€ï¼Œå¯ä»¥è§†ä¸ºè®°äº‹æœ¬çš„æ›¿ä»£å“ã€‚

è¯·åœ¨å…¶\href{https://code.visualstudio.com/download}{å®˜æ–¹ç½‘ç«™}è¿›è¡Œä¸‹è½½ã€‚

\includegraphics[width=0.9\textwidth,height=\textheight]{images/vscode_download.png}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Windowsç³»ç»Ÿè¯·é€‰æ‹©``User Installer 64
  bit''ã€‚å®‰è£…ä¸­ç‚¹é€‰``é€šè¿‡Codeæ‰“å¼€\ldots''çš„ä¸¤ä¸ªé€‰é¡¹ã€‚
  å…¶ä½™åˆ™ä¸€ç›´ä¸‹ä¸€æ­¥å³å¯ã€‚
\end{enumerate}

\includegraphics[width=0.9\textwidth,height=\textheight]{images/vscode_install.png}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Macç³»ç»Ÿè¯·é€‰æ‹©``.zip
  Universal''ï¼Œä¸‹è½½è§£å‹åæŠŠ\texttt{.app}æ‹–åˆ°``åº”ç”¨ç¨‹åº''å³å¯ã€‚
\end{enumerate}

\hypertarget{ux5b89ux88c5pythonux6709ux5173ux63d2ux4ef6}{%
\subsection{å®‰è£…Pythonæœ‰å…³æ’ä»¶}\label{ux5b89ux88c5pythonux6709ux5173ux63d2ux4ef6}}

å¯åŠ¨vscodeï¼Œç‚¹å‡»å·¦ä¾§å·¥å…·æ çš„``æ’ä»¶æŒ‰é’®''ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…è¿™å‡ ä¸ªæ’ä»¶ï¼šï¼ˆå¦‚æœæ˜¯å¾®è½¯å‡ºå“çš„æ’ä»¶ï¼Œ
å¯ä»¥çœ‹åˆ°ä¸€ä¸ªè“è‰²åº•çš„âœ“æ ‡å¿—ä»¥åŠMicrosoftå­—æ ·ï¼‰ã€‚

è¯·é€ä¸€æœç´¢å¹¶å®‰è£…ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{Chinese\ (Simplified)}: vscodeçš„ä¸­æ–‡ç•Œé¢
\item
  \texttt{Python}: å¾®è½¯å‡ºå“çš„Pythonæ’ä»¶é›†åˆ
\item
  \texttt{Jupyter}ï¼šæˆ‘ä»¬åé¢è¦ç”¨åˆ°çš„Jupyteræ’ä»¶ï¼Œä¸€èˆ¬å·²ç»åŒ…æ‹¬åœ¨Pythonæ’ä»¶ä¸­ï¼Œå¦‚æœå·²ç»å­˜åœ¨ä¸ç”¨å†å®‰è£…ã€‚
\end{enumerate}

\includegraphics[width=0.6\textwidth,height=\textheight]{images/vscode_ui1.png}

è‡³æ­¤ï¼Œç¼–ç¨‹ç¯å¢ƒå·²ç»æ­å»ºå®Œæˆã€‚

\hypertarget{plusux8ba1ux7b97ux673aux7cfbux7edfux7684ux57faux672cux6982ux5ff5}{%
\chapter*{Plusï¼šè®¡ç®—æœºç³»ç»Ÿçš„åŸºæœ¬æ¦‚å¿µ}\label{plusux8ba1ux7b97ux673aux7cfbux7edfux7684ux57faux672cux6982ux5ff5}}
\addcontentsline{toc}{chapter}{Plusï¼šè®¡ç®—æœºç³»ç»Ÿçš„åŸºæœ¬æ¦‚å¿µ}

\markboth{Plusï¼šè®¡ç®—æœºç³»ç»Ÿçš„åŸºæœ¬æ¦‚å¿µ}{Plusï¼šè®¡ç®—æœºç³»ç»Ÿçš„åŸºæœ¬æ¦‚å¿µ}

\hypertarget{ux91cdux8981ux7ec4ux4ef6}{%
\section*{é‡è¦ç»„ä»¶}\label{ux91cdux8981ux7ec4ux4ef6}}
\addcontentsline{toc}{section}{é‡è¦ç»„ä»¶}

\markright{é‡è¦ç»„ä»¶}

\hypertarget{ux4e00ux822cux7684ux60c5ux5f62}{%
\subsection*{ä¸€èˆ¬çš„æƒ…å½¢}\label{ux4e00ux822cux7684ux60c5ux5f62}}
\addcontentsline{toc}{subsection}{ä¸€èˆ¬çš„æƒ…å½¢}

å’Œç¼–ç¨‹å¯†åˆ‡ç›¸å…³çš„è®¡ç®—æœºç»„ä»¶ï¼Œä¸å¾—ä¸æçš„æ˜¯è¿™3ä»¶ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä¸­å¤®å¤„ç†å™¨ï¼ˆCPUï¼‰
\item
  å†…å­˜ï¼ˆMemory/RAMï¼‰
\item
  ç¡¬ç›˜ï¼ˆHard Driveï¼‰
\end{enumerate}

CPUï¼šCPUçš„å·¥ä½œæ˜¯è¿›è¡Œè®¡ç®—ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œè€ƒè™‘ç”µè„‘è¿è¡Œå¤šå¿«ï¼Œé¦–å…ˆè€ƒè™‘çš„æ˜¯CPUå¿«ä¸å¿«ã€‚

å†…å­˜ï¼šå†…å­˜çš„ä»»åŠ¡æ˜¯å‚¨å­˜æ•°æ®ã€‚ç‰©ç†ä¸Šä¹Ÿæ˜¯ä¸€å—å—èŠ¯ç‰‡ã€‚ä½œä¸ºå‚¨å­˜ä»‹è´¨ï¼Œä¼˜ç‚¹æ˜¯é€Ÿåº¦é£å¿«ï¼ˆè™½ç„¶è¿˜ä¸æ˜¯æœ€å¿«çš„ï¼ŒCPUå†…éƒ¨çš„ç¼“å­˜cacheæ›´å¿«ï¼‰ï¼Œç¼ºç‚¹æ˜¯å®¹é‡ç›¸å¯¹è¾ƒå°‘ï¼Œå¹¶ä¸”æ–­ç”µä¹‹åæ•°æ®ä¸¢å¤±ã€‚è¿™ç§``å¿«é€Ÿã€å°å®¹é‡ã€æ–­ç”µä¸¢å¤±æ•°æ®''çš„å‚¨å­˜è£…ç½®ï¼Œåœ¨æ‰‹æœºçš„è¯­å¢ƒé‡Œå¯èƒ½ç§°ä¹‹ä¸º``è¿è¡Œå†…å­˜''ã€‚

æ¯”å¦‚æŸäº›ç¬”è®°æœ¬ç”µè„‘ï¼Œå¯èƒ½å†…å­˜ä¸€èˆ¬æ˜¯8Gæˆ–è€…16Gï¼›å®‰å“æ‰‹æœºæ¯”å¦‚çº¢ç±³K50æ˜¯8Gæˆ–è€…12Gï¼ŒiPhone
13æ˜¯4Gã€‚è€çš„å®éªŒå®¤çš„æ•™å¸ˆæœºçš„å†…å­˜æ˜¯4Gï¼Œå­¦ç”Ÿæœºçš„å†…å­˜æ˜¯\ldots{} ã€‚

ç¡¬ç›˜ï¼šç¡¬ç›˜çš„ä»»åŠ¡ä¹Ÿæ˜¯å­˜å‚¨æ•°æ®ï¼Œå’Œå†…å­˜ç›¸å¯¹ï¼Œä¼˜ç‚¹æ˜¯å®¹é‡å·¨å¤§ï¼Œå¹¶ä¸”æ–­ç”µåæ•°æ®ä¾ç„¶ä¿ç•™ï¼Œ
ä½†é€Ÿåº¦ç›¸å¯¹å†…å­˜å°±ä¼šæ…¢å¾ˆå¤šå¾ˆå¤šã€‚è¿™ç§``æ…¢é€Ÿã€å¤§å®¹é‡ã€æ–­ç”µä¿ç•™æ•°æ®''çš„è£…ç½®ï¼Œåœ¨æ‰‹æœºè¯­å¢ƒé‡Œå¯èƒ½ç§°ä¸º``é—ªå­˜''ã€‚

æ¯”å¦‚æœ‰äº›ç¬”è®°æœ¬ç”µè„‘ï¼Œç¡¬ç›˜å¤§æ¦‚512Gæˆ–è€…1Tï¼ˆ1024Gæˆ–è€…1000Gï¼Œçœ‹ç®—æ³•ï¼‰ï¼›å…¸å‹çš„å®‰å“æ‰‹æœºæ¯”å¦‚çº¢ç±³K50æ˜¯128Gæˆ–è€…256Gï¼ŒiPhone
13æœ‰64Gç‰ˆã€128Gç‰ˆç­‰ç­‰ã€‚

æ˜¾ç„¶ï¼Œå†…å­˜é€‚åˆçŸ­æ—¶é—´çš„ï¼Œåå¤è¯»å†™çš„æ•°æ®ã€‚ç¡¬ç›˜é€‚åˆé•¿æ—¶é—´ã€ä½†ä¸ç”¨åå¤è¯»å†™çš„æ•°æ®ä¿å­˜ã€‚

å¦‚æœä½ çœ‹åˆ°``16G + 1T''æˆ–è€…``8G + 256G''ï¼Œå¯ä»¥æ˜ç™½æŒ‡çš„æ˜¯ä»€ä¹ˆã€‚

\hypertarget{ux624bux673aux7684ux60c5ux5f62}{%
\subsection*{æ‰‹æœºçš„æƒ…å½¢}\label{ux624bux673aux7684ux60c5ux5f62}}
\addcontentsline{toc}{subsection}{æ‰‹æœºçš„æƒ…å½¢}

æ‰‹æœºçš„Soc(System on a
Chip)æœ‰äº›ç‰¹æ®Šï¼Œä¼šæŠŠcpuå’Œgpuï¼ˆå›¾å½¢å¤„ç†å™¨ï¼‰å’Œå…¶ä»–ä¸€ç³»åˆ—ç»„ä»¶ï¼Œå¦‚å†…å­˜æ§åˆ¶å™¨ï¼Œ5Gæ¨¡å—ç­‰ç­‰æ•´åˆåˆ°ä¸€ä¸ªèŠ¯ç‰‡ä¸­ã€‚æ¯”å¦‚é«˜é€šçš„éªé¾™ç³»åˆ—ï¼Œè‹¹æœçš„Aç³»åˆ—ï¼Œåˆšåˆšä¸Šæ–°é—»çš„åä¸ºçš„éº’éºŸ9000sï¼Œéƒ½æ˜¯Socçš„åç§°ã€‚

å› æ­¤ï¼Œä¸¥æ ¼æ¥è¯´ï¼Œæ‰‹æœºçš„cpuï¼ŒæŒ‡çš„æ˜¯Socé‡Œé¢çš„cpuæ¨¡å—ï¼Œæ¯”å¦‚éªé¾™8
Gen2çš„å¤§æ ¸Cortex-X3,å°æ ¸Cortex-A720ç­‰ç­‰ã€‚

\hypertarget{ux82f9ux679cux7684mux5904ux7406ux5668}{%
\subsection*{è‹¹æœçš„Må¤„ç†å™¨}\label{ux82f9ux679cux7684mux5904ux7406ux5668}}
\addcontentsline{toc}{subsection}{è‹¹æœçš„Må¤„ç†å™¨}

ç‰¹åˆ«çš„ï¼Œæœ€è¿‘2å¹´è‹¹æœç”µè„‘çš„Mç³»åˆ—èŠ¯ç‰‡ï¼Œæ˜¯ä»è‹¹æœæ‰‹æœºçš„Aç³»åˆ—èŠ¯ç‰‡å‘å±•è¿‡æ¥ï¼Œå› æ­¤M1ã€M2ç­‰å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªé›†æˆäº†ä¸€å †ä¸œè¥¿çš„Socã€‚

\hypertarget{ux4e2aux786cux4ef6ux5de5ux4f5cux7684ux57faux672cux6982ux5ff5}{%
\section*{3ä¸ªç¡¬ä»¶å·¥ä½œçš„åŸºæœ¬æ¦‚å¿µ}\label{ux4e2aux786cux4ef6ux5de5ux4f5cux7684ux57faux672cux6982ux5ff5}}
\addcontentsline{toc}{section}{3ä¸ªç¡¬ä»¶å·¥ä½œçš„åŸºæœ¬æ¦‚å¿µ}

\markright{3ä¸ªç¡¬ä»¶å·¥ä½œçš„åŸºæœ¬æ¦‚å¿µ}

æ‰“ä¸ªæ¯”æ–¹ï¼Œä½ è¦åšæŸæ ·å·¥ä½œï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å·¥ä½œçš„æ—¶å€™ï¼Œä½ å°±æ˜¯cpuï¼Œä½ å†³å®šäº†å·¥ä½œçš„é€Ÿåº¦ã€‚
\item
  ç¡¬ç›˜å°±åƒä½ çš„æŸœå­ï¼Œå·¨å¤§èƒ½è£…ï¼Œä½†æ‹¿ä¸œè¥¿ä¸æ–¹ä¾¿ï¼ˆæ¯”è¾ƒæ…¢ï¼‰ã€‚
\item
  å†…å­˜å°±åƒä½ çš„ä¹¦æ¡Œï¼Œé¢ç§¯æ¯”è¾ƒå°ï¼Œä½†ä½ åªèƒ½åœ¨ä¸Šé¢å·¥ä½œã€‚æ¡Œé¢çš„å¤§å°å†³å®šäº†ä½ ä¸€æ¬¡èƒ½å¹²å¤šå°‘æ´»ã€‚
\end{enumerate}

å·¥ä½œæ—¶å€™ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä½ ä¼šæŠŠæœ‰å…³çš„ææ–™ï¼Œä»æŸœå­é‡Œæ‹¿åˆ°ä¹¦æ¡Œä¸Š

  \begin{itemize}
  \tightlist
  \item
    CPUæŠŠæ•°æ®ä»ç¡¬ç›˜é‡Œè¯»åˆ°å†…å­˜ä¸­ï¼Œæ¯”å¦‚Loadä¸€ä¸ªæ¸¸æˆï¼Œæ‰“å¼€Wordå†™æ–‡æ¡£ã€‚
  \end{itemize}
\item
  ä½ åœ¨ä¹¦æ¡Œä¸Šå¼€å§‹ä½ çš„å·¥ä½œ

  \begin{itemize}
  \tightlist
  \item
    CPUå¼€å§‹è¿ç®—ï¼Œæ¯”å¦‚è®¡ç®—æ¸¸æˆè§’è‰²çš„è¡€é‡ï¼Œåœ¨Wordé‡Œå†™äº†ä¸€æ®µè¯
  \end{itemize}
\item
  å·¥ä½œå®Œæ¯•ï¼ŒæŠŠå·¥ä½œçš„ç»“æœæ”¾å›åˆ°æŸœå­é‡Œ

  \begin{itemize}
  \tightlist
  \item
    CPUæŠŠä¿¡æ¯ä»å†…å­˜ä¿å­˜å›åˆ°ç¡¬ç›˜ä¸­ã€‚æ¸¸æˆå’ŒWordæ–‡æ¡£éƒ½è¦å­˜ç›˜ã€‚
  \end{itemize}
\item
  ç„¶åæ¸…ç†æ¡Œé¢ï¼Œç•™å‡ºç©ºé—´ç»™ä¸‹ä¸€é¡¹å·¥ä½œã€‚

  \begin{itemize}
  \tightlist
  \item
    CPUæŠŠæœ‰å…³çš„å†…å­˜ç©ºé—´é‡Šæ”¾ï¼Œç•™ç»™å…¶ä»–ç¨‹åº
  \end{itemize}
\end{enumerate}

\hypertarget{ux673aux623fux7684ux7535ux8111}{%
\section*{æœºæˆ¿çš„ç”µè„‘}\label{ux673aux623fux7684ux7535ux8111}}
\addcontentsline{toc}{section}{æœºæˆ¿çš„ç”µè„‘}

\markright{æœºæˆ¿çš„ç”µè„‘}

é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆæœºæˆ¿çš„ç”µè„‘ç”¨èµ·æ¥é‚£ä¹ˆæ…¢ï¼Ÿ

CPUæ¯”è¾ƒæ—§ï¼Œæ›´é‡è¦çš„ï¼Œå†…å­˜éå¸¸å°ã€‚ï¼ˆå¯èƒ½åªæœ‰4Gï¼Œä½ çš„æ‰‹æœºåº”è¯¥ä¹Ÿæœ‰4Gèµ·æ­¥ï¼Œ8Gä¸ç®—å¤§ã€‚ï¼‰

ä½ çš„ä¹¦æ¡Œæˆ–è€…å·¥ä½œå°ï¼Œå¦‚æœé¢ç§¯å¾ˆå°ä¼šå¦‚ä½•ï¼Ÿ

ä½ æ¯æ¬¡åªèƒ½ä»æŸœå­é‡Œæ‹¿å‡ºä¸€ç‚¹ææ–™ï¼Œå¤„ç†ä¸€ç‚¹ï¼Œç„¶åæ”¾å›æŸœå­ï¼Œç„¶åæ‹¿å‡ºå…¶ä»–ææ–™åˆ°æ¡Œå­ä¸Šï¼Œ
ç„¶åå†å¤„ç†ï¼Œæ—¶é—´éƒ½èŠ±è´¹åå¤åœ°å†…å­˜å’Œç¡¬ç›˜è½¬ç§»æ•°æ®ä¹‹ä¸Šï¼Œå¹¶ä¸”æˆ‘ä»¬ä¹ŸçŸ¥é“ç¡¬ç›˜æœ¬èº«éå¸¸æ…¢ï¼Œ
æ¯”å†…å­˜æ…¢ä¸€ä¸ªæ•°é‡çº§ã€‚è¿™å°±å¯¼è‡´ä½ ç”¨ä¸€ä¸ªå†…å­˜ï¼ˆæ‰‹æœºçš„è¿è¡Œå†…å­˜ï¼‰å¾ˆå°çš„ç”µè„‘æˆ–è€…æ‰‹æœºï¼Œä¼šè§‰å¾—ç‰¹åˆ«å¡ã€‚

ï¼ˆæ³¨æ„ï¼šä¸Šè¿°æè¿°åªæ˜¯ä¸€ä¸ªæ¯”å–»ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ç”µè„‘çš„è¿ä½œåŸç†ã€‚ï¼‰

\hypertarget{pythonux7a0bux5e8fux7684ux6267ux884c}{%
\chapter{Pythonç¨‹åºçš„æ‰§è¡Œ}\label{pythonux7a0bux5e8fux7684ux6267ux884c}}

\hypertarget{ux4e00ux4e2apythonux7a0bux5e8fux662fux4ec0ux4e48}{%
\section{ä¸€ä¸ªPythonç¨‹åºæ˜¯ä»€ä¹ˆ}\label{ux4e00ux4e2apythonux7a0bux5e8fux662fux4ec0ux4e48}}

å†™ç¨‹åºï¼Œå°±æ˜¯ç”¨ä»£ç çš„æ–¹å¼ï¼Œå‘Šè¯‰è®¡ç®—æœºä½ è¦åšä»€ä¹ˆã€‚ä½†å¤„ç†å™¨å¬ä¸æ‡‚äººè¯ï¼Œå› æ­¤ä½ å¿…é¡»ç”¨è®¡ç®—æœºèƒ½æ‡‚çš„è¯­è¨€æ¥åšè¿™ä»¶äº‹ã€‚Pythonå°±æ˜¯ä¸€ç§è¿™æ ·çš„è¯­è¨€ã€‚

ä»»ä½•ä¸€ä¸ªç¨‹åºéƒ½æ˜¯ä¸€è¿ä¸²çš„æŒ‡ä»¤ï¼Œå†™ä¸€ä¸ªç¨‹åºï¼Œå°±æ˜¯å†™ä¸€è¿ä¸²çš„æŒ‡ä»¤ã€‚é‚£ä¹ˆä¸€ä¸ªPythonç¨‹åºï¼Œå°±å†™ä¸€è¿ä¸²çš„PythonæŒ‡ä»¤ã€‚

ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šæŠŠè¿™äº›æŒ‡ä»¤ä¿å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶åçš„åç¼€ï¼ˆæ‰©å±•åï¼‰æ˜¯\texttt{.py}çš„æ–‡æœ¬æ–‡ä»¶é‡Œã€‚è¿™ä¸ªæ–‡ä»¶å°±æœ‰ç‚¹åƒä½ æŠŠä¸€ä¸ªä½ å‘æ˜çš„èœè°±å†™è¿›ä¸€ä¸ªwordæ–‡æ¡£é‡Œï¼Œç„¶åäº¤ç»™å¦ä¸€ä¸ªäººï¼Œä»–å¯ä»¥æŒ‰ä½ åœ¨èœè°±çš„è¯´æ˜ï¼Œä¸€æ¡æ¡å¾€ä¸‹åšï¼Œæœ€ç»ˆæŠŠèœåšå‡ºæ¥ã€‚

ä½ åœ¨ä¸€ä¸ª\texttt{.py}æ–‡ä»¶é‡Œï¼Œå†™å‡ºä¸€è¿ä¸²çš„æŒ‡ä»¤ï¼Œç„¶åäº¤ç»™Pythonçš„è§£é‡Šå™¨ï¼ˆInterpreterï¼‰ï¼ˆå¦‚æœä½ å®‰è£…äº†Anacondaï¼Œå°±ä¼šæœ‰è¿™ä¸ªä¸œè¥¿ï¼‰ï¼Œè§£é‡Šå™¨ä¼šæŒ‰ä½ åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œå†™çš„æŒ‡ä»¤ï¼Œä¸€æ¡ä¸€æ¡å¾€ä¸‹è¿è¡Œï¼Œæœ€ç»ˆæŠŠå†™çš„ç¨‹åºæ‰§è¡Œå®Œï¼Œç»™ä½ æœ€ç»ˆçš„ç»“æœã€‚

æˆ‘ä»¬æŠŠè¿™ä¸ªèœè°±ï¼ˆå¯¹äºPythonå°±æ˜¯\texttt{.py}æ–‡ä»¶ï¼‰ï¼Œç§°ä¹‹ä¸º``æºä»£ç ï¼ˆsource
codeï¼‰''ã€‚æˆ‘ä»¬ç¼–ç¨‹çš„æ—¶å€™ï¼Œå¤šæ•°æƒ…å†µä¸‹ï¼Œå°±æ˜¯åœ¨ç¼–å†™ï¼ˆæˆ–è€…ä¸€è¾¹å†™ä¸€è¾¹è¿è¡Œï¼‰è¿™ä¸ª\texttt{.py}æ–‡ä»¶ï¼ˆæ•°æ®åˆ†æçš„æ—¶å€™å¸¸ç”¨notebookæ ¼å¼çš„æ–‡ä»¶ï¼Œåé¢ä¼šè®²åˆ°ï¼‰ã€‚

è¿™ä¸ªæ–‡ä»¶æœ¬è´¨ä¸Šä¸€ä¸ª\texttt{.txt}æ–‡ä»¶æ²¡ä»€ä¹ˆä¸åŒï¼Œéƒ½å¯ä»¥ç”¨ä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¾‹å¦‚ä½ ç”µè„‘é‡Œçš„``è®°äº‹æœ¬''ï¼Œä»¥åŠæˆ‘ä»¬å‰é¢å®‰è£…çš„vscodeï¼‰æ‰“å¼€å’Œç¼–è¾‘ã€‚

å› æ­¤ï¼Œæ‰€è°“çš„ç¼–ç¨‹å°±æ˜¯ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç”¨ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¦‚æˆ‘ä»¬åé¢ç”¨çš„vscodeï¼ˆæˆ–è€…ä¸€ä¸ªé›†æˆç¼–ç¨‹ç¯å¢ƒå¦‚PyCharmï¼‰ï¼Œç¼–è¾‘ä¸€ä¸ª\texttt{.py}æ–‡ä»¶
\item
  æŠŠä½ è¦çš„ä»£ç å†™è¿›å»ã€‚
\item
  ç”¨ä¸åŒçš„æ–¹æ³•å»æ‰§è¡Œè¿™ä¸ªæ–‡ä»¶é‡Œä»£ç ã€‚å¯èƒ½æ˜¯åœ¨ç³»ç»Ÿé‡Œä¸€æ¬¡æ€§æ‰§è¡Œæ•´ä¸ªæ–‡ä»¶é‡Œæ‰€æœ‰ä»£ç ï¼Œä¹Ÿå¯èƒ½æ˜¯åœ¨ä¸€ä¸ªäº¤äº’ç¯å¢ƒé‡Œä¸€æ­¥ä¸€æ­¥åœ°æ‰§è¡Œã€‚
\item
  å¾ªç¯2å’Œ3ï¼Œç›´åˆ°å¾—åˆ°ä½ æ»¡æ„çš„ç»“æœã€‚
\end{enumerate}

\hypertarget{ext_name}{%
\subsection{é¢„å¤‡çŸ¥è¯†ï¼šæ‰©å±•åå’Œæ–‡ä»¶ç±»å‹}\label{ext_name}}

ç”¨äºè¡¨ç¤ºæŸä¸ªæ–‡ä»¶æ˜¯ä»€ä¹ˆç±»å‹ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šçœ‹æ–‡ä»¶åçš„æœ€åä¸€ä¸ªè‹±æ–‡\texttt{.}ä»¥åŠä¹‹åçš„å†…å®¹ã€‚

\textbf{æ³¨æ„}ï¼šè¿™é‡Œåªæ˜¯è®¨è®ºä¸€èˆ¬çš„æƒ…å†µã€‚æ‰©å±•åä¹Ÿæ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œæ‰€ä»¥æœªå¿…å’Œå®é™…çš„æ–‡ä»¶ç±»å‹ä¸€è‡´ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä¸€ä¸ªæ–‡ä»¶ï¼Œå…¶åä¸º\texttt{WINWORD.EXE}ï¼Œå…¶æ‰©å±•åä¸º\texttt{.exe}ï¼ˆWindowsç³»ç»Ÿå’ŒMacç³»ç»Ÿçš„æ–‡ä»¶åä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†ä¸€èˆ¬å»ºè®®è¿˜æ˜¯è€ƒè™‘å¤§å°å†™é—®é¢˜ï¼‰ï¼Œåˆ™æ„å‘³ç€è¿™æ˜¯ä¸€ä¸ª``Windowsç³»ç»Ÿçš„å¯æ‰§è¡Œæ–‡ä»¶''ã€‚è¿™å®é™…ä¸Šæ˜¯å¾®è½¯Windowsç‰ˆæœ¬officeä¸­çš„Wordçš„ä¸»ç¨‹åºã€‚æˆ‘ä»¬ï¼ˆåœ¨windowsä¸‹ï¼‰å¸¸è¯´çš„``è¿è¡Œä¸€ä¸ªç¨‹åº''ï¼Œå°±æ˜¯æ‰§è¡Œä¸€ä¸ªexeæ–‡ä»¶ã€‚
\item
  ä¸€ä¸ªæ–‡ä»¶ï¼Œå…¶åä¸º\texttt{é²è¿…å…¨é›†.txt}ï¼Œå…¶æ‰©å±•åä¸º\texttt{.txt}ï¼Œåˆ™æ„å‘³ç€è¿™æ˜¯ä¸€ä¸ª``çº¯æ–‡æœ¬æ–‡ä»¶''ï¼Œå…¶ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½å¯ä»¥è§†ä¸ºæ–‡å­—ï¼Œå¯ä»¥ç”¨ä»»ä½•ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä¾‹å¦‚è®°äº‹æœ¬ï¼Œæˆ–è€…Wordæ‰“å¼€ã€‚
\item
  å…¶ä»–æ‰©å±•åï¼Œå¦‚\texttt{.jpg}æ˜¯å¸¸è§çš„å›¾å½¢æ–‡ä»¶ï¼Œ\texttt{.docx}æ˜¯2007ç‰ˆæœ¬ä»¥åçš„Wordæ–‡æ¡£ï¼Œç­‰ç­‰ç­‰ç­‰ã€‚
\end{enumerate}

\hypertarget{ux91cdux8981windowsux4e0bux6b63ux786eux663eux793aux6587ux4ef6ux7684ux6269ux5c55ux540d}{%
\subsection{ï¼ˆé‡è¦ï¼‰Windowsä¸‹æ­£ç¡®æ˜¾ç¤ºæ–‡ä»¶çš„æ‰©å±•å}\label{ux91cdux8981windowsux4e0bux6b63ux786eux663eux793aux6587ux4ef6ux7684ux6269ux5c55ux540d}}

é»˜è®¤æƒ…å†µä¸‹ï¼Œwindowsç³»ç»Ÿä¼šå› æ­¤å·²çŸ¥æ–‡ä»¶ç±»å‹çš„æ‰©å±•åï¼Œæˆ‘ä»¬è¦æŠŠæ–‡ä»¶å®Œæ•´åœ°æ˜¾ç¤ºå‡ºæ¥ï¼Œéœ€è¦ä¿®æ”¹ä¸€ä¸ªè®¾ç½®ã€‚

åœ¨å¼€å§‹èœå•ï¼Œæœç´¢``æ–‡ä»¶èµ„æºç®¡ç†å™¨é€‰é¡¹'' -\textgreater{} ``æŸ¥çœ‹''é¡µé¢
-\textgreater{} å»æ‰``éšè—å·²çŸ¥æ–‡ä»¶ç±»å‹çš„æ‰©å±•å''å‰é¢çš„å‹¾é€‰ã€‚

\includegraphics[width=0.8\textwidth,height=\textheight]{images/æ˜¾ç¤ºæ‰©å±•å.png}

è¿™æ ·ï¼Œåœ¨ä½ çš„èµ„æºç®¡ç†å™¨ä¸­ï¼Œæ˜¾ç¤ºæ–‡ä»¶çš„æ—¶å€™å°±ä¼šæ˜¾ç¤ºæ–‡ä»¶å…¨åã€‚

\hypertarget{python_interactive}{%
\section{Pythonçš„äº¤äº’å¼ç¯å¢ƒ}\label{python_interactive}}

æˆ‘ä»¬å…ˆé‡‡ç”¨æœ€åŸºæœ¬çš„Pythonçš„äº¤äº’å¼ç¯å¢ƒï¼Œç»™å¤§å®¶ä¸€ç‚¹è¿è¡Œç¨‹åºçš„æ„Ÿè§‰ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¯åŠ¨Anaconda Promptã€‚ï¼ˆç”¨Macçš„åŒå­¦ï¼Œå¯åŠ¨ç»ˆç«¯terminalï¼‰
\end{enumerate}

\includegraphics{images/Anaconda_icon.png}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  æˆ‘ä»¬ä¼šçœ‹åˆ°å‘½ä»¤è¡Œçª—å£
\end{enumerate}

\includegraphics{images/terminal.png}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  è¾“å…¥\texttt{python\ \textless{}å›è½¦\textgreater{}}ï¼Œæˆ‘ä»¬å¯ä»¥è¿›å…¥pythonçš„äº¤äº’å¼è¿è¡Œç¯å¢ƒã€‚
\end{enumerate}

è¿™ä¸ªå‘½ä»¤ä¼šå¯åŠ¨æˆ‘ä»¬æ‰€è¯´çš„Pythonçš„è§£é‡Šå™¨ï¼šä½ åœ¨å…¶ä¸­è¾“å…¥Pythonè¯­å¥ï¼Œä¼šè¢«è§£é‡Šå™¨ç¿»è¯‘æˆç”µè„‘å¬å¾—åˆ°çš„æœºå™¨ä»£ç ã€‚

{\textbf{æ³¨æ„ï¼š}}
å…¶ä¸­çš„å‘½ä»¤æç¤ºç¬¦\texttt{\textgreater{}\textgreater{}\textgreater{}}ã€‚ä¸‰ä¸ªå³ä¾§å°–æ‹¬å·ï¼Œè¡¨ç¤º\textbf{æˆ‘ä»¬æ­£å¤„äºpythonçš„äº¤äº’å¼ç¯å¢ƒä¸­}ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æ‰§è¡Œpythonçš„è¯­å¥ã€‚

åŒæ—¶å¯è§æˆªå›¾ä¸­çš„Pythonçš„ç‰ˆæœ¬ä¸º3.9.5ï¼Œä½ å®‰è£…çš„ç‰ˆæœ¬åº”è¯¥ä¼šæ›´é«˜ã€‚

\includegraphics{images/python-interactive.png}

\hypertarget{ux7b80ux5355ux7684ux7f16ux7a0bux8ba1ux7b971-2}{%
\subsection{ç®€å•çš„ç¼–ç¨‹ï¼šè®¡ç®—1 +
2}\label{ux7b80ux5355ux7684ux7f16ux7a0bux8ba1ux7b971-2}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æˆ‘ä»¬ä¾æ¬¡è¾“å…¥ï¼ˆæ¯è¡Œä»£ç ä»¥ç»“æŸï¼‰
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{\textgreater{}\textgreater{}\textgreater{}}\NormalTok{ a }\OperatorTok{=} \DecValTok{1}
\OperatorTok{\textgreater{}\textgreater{}\textgreater{}}\NormalTok{ b }\OperatorTok{=} \DecValTok{2}
\OperatorTok{\textgreater{}\textgreater{}\textgreater{}}\NormalTok{ c }\OperatorTok{=}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b }
\OperatorTok{\textgreater{}\textgreater{}\textgreater{}} \BuiltInTok{print}\NormalTok{(c)}
\end{Highlighting}
\end{Shaded}

æ˜¾ç„¶ï¼Œ1+2å¿…ç„¶å¾—åˆ°

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{3}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  ç»“æœå¤§è‡´å¦‚å›¾
\end{enumerate}

\includegraphics{images/basic_add.png}

{\textbf{æ³¨æ„ï¼š}}

\begin{itemize}
\tightlist
\item
  æ— æ³•å¾—åˆ°ç»“æœ\texttt{3}ï¼Œé¦–å…ˆæ£€æŸ¥æœ‰æ²¡æœ‰\textbf{è¾“å…¥é”™è¯¯ï¼ˆæ‰“é”™å­—ï¼‰}ã€‚
\item
  \texttt{print(c)}ä¸­çš„å°æ‹¬å·ï¼Œæ˜¯è‹±æ–‡æ‹¬å·ã€‚åœ¨è¯­æ³•å±‚é¢ä¸Šçš„æ‰€æœ‰ç¬¦å·ï¼Œéƒ½æ˜¯\textbf{è‹±æ–‡ç¬¦å·}ã€‚
\item
  å¦‚æœè¾“å…¥çš„ä»£ç æœ‰è¯¯ï¼Œå·²ç»æ•²äº†å›è½¦ï¼Œåªè¦æŠŠæ­£ç¡®ä»£ç çš„å†è¾“å…¥ä¸€æ¬¡å³å¯ã€‚
\end{itemize}

\hypertarget{ux4e0aux8ff0ux7a0bux5e8fux4e2dux6d89ux53caux7684ux4e00ux4e9bux6982ux5ff5}{%
\subsection{ä¸Šè¿°ç¨‹åºä¸­æ¶‰åŠçš„ä¸€äº›æ¦‚å¿µ}\label{ux4e0aux8ff0ux7a0bux5e8fux4e2dux6d89ux53caux7684ux4e00ux4e9bux6982ux5ff5}}

è¿™ä¸ªæ¶‰åŠç¨‹åºè®¾è®¡çš„å‡ ä¸ªåŸºæœ¬æ¦‚å¿µï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å˜é‡å’Œèµ‹å€¼
\end{enumerate}

å˜é‡ï¼Œé¡¾åæ€ä¹‰ï¼Œä¸€ä¸ªå¯å˜çš„é‡ã€‚ç¼–ç¨‹ä¸­å˜é‡çš„æ¦‚å¿µå’Œä»£æ•°ä¸­çš„\texttt{x},
\texttt{y}, \texttt{z}åŸºæœ¬ä¸€æ ·ã€‚ Pythonä¸­ï¼Œå¯¹å˜é‡èµ‹å€¼ä½¿ç”¨1ä¸ªç­‰å·
``\texttt{=}''ã€‚ æ˜¾ç„¶ï¼Œ æˆ‘ä»¬æœ‰3ä¸ªå˜é‡ï¼Œ\texttt{a},
\texttt{b}å’Œ\texttt{c}ã€‚æˆ‘ä»¬æŠŠ\texttt{1}èµ‹äºˆ\texttt{a}ï¼Œ\texttt{2}èµ‹äºˆ\texttt{b}ï¼ŒæŠŠ\texttt{a\ +\ b}çš„å€¼èµ‹äºˆ\texttt{c}ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  è¿ç®—ç¬¦
\end{enumerate}

åŠ å‡ä¹˜é™¤ï¼Œä»¥åŠé€»è¾‘è¿ç®—å¦‚æ˜¯å¦ç­‰äºï¼Œå¤§äºï¼Œå°äºç­‰ï¼Œæˆ‘ä»¬ä»¥åä¼šç”¨åˆ°ã€‚è¿™é‡Œåªç”¨åˆ°``åŠ æ³•''

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  å‡½æ•°
\end{enumerate}

å’Œæ•°å­¦å‡½æ•°ä¸€æ ·ï¼Œæˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œç»™è¿™ä¸ªå‡½æ•°ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œç„¶åè¿™ä¸ªå‡½æ•°ä¼šæ ¹æ®è¿™ä¸ªå‚æ•°åšä¸€äº›äº‹æƒ…ã€‚å¯èƒ½æ˜¯ä¸ºä½ è¿›è¡Œä¸€ä¸ªè®¡ç®—ï¼Œå¯èƒ½ä¿®æ”¹æŸä¸ªå˜é‡ç­‰ç­‰ï¼Œä¹Ÿå¯èƒ½ä»€ä¹ˆéƒ½ä¸åšã€‚

è¿™é‡Œæˆ‘ä»¬è°ƒç”¨çš„å‡½æ•°æ˜¯\texttt{print()}ï¼Œè¿™ä¸ªå‡½æ•°çš„ç”¨é€”æ˜¯æŠŠä½ ä¼ é€’ç»™ä»–çš„å˜é‡\texttt{c}çš„å€¼æ‰“å°å‡ºæ¥ã€‚å‡½æ•°çš„è°ƒç”¨æ–¹æ³•æ˜¯å‡½æ•°åä¸å°æ‹¬å·ã€‚

\textbf{æ•°æ®åˆ†æçš„ç¨‹åºï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹å¯ä»¥è§†ä¸ºç”±å˜é‡å’Œå‡½æ•°ç»„æˆã€‚}

\hypertarget{ux9000ux51faux8fd0ux884cux73afux5883}{%
\subsection{é€€å‡ºè¿è¡Œç¯å¢ƒ}\label{ux9000ux51faux8fd0ux884cux73afux5883}}

è¾“å…¥\texttt{exit()}ï¼Œç„¶åå›è½¦å³å¯ã€‚

å¯è§ï¼Œ\texttt{exit}æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆå‡½æ•°å+å°æ‹¬å·ï¼‰ï¼Œå…¶è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯é€€å‡ºPythonäº¤äº’å¼è¿è¡Œç¯å¢ƒã€‚

{\textbf{æ³¨æ„ï¼š}}ä¸€å®šè¦é€€å‡ºï¼Œä»¥ä¾¿åç»­çš„ç¨‹åºèƒ½æ‰§è¡Œã€‚

æ­¤æ—¶ï¼Œæˆ‘ä»¬åˆå›åˆ°äº†ä¸€å¼€å§‹çš„å‘½ä»¤è¡Œï¼ˆç»ˆç«¯ï¼‰ç¯å¢ƒä¸­

å¯è§ï¼Œå‘½ä»¤æç¤ºç¬¦ç°åœ¨æ˜¯ä¸€ä¸ª\texttt{\textgreater{}}ï¼Œè¿™æç¤ºæˆ‘ä»¬æ­£å¤„äºç³»ç»Ÿçš„å‘½ä»¤è¡Œç¯å¢ƒä¸­

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¯ä»¥æ‰§è¡Œç³»ç»Ÿä¸­çš„å‘½ä»¤ï¼Œä½†ä¸èƒ½æ‰§è¡Œpythonä¸­çš„è¯­å¥ï¼
\item
  è¦è¿›è¡Œäº¤äº’å¼çš„pythonç¼–ç¨‹ï¼Œè¦é¦–å…ˆè¿›å…¥\protect\hyperlink{python_interactive}{Pythonçš„äº¤äº’å¼ç¯å¢ƒ}ä¸­ï¼
\end{enumerate}

\hypertarget{ux8865ux5145ux8defux5f84}{%
\section{è¡¥å……ï¼šè·¯å¾„}\label{ux8865ux5145ux8defux5f84}}

\hypertarget{path}{%
\subsection{è·¯å¾„Path}\label{path}}

\emph{ä½ çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼ˆç›®å½•ï¼‰ï¼Œåˆ°åº•ä¿å­˜åˆ°äº†å“ªé‡Œï¼Ÿ}

æ‰€è°“è·¯å¾„(path)ï¼Œåˆ°è¾¾æŸä¸ªæ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼ˆç›®å½•ï¼‰çš„å±‚çº§ç»“æ„ï¼Œæ¯ä¸€å±‚ç”¨ä¸€ä¸ªæ–œæ ``\texttt{/}''åˆ†å‰²ã€‚

åœ¨å‘½ä»¤è¡Œï¼ˆç»ˆç«¯ï¼‰ç¯å¢ƒä¸‹ï¼Œåœ¨å‘½ä»¤æç¤ºç¬¦\texttt{\textgreater{}}ä¹‹å‰ï¼Œä¸€èˆ¬ä¼šæœ‰æç¤ºä½ å½“å‰è·¯å¾„ï¼Œå³å½“å‰ä½ å¤„äºå“ªä¸ªç›®å½•ä¸‹ã€‚

ä¾‹å¦‚
\texttt{C:\textbackslash{}Users\textbackslash{}lee}ï¼ŒæŒ‡çš„å°±æ˜¯ï¼Œåœ¨ä½ çš„\texttt{C}ç›˜ä¸‹ï¼Œ\texttt{Users}ç›®å½•ä¸‹ï¼Œçš„\texttt{lee}ç›®å½•ã€‚

{\textbf{æ³¨æ„}}
{\textbf{æ³¨æ„ï¼š}}åœ¨ä½ çš„ç”µè„‘ä¸Šï¼Œè¿™é‡Œçš„\texttt{lee}ä¼šæ›¿æ¢ä¸ºä½ çš„ç”¨æˆ·å

è¿™æ ·ï¼Œä½ è¾“å…¥çš„ä»»ä½•å‘½ä»¤ï¼Œéƒ½ä¼šå¯¹``å½“å‰è·¯å¾„''ç”Ÿæ•ˆã€‚

åŒæ ·ï¼Œè·¯å¾„æ—¢å¯ä»¥æŒ‡å‘ä¸€ä¸ªç›®å½•ï¼ˆæ–‡ä»¶å¤¹ï¼‰ï¼Œä¹Ÿå¯ä»¥æŒ‡å‘ä¸€ä¸ªæ–‡ä»¶ã€‚

å¦‚\texttt{C:\textbackslash{}Users\textbackslash{}lee\textbackslash{}add.py}ï¼Œå°±æŒ‡çš„æ˜¯ï¼Œåœ¨ä½ çš„\texttt{C}ç›˜ä¸‹çš„\texttt{Users}ç›®å½•ä¸‹çš„\texttt{lee}ç›®å½•ä¸‹çš„ä¸€ä¸ªå«\texttt{add.py}çš„æ–‡ä»¶ã€‚

\hypertarget{ux76f8ux5bf9ux8defux5f84ux548cux7eddux5bf9ux8defux5f84}{%
\subsection{ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„}\label{ux76f8ux5bf9ux8defux5f84ux548cux7eddux5bf9ux8defux5f84}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç»å¯¹è·¯å¾„ï¼šä»æ ¹ç›®å½•ï¼ˆwindowsä¸‹å³ä¸€ä¸ªç›˜ç¬¦ï¼Œå¦‚cç›˜æˆ–è€…dç›˜ï¼‰å¼€å§‹çš„è·¯å¾„ï¼Œå¯ä»¥ç¡®å®šæ— ç–‘åœ°æŒ‡å‘æŸä¸ªæ–‡ä»¶æˆ–è€…ç›®å½•ã€‚å¦‚\texttt{C:\textbackslash{}Users\textbackslash{}lee\textbackslash{}add.py}ã€‚
\item
  ç›¸å¯¹è·¯å¾„ï¼šä¸ä»æ ¹ç›®å½•èµ·å§‹çš„è·¯å¾„ã€‚å…¶æŒ‡å‘çš„ç›®çš„åœ°ï¼Œä»ä½ çš„``å½“å‰è·¯å¾„''å¼€å§‹ï¼Œå¾€ä¸‹æ•°ã€‚
\end{enumerate}

å‡å¦‚ï¼Œä½ çš„å½“å‰è·¯å¾„æ˜¯\texttt{C:\textbackslash{}Users}ï¼Œé‚£ä¹ˆæ­¤æ—¶ï¼Œç›¸å¯¹è·¯å¾„\texttt{lee\textbackslash{}add.py}ï¼Œæ‰€æŒ‡å‘çš„ï¼Œå°±æ˜¯å½“å‰è·¯å¾„ä¸‹ï¼ˆ\texttt{C:\textbackslash{}Users}ï¼‰ï¼Œ\texttt{lee}ç›®å½•ä¸‹çš„\texttt{add.py}ã€‚è¿™ä¹Ÿç­‰ä»·äºç»å¯¹è·¯å¾„\texttt{C:\textbackslash{}Users\textbackslash{}lee\textbackslash{}add.py}ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  ä¸¤è€…çš„åŒºåˆ«ï¼šç»å¯¹è·¯å¾„ä»æ ¹ç›®å½•å¼€å§‹ï¼Œç›¸å¯¹è·¯å¾„ä»``å½“å‰è·¯å¾„''å¼€å§‹ã€‚
\end{enumerate}

\hypertarget{ux8fdbux5165ux67d0ux4e2aux76eeux5f55}{%
\subsection{è¿›å…¥æŸä¸ªç›®å½•}\label{ux8fdbux5165ux67d0ux4e2aux76eeux5f55}}

Windowså‘½ä»¤è¡Œï¼Œå’ŒMacçš„ç»ˆç«¯ï¼Œæœ‰ç›¸åŒçš„å‘½ä»¤\texttt{cd\ \textless{}è·¯å¾„\textgreater{}}ï¼Œå¯ä»¥è¿›å…¥ä¸€ä¸ªç›®å½•ã€‚

å¦‚ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼ˆå¹¶å›è½¦ï¼‰æ³¨æ„è¿™é‡Œä½¿ç”¨çš„æ˜¯ç»å¯¹è·¯å¾„

\begin{verbatim}
cd C:/Users 
\end{verbatim}

åˆ™ä¼šè®©ç»ˆç«¯è¿›å…¥åˆ° \texttt{C:/Users}
ç›®å½•ä¸‹ã€‚è§æç¤ºç¬¦\texttt{\textgreater{}}å‰æ–¹çš„``å½“å‰è·¯å¾„''å·²ç»æ”¹å˜ä¸º\texttt{C:/Users}ã€‚ä½ ç°åœ¨å·²ç»ä½äº\texttt{C:/Users}
ç›®å½•ã€‚

å°è¯•ç›¸å¯¹è·¯å¾„ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼ˆå¹¶å›è½¦ï¼‰ï¼Œæ³¨æ„è¿™é‡Œçš„\texttt{lee}ï¼Œè¯·æ›¿æ¢æˆä½ çš„ç”¨æˆ·åã€‚

\begin{verbatim}
cd lee
\end{verbatim}

åˆ™ä¼šè®©ç»ˆç«¯è¿›å…¥åˆ° \texttt{C:/Users/lee}
ç›®å½•ä¸‹ã€‚è§æç¤ºç¬¦\texttt{\textgreater{}}å‰æ–¹çš„``å½“å‰è·¯å¾„''å·²ç»æ”¹å˜ä¸º\texttt{C:/Users/lee}ã€‚ä½ ç°åœ¨å·²ç»ä½äº\texttt{C:/Users/lee}
ç›®å½•ã€‚

å…¶ä»–ç”¨æ³•åŒ…æ‹¬ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¿›å…¥ä¸Šä¸€çº§ç›®å½•
\end{enumerate}

\begin{verbatim}
cd ..
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  è¿›å…¥æ ¹ç›®å½•
\end{enumerate}

\begin{verbatim}
cd /
\end{verbatim}

å¯ä»¥è®©ä½ åœ¨å‘½ä»¤è¡Œå’Œç»ˆç«¯ä¸­ï¼Œå®šä½åˆ°ä½ æƒ³è¦çš„ç›®å½•å’Œæ–‡ä»¶ã€‚

\hypertarget{use_win}{%
\subsection{ç”¨Windowså›¾å½¢ç•Œé¢è·å¾—è·¯å¾„}\label{use_win}}

åœ¨ä½ çš„windowsèµ„æºç®¡ç†å™¨ï¼ˆä¿—ç§°``æˆ‘çš„ç”µè„‘''ï¼‰ï¼Œåœ¨ä»»ä½•ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œç‚¹å‡»åœ°å€æ 

ä½ å°±å¯ä»¥å¾—åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹çš„è·¯å¾„ï¼Œå¯ä»¥ç²˜è´´åˆ°å‘½ä»¤è¡Œä¸­ã€‚

{\textbf{ç‰¹åˆ«æ³¨æ„ï¼šæ­£åæ–œæ é—®é¢˜}}

åœ¨ç¼–ç¨‹çš„è¯­å¢ƒä¸‹ï¼Œåæ–œæ ``\texttt{\textbackslash{}}''æœ‰ç‰¹æ®Šç”¨é€”ã€‚å› æ­¤ï¼Œè¡¨ç¤ºè·¯å¾„çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»Ÿä¸€ç”¨ï¼ˆæ­£ï¼‰æ–œæ ``\texttt{/}''ï¼Œè€Œä¸ç”¨åæ–œæ ``\texttt{\textbackslash{}}''ã€‚

ç»Ÿä¸€çš„å†™æ³•ï¼Œå¦‚\texttt{C:/Users/lee}

\hypertarget{ux5217ux76eeux5f55}{%
\subsection{åˆ—ç›®å½•}\label{ux5217ux76eeux5f55}}

åˆ—ç›®å½•çš„å‘½ä»¤ï¼ŒWindowsçš„å‘½ä»¤è¡Œä¸­ä¸º\texttt{dir}ï¼ŒMacä¸­ä¸º\texttt{ls}ã€‚åŒå­¦ä»¬å¯ä»¥æ‰§è¡Œå°è¯•ã€‚

\hypertarget{ux4f7fux7528visual-studio-code}{%
\chapter{ä½¿ç”¨Visual Studio Code}\label{ux4f7fux7528visual-studio-code}}

æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥åœ¨å‘½ä»¤è¡Œç•Œé¢è¿›è¡Œç¼–ç¨‹ï¼Œ è€Œä¼šåˆ©ç”¨ä¸€ä¸ªé›†æˆç¼–ç¨‹ç¯å¢ƒï¼ˆIDEï¼‰ï¼Œ
ä¸ºæˆ‘ä»¬æä¾›æ–‡ä»¶ç®¡ç†ã€è¯­æ³•æç¤ºã€è‡ªåŠ¨è¡¥å…¨ç­‰ç­‰åŠŸèƒ½ã€‚
Pythonç¼–ç¨‹æµè¡Œçš„IDEæœ‰PyCharmï¼Œä»¥åŠæˆ‘ä»¬ç°åœ¨è¦ç”¨çš„vscodeæ–‡å­—ç¼–è¾‘å™¨+Pythonç›¸å…³æ’ä»¶ã€‚

è¿™äº›é›†æˆç¼–è¾‘ç¯å¢ƒï¼Œé€šå¸¸ä¼šæŠŠ.pyæ–‡ä»¶çš„ç¼–è¾‘å’Œpythonçš„äº¤äº’ç¯å¢ƒç»“åˆèµ·æ¥ï¼Œè®©æˆ‘ä»¬ä¸€è¾¹ç¼–è¾‘pyæ–‡ä»¶çš„åŒæ—¶ï¼Œä¸€è¾¹æ‰§è¡Œä»£ç å¹¶æŸ¥çœ‹ç»“æœã€‚æ•°æ®åˆ†æå®Œæ¯•æ—¶ï¼Œä»£ç åŒæ—¶ä¹Ÿå†™æˆäº†ã€‚

\hypertarget{ux4ee3ux7801ux7684ux5b58ux653e}{%
\section{ä»£ç çš„å­˜æ”¾}\label{ux4ee3ux7801ux7684ux5b58ux653e}}

åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œé€‰æ‹©ä¸€ä¸ªå­˜æ”¾ä»£ç ç­‰ç­‰æœ‰å…³æ–‡ä»¶çš„æ–‡ä»¶å¤¹ã€‚
ä¸ºäº†ä¾¿äºæ¼”ç¤ºï¼Œè¿™é‡Œé€‰æ‹©åœ¨æ¡Œé¢ä¸Šæ–°å»ºä¸€ä¸ª``python\_class''çš„æ–‡ä»¶å¤¹ï¼Œ
ä½œä¸ºæœ¬è¯¾ç¨‹æœ‰å…³ä»£ç çš„å­˜æ”¾åœ°ç‚¹ã€‚

ä½†ä¸€èˆ¬å»ºè®®é€‰æ‹©ä¸€ä¸ªæ¯”è¾ƒå¥½çš„ç›®å½•ï¼Œæ¯”å¦‚ä½ å¯èƒ½æœ‰ä¸€ä¸ªåœ°æ–¹æ˜¯ä¸“é—¨ç”¨æ¥å­˜æ”¾è¯¾ç¨‹çš„åœ°æ–¹ï¼ˆæ¯”å¦‚åœ¨``æˆ‘çš„æ–‡æ¡£''ä¸‹ï¼‰ï¼Œ
åœ¨æ­¤ä½ç½®å»ºç«‹python\_classè¾ƒå¥½ã€‚è¿™é‡Œé€‰æ‹©æ¡Œé¢ä»…ä»…æ˜¯ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºã€‚

æ³¨ï¼šè¯¾ç¨‹æ–‡ä»¶å¤¹ä¸è¦æ”¾åœ¨åœ¨Cç›˜æ ¹ç›®å½•ä¸‹ï¼Œå¯èƒ½æœ‰æƒé™é—®é¢˜ã€‚

æ‰“å¼€vscodeï¼Œæ–‡ä»¶ï¼Œæ‰“å¼€æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€vscodeä¸­çš„èµ„æºç®¡ç†å™¨ï¼Œæˆ‘ä»¬å‘ç°ä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚

\hypertarget{ux5efaux7acbux7684ux4e00ux4e2aux6e90ux4ee3ux7801ux6587ux4ef6}{%
\section{å»ºç«‹çš„ä¸€ä¸ªæºä»£ç æ–‡ä»¶}\label{ux5efaux7acbux7684ux4e00ux4e2aux6e90ux4ee3ux7801ux6587ux4ef6}}

é€‰æ‹©æ–‡ä»¶ï¼Œæ–°å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œç›´æ¥ä¿å­˜ï¼Œç»™è¿™ä¸ªç©ºç™½æ–‡ä»¶èµ·ä¸€ä¸ªåå­—ï¼Œå¦‚``001.py''ã€‚
æ³¨æ„ï¼Œæ‰©å±•åå¿…é¡»æ˜¯``.py''ã€‚

å½“ä½ åœ¨vscodeç¼–è¯‘ä¸€ä¸ªpyæ–‡ä»¶ï¼Œvscodeä¼šè‡ªåŠ¨è°ƒç”¨æ‰€ä»¥å’Œpythonæœ‰å…³çš„æ’ä»¶ã€‚
vscodeä¼šä»ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæˆä¸ºä¸€ä¸ªé›†ç¼–è¾‘ã€è¿è¡Œã€è°ƒè¯•äºä¸€èº«çš„Pythoné›†æˆå¼€å‘ç¯å¢ƒã€‚

å½“ç„¶ï¼Œä½ ç”¨vscodeæ¥å†™å…¶ä»–è¯­è¨€çš„ä»£ç ä¹Ÿå¯ä»¥ã€‚

\hypertarget{vscodeux7684ux754cux9762}{%
\section{vscodeçš„ç•Œé¢}\label{vscodeux7684ux754cux9762}}

å³ä¸Šè§’å‡ºç°äº†æ’­æ”¾æŒ‰é’®â–¶ï¼Œå¯ä»¥æŠŠå½“å‰æ–‡ä»¶çš„ä»£ç ä»å¤´åˆ°å°¾æ‰§è¡Œä¸€æ¬¡ã€‚

å³ä¸‹è§’å‡ºç°äº†Pythonå­—æ ·ï¼Œç°åœ¨è¿›å…¥äº†Pythonä»£ç ç¼–è¾‘æ¨¡å¼ã€‚

å¦‚æœå‡ºç°äº†é»„åº•è‰²çš„Select Interpreterå­—æ ·ï¼Œæ˜¯æ²¡æŒ‡å®šè§£é‡Šå™¨ã€‚ç­‰äºå†é—®ï¼Œ
å†™å¥½çš„ä»£ç äº¤ç»™è°æ¥æ‰§è¡Œï¼Ÿ

ç‚¹ä¸€ä¸‹ï¼Œåœ¨å¼¹å‡ºçš„æ¡†ä¸­é€‰æ‹©condaã€‚

\includegraphics{images/select_interpreter.png}

\hypertarget{ux7b2cux4e00ux6bb5ux4ee3ux7801}{%
\section{ç¬¬ä¸€æ®µä»£ç }\label{ux7b2cux4e00ux6bb5ux4ee3ux7801}}

æˆ‘ä»¬åœ¨æ–‡ä»¶é‡Œå†™å¦‚å¦‚ä¸‹ä»£ç ï¼Œä¿å­˜(ctrl+s)ã€‚

å°±ç®—ä½ å®Œå…¨ä¸æ‡‚pythonï¼Œå‡­æ„Ÿè§‰ä¹Ÿå¯ä»¥çŸ¥é“è¿™æ®µä»£ç æ˜¯æ‰“å°ä¸¤ä¸ªå˜é‡ç›¸åŠ çš„ç»“æœã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{1}
\NormalTok{b }\OperatorTok{=} \DecValTok{2}
\NormalTok{c }\OperatorTok{=}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b}
\BuiltInTok{print}\NormalTok{(c)}
\end{Highlighting}
\end{Shaded}

\hypertarget{ux9884ux5907ux77e5ux8bc6pythonux7684ux6ce8ux91cacomment}{%
\subsection{é¢„å¤‡çŸ¥è¯†ï¼šPythonçš„æ³¨é‡Šï¼ˆcommentï¼‰}\label{ux9884ux5907ux77e5ux8bc6pythonux7684ux6ce8ux91cacomment}}

å…ˆè¯´æ³¨é‡Šã€‚Pythonä½¿ç”¨äº•å·ï¼š\texttt{\#}æ¥è¡¨ç¤ºæ³¨é‡Šã€‚æ‰€è°“æ³¨é‡Šï¼Œå°±æ˜¯``\textbf{ç»™äººçœ‹}''çš„å†…å®¹ï¼Œè€ŒPythonçš„è§£é‡Šå™¨ä¼šç›´æ¥å¿½ç•¥æ‰è¿™éƒ¨åˆ†ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ³¨é‡Šå¯ä»¥å‡ºç°åœ¨ä»»ä½•åœ°æ–¹ï¼Œæ³¨æ„\texttt{\#}å·åªä¼šå½±å“åŒä¸€è¡Œå³è¾¹çš„ä»£ç ï¼Œå› æ­¤ä¹Ÿå¯ä»¥å‡ºç°åœ¨è¡Œå°¾ã€‚
\item
  æ³¨é‡Šå¾€å¾€ä¹Ÿå¯ä»¥ç”¨æ¥ä¸´æ—¶å±è”½ä¸€éƒ¨åˆ†ä»£ç ï¼Œåªè¦åœ¨ä»£ç çš„æœ€å·¦ä¾§æ’å…¥ä¸€ä¸ª\texttt{\#}ï¼Œé‚£ä¹ˆæ•´è¡Œä»£ç ä¼šè¢«Pythonè§£é‡Šå™¨å¿½ç•¥ã€‚è¿™æ˜¯å¸¸ç”¨æŠ€å·§ã€‚
\end{enumerate}

æˆ‘ä»¬å°è¯•å†™å‡ ä¸ªæ³¨é‡Šï¼Œä¾‹å¦‚ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è¿™æ®µä»£ç ä¼šè®¡ç®—aå’Œbç›¸åŠ çš„ç»“æœ}
\NormalTok{a }\OperatorTok{=} \DecValTok{1}
\NormalTok{b }\OperatorTok{=} \DecValTok{2}
\NormalTok{c }\OperatorTok{=}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b }\CommentTok{\# è¿™è¡Œä»£ç ä¼šè®¡ç®— a + b}

\CommentTok{\# ä¸‹é¢çš„ä»£ç ä¼šæŠŠcçš„å€¼æ‰“å°å‡ºæ¥}
\BuiltInTok{print}\NormalTok{(c)}
\end{Highlighting}
\end{Shaded}

æ³¨é‡Šæ˜¯å¯¹ä»£ç çš„è¯´æ˜ï¼Œéå¸¸é‡è¦ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å†™ä»£ç æ—¶é—´é•¿äº†ï¼Œè‚¯å®šä¼šä¸è®°å¾—è‡ªå·±å†™çš„å†…å®¹ã€‚æœ‰æ—¶å€™ä¸Šåˆå†™çš„ï¼Œä¸‹åˆå°±ä¼šå¿˜è®°ã€‚
\item
  å¤šäººåˆä½œçš„æ—¶å€™ï¼Œè¦è¯»æ‡‚å½¼æ­¤çš„ä»£ç ï¼Œä¹Ÿå¿…é¡»æœ‰è‰¯å¥½çš„æ³¨é‡Šã€‚
\end{enumerate}

ç‰¹åˆ«åœ°ï¼Œ\textbf{æ³¨é‡Šæ˜¯è€ƒè¯•çš„ç»™åˆ†ç‚¹}ã€‚ä½ çš„è€ƒè¯•ç¨‹åºè¾“å‡ºäº†æ­£ç¡®çš„ç»“æœï¼Œå¯ä»¥å¾—åˆ°åˆæ ¼è¯„ä»·ï¼ŒåŒæ—¶å…·æœ‰è‰¯å¥½çš„ç¼–å†™é£æ ¼ã€åˆç†çš„æ³¨é‡Šï¼Œæ‰èƒ½å¾—åˆ°æ›´é«˜åˆ†ã€‚

\hypertarget{ux6267ux884c}{%
\section{æ‰§è¡Œ}\label{ux6267ux884c}}

ä»£ç å†™å¥½äº†ï¼Œæ‰§è¡Œæœ‰å‡ ç§æ–¹å¼ã€‚

\hypertarget{run-python-file-ux6309ux94ae}{%
\subsection{Run Python File æŒ‰é’® â–¶}\label{run-python-file-ux6309ux94ae}}

ç‚¹å‡»å³ä¸Šè§’çš„æ’­æ”¾æŒ‰é’®Run Python
Fileï¼Œä¼šæŠŠå½“å‰çš„pyæ–‡ä»¶ï¼Œä»å¤´åˆ°å°¾æ‰§è¡Œä¸€æ¬¡ã€‚
ä½ ä¼šçœ‹åˆ°è¾“å‡ºäº†ç»“æœ\texttt{3}ã€‚

ç‚¹å‡»åƒåœ¾æ¡¶å›¾æ ‡ğŸ—‘ï¼Œç»ˆæ­¢è¿™ä¸ªç»ˆç«¯ã€‚

ä¸€èˆ¬è€Œè¨€ï¼Œè¦æŠŠæ–‡ä»¶ä»å¤´åˆ°å°¾æ‰§è¡Œä¸€æ¬¡ï¼Œå°±å¯ä»¥ç”¨è¿™ç§æ–¹å¼ã€‚

\hypertarget{ux4e92ux52a8ux6267ux884c}{%
\subsection{äº’åŠ¨æ‰§è¡Œ}\label{ux4e92ux52a8ux6267ux884c}}

å¦‚æœä½ è¦åšæ•°æ®åˆ†æä¹‹ç±»çš„ä»»åŠ¡ï¼Œéœ€è¦ä¸€èˆ¬çœ‹ç»“æœä¸€è¾¹å†™ä»£ç ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©äº’åŠ¨æ‰§è¡Œçš„æ–¹å¼ã€‚

ä½¿ç”¨ä¸€ç§ç‰¹æ®Šçš„æ³¨é‡Š\texttt{\#\ \%\%}ï¼ˆäº•å·ï¼Œ2ä¸ªç™¾åˆ†å·ï¼Œä¸­é—´å¯ä»¥æœ‰ç©ºæ ¼ï¼‰ï¼Œä¸€èˆ¬ç§°ä¸º``cell
separator'' å¯ä»¥æŠŠpythonä»£ç åˆ†æˆä¸€ä¸ªä¸€ä¸ªçš„cellã€‚è¯•ä¸€ä¸‹ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# \%\%}
\NormalTok{a }\OperatorTok{=} \DecValTok{1}
\NormalTok{b }\OperatorTok{=} \DecValTok{2}
\BuiltInTok{print}\NormalTok{(a)}
\BuiltInTok{print}\NormalTok{(b)}

\CommentTok{\# \%\%}
\NormalTok{c }\OperatorTok{=}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b}
\BuiltInTok{print}\NormalTok{(c)}
\end{Highlighting}
\end{Shaded}

\includegraphics{images/runcell.png}

\texttt{\#\ \%\%} cell
seperatoræŠŠä»£ç åˆ‡æˆäº†ä¸€å—ä¸€å—ï¼šä¸¤è¡Œseperatorä¸­é—´çš„éƒ¨åˆ†ï¼Œè¢«è§†ä¸ºä¸€ä¸ªcellã€‚

æˆ‘ä»¬ç‚¹å‡»ç¬¬ä¸€ä¸ªrun cellï¼Œç»ˆç«¯åªä¼šæ‰§è¡Œç¬¬ä¸€ä¸ªcellï¼Œå³1åˆ°6è¡Œçš„ä»£ç ã€‚

è¿™ä¸€å—ä»£ç ä¼šæ‰“å°å‡ºå˜é‡\texttt{a}å’Œ\texttt{b}çš„å€¼ã€‚

ç‚¹å¼€ç»ˆç«¯ä¸Šçš„çœç•¥å·ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªcellå…·ä½“æ‰§è¡Œäº†ä»€ä¹ˆä»£ç ã€‚

åŒç†ï¼Œç‚¹å‡»ç¬¬äºŒä¸ªrun cellä¼šæ‰§è¡Œä¸‹ä¸€å—ä»£ç ï¼Œè®¡ç®—a+bå¹¶æ‰“å°cã€‚

ä½†ä¸€èˆ¬æˆ‘ä»¬ç”¨å¿«æ·é”®ï¼š

Ctrl + å›è½¦ï¼šæ‰§è¡Œå½“å‰cellã€‚ï¼ˆMacç³»ç»Ÿå¯èƒ½æ˜¯Cmd + å›è½¦ï¼‰ Shift +
å›è½¦ï¼šæ‰§è¡Œå½“å‰cellï¼Œå¹¶è·³åˆ°ä¸‹ä¸€ä¸ªcellã€‚

æ‰€ä»¥ï¼Œä½ å¯ä»¥æŒ‰ä½Shiftï¼Œè¿ç»­æŒ‰å›è½¦ï¼Œå°±å¯ä»¥ä¸€ä¸ªcellä¸€ä¸ªcellå¾€ä¸‹æ‰§è¡Œã€‚

è¿™åœ¨è¿›è¡Œæ•°æ®åˆ†æçš„æ—¶å€™ä¼šç”¨å¾ˆå¤šã€‚

å•æ­¥æ‰§è¡Œå’Œdebugä¼šåœ¨åé¢ä¸“é—¨è¯´ã€‚

ç‰¹åˆ«åœ°ï¼Œåœ¨äº’åŠ¨æ‰§è¡Œä¸‹ï¼Œæ¯ä¸ªcellçš„æœ€åä¸€è¡Œçš„ç»“æœä¼šè‡ªåŠ¨æ˜¾ç¤ºã€‚
å¦‚æœåªæ˜¯æŸ¥çœ‹å˜é‡çš„å€¼ï¼Œè¿™å¯ä»¥è®©æˆ‘ä»¬å°‘æ‰“ä¸€ä¸ª\texttt{print()}æˆ–è€…\texttt{display()}ã€‚
æ³¨æ„è¿™åªåœ¨äº’åŠ¨æ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚

å°è¯•ï¼šæŠŠä¸Šè¿°ä»£ç çš„\texttt{print(a)}å’Œ\texttt{print(b)}æ”¹å†™ã€‚

\hypertarget{ux53d8ux91cfux8868}{%
\subsection{å˜é‡è¡¨}\label{ux53d8ux91cfux8868}}

åœ¨äº¤äº’æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œç‚¹å‡»å˜é‡è¡¨ï¼Œå¯ä»¥æŸ¥çœ‹å½“å‰è¿è¡Œç¯å¢ƒä¸­çš„å˜é‡çš„ä¿¡æ¯ã€‚

\hypertarget{ux8131ux79bbvscodeux6267ux884c}{%
\subsection{è„±ç¦»vscodeæ‰§è¡Œ}\label{ux8131ux79bbvscodeux6267ux884c}}

pythonæœ¬èº«æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¯æ‰§è¡Œç¨‹åºï¼Œå’Œvscodeå¹¶æ— å…³ç³»ã€‚è¿™ä¸ªå¯æ‰§è¡Œç¨‹åºå³æ‰€è°“è§£é‡Šå™¨ï¼Œ
ä¼šæŠŠæºä»£ç ä»ç¬¬ä¸€è¡Œåˆ°æœ€åä»¥åæ‰§è¡Œä¸€æ¬¡ã€‚

å› æ­¤ï¼Œä½ åªè¦å‘Šè¯‰pythonä½ è¦æ‰§è¡Œå“ªä¸ª.pyæ–‡ä»¶å³å¯ã€‚

è¿™ä¸ªä¸€èˆ¬æ•™ç¨‹ä¼šæ”¾åœ¨ç¬¬ä¸€éƒ¨åˆ†ï¼Œä½†ä»¥æˆ‘ä»¬çš„ä»»åŠ¡æ›´å¤šæ˜¯è¦äº¤äº’æ‰§è¡Œï¼Œè¿™é‡Œåªç®€å•æ¼”ç¤ºä¸€ä¸‹ã€‚

åœ¨ä½ anaconda promptæˆ–è€…ç»ˆç«¯ä¸­ï¼Œè¿›å…¥ä½ åˆšæ‰æ–°å»ºçš„python\_classç›®å½•ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{python }\FloatTok{001.}\ErrorTok{py}
\end{Highlighting}
\end{Shaded}

ç»“æœæ˜¯ä¸€æ ·çš„ã€‚

å®é™…ä¸Šï¼Œå³ä¸Šè§’çš„æ’­æ”¾æŒ‰é’®ï¼Œåšçš„æ˜¯åŒæ ·çš„äº‹ï¼Œåªæ˜¯æŠŠå¤šä¸ªæ­¥éª¤ï¼ˆè¿›å…¥anacondaç¯å¢ƒï¼Œ
è¿›å…¥å·¥ä½œç›®å½•ï¼Œè¾“å…¥python 001.pyç­‰ï¼‰åˆå¹¶æˆä¸€ä¸ªæŒ‰é’®ã€‚

\hypertarget{vscodeux4e2dux4ee3ux7801ux51faux9519}{%
\section{vscodeä¸­ä»£ç å‡ºé”™}\label{vscodeux4e2dux4ee3ux7801ux51faux9519}}

\hypertarget{ux8fd0ux884cux5355ux5143ux683crun-cellux51faux73b0-bad-file-descriptor-ux9519ux8bef}{%
\subsection{è¿è¡Œå•å…ƒæ ¼(run cell)å‡ºç° Bad file descriptor
é”™è¯¯}\label{ux8fd0ux884cux5355ux5143ux683crun-cellux51faux73b0-bad-file-descriptor-ux9519ux8bef}}

å¦‚æœä½ ç”¨çš„æ˜¯Windowsï¼Œä¸”ä½ çš„ç”¨æˆ·åæ˜¯ä¸­æ–‡ï¼Œé‚£ä¹ˆç”¨vs codeçš„run
cellè¿è¡Œï¼Œå¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š

ï¼ˆè¿™æ˜¯æŸä½åŒå­¦çš„ç¬”è®°æœ¬ç”µè„‘ï¼Œè¯·å¤§å®¶è¦ç»å¸¸æ¸…ç†è‡ªå·±ç”µè„‘çš„å±å¹•ï¼‰

\includegraphics{images/vscode_run_cell_error.jpg}

æ³¨æ„æœ€åä¸€è¡Œ

\begin{verbatim}
Bad file descriptor (bundled\zeromq\src\epoll.cpp:100)
\end{verbatim}

è¿™ä¸ªé—®é¢˜å¯èƒ½æ˜¯ä¸­æ–‡ç”¨æˆ·åæœ‰å…³ï¼ŒæŸä¸ªç»„ä»¶(pyzmq)æ–°ç‰ˆæœ¬å¤„ç†ä¸­æ–‡è·¯å¾„ä¼šå‡ºé”™ã€‚å¤„ç†æ–¹æ³•æœ‰2ç§ï¼Œ
ç¬¬ä¸€ç§å·²ç»åœ¨éƒ¨åˆ†åŒå­¦çš„ç”µè„‘ä¸ŠéªŒè¯è¿‡äº†ï¼Œç¬¬äºŒé’Ÿåˆ™å°šæœªéªŒè¯ã€‚

\textbf{æ–¹æ³•1ï¼šæ”¹ç¯å¢ƒå˜é‡}

åœ¨windowsèœå•ä¸­é€‰æ‹©''ç¼–è¾‘ç³»ç»Ÿç¯å¢ƒå˜é‡''

\includegraphics[width=0.6\textwidth,height=\textheight]{images/edit_var_menu.png}

åœ¨å¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹©æœ€ä¸‹æ–¹çš„``ç¯å¢ƒå˜é‡(N)''

\includegraphics[width=0.6\textwidth,height=\textheight]{images/edit_var_panel.png}

\includegraphics[width=0.6\textwidth,height=\textheight]{images/env_vars_01.png}

å¯è§æœ€ä¸‹æ–¹æœ‰\texttt{TEMP}å’Œ\texttt{TMP}2ä¸ªç¯å¢ƒå˜é‡ï¼ˆä¸´æ—¶æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼‰ã€‚åŒå‡»2ä¸ªç¯å¢ƒå˜é‡ï¼Œéƒ½æ”¹ä¸º\texttt{C:\textbackslash{}Temp}ã€‚

\includegraphics[width=0.6\textwidth,height=\textheight]{images/tmp_var.png}

æœ€ç»ˆå¦‚å›¾ã€‚

\includegraphics[width=0.6\textwidth,height=\textheight]{images/tm_var_after.png}

é‡å¯ç”µè„‘å³å¯ã€‚

\textbf{æ–¹æ³•2ï¼šé™çº§pyzmq}

è¿›å…¥anaconda promptï¼ˆè§å‰ä¸€ç« ï¼‰ï¼Œä¾æ¬¡æ‰§è¡Œä»£ç 

\begin{verbatim}
pip uninstall pyzmq <å›è½¦>
pip install pyzmq==19.0.2 <å›è½¦>
\end{verbatim}

é‡å¯vs codeå³å¯ã€‚

\hypertarget{ux627eux4e0dux5230anaconda}{%
\subsection{æ‰¾ä¸åˆ°Anaconda}\label{ux627eux4e0dux5230anaconda}}

å¦‚æœä¸åœ¨é»˜è®¤çš„è·¯å¾„ä¸Šå®‰è£…anacondaï¼Œæ¯”å¦‚è½¬ç§»åˆ°äº†dç›˜ï¼Œå¯èƒ½åœ¨é€‰æ‹©è§£é‡Šå™¨(select
interpreter)çš„æ—¶å€™ï¼Œæ‰¾ä¸åˆ°æ­£ç¡®çš„condaå’Œpythonè·¯å¾„ã€‚è¿™æ—¶å€™éœ€è¦æ‰‹åŠ¨è®¾ç½®ä½ çš„condaå®‰è£…è·¯å¾„ã€‚

åœ¨vscodeç•Œé¢çš„å·¦ä¸‹è§’ç‚¹å‡»``ç®¡ç†ï¼ˆé½¿è½®å›¾æ ‡ï¼‰'' -\textgreater{}
``è®¾ç½®''ï¼Œæœç´¢'conda'ï¼Œä¸€èˆ¬æœ‰ä¸‰ä¸ªé€‰é¡¹:

\includegraphics[width=0.8\textwidth,height=\textheight]{images/conda_path.png}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{Conda\ Path}é€‰æ‹©ä½ å®‰è£…condaè·¯å¾„åŠ ä¸Š\texttt{\textbackslash{}condabin\textbackslash{}}ã€‚ä¾‹å¦‚ä½ è£…åˆ°äº†\texttt{D:\textbackslash{}anaconda3\textbackslash{}}ä¸‹ï¼Œé‚£ä¹ˆè·¯å¾„å°±æ˜¯\texttt{D:\textbackslash{}anaconda3\textbackslash{}condabin\textbackslash{}}ã€‚
\item
  \texttt{Default\ Interpreter\ Path}é€‰æ‹©ä½ å®‰è£…anacondaçš„è·¯å¾„ï¼ŒæŒ‰ä¸Šé¢çš„ä¾‹å­ï¼Œå°±æ˜¯\texttt{D:\textbackslash{}anaconda3\textbackslash{}}
\end{enumerate}

è¿™æ—¶å€™å†è¿›è¡Œå‰é¢é€‰æ‹©è§£é‡Šå™¨çš„è¿‡ç¨‹ï¼Œåº”è¯¥å°±æ‰¾åˆ°condaå’Œè§£é‡Šå™¨äº†ã€‚

\hypertarget{ux6267ux884cux6574ux4e2aux6587ux4ef6ux53efux4ee5ux5f97ux5230ux6b63ux786eux7ed3ux679cux4f46ux8fd8ux662fux6709ux4e00ux4e32ux7ea2ux5b57}{%
\subsection{æ‰§è¡Œæ•´ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥å¾—åˆ°æ­£ç¡®ç»“æœï¼Œä½†è¿˜æ˜¯æœ‰ä¸€ä¸²çº¢å­—}\label{ux6267ux884cux6574ux4e2aux6587ux4ef6ux53efux4ee5ux5f97ux5230ux6b63ux786eux7ed3ux679cux4f46ux8fd8ux662fux6709ux4e00ux4e32ux7ea2ux5b57}}

æ¯”å¦‚ä½ ``æ‰§è¡Œæ•´ä¸ªæ–‡ä»¶ï¼ˆå³ä¸Šè§’çš„æ’­æ”¾æŒ‰é’®ï¼‰''ï¼Œæœ€åå¯ä»¥å¾—åˆ°ç»“æœï¼ˆæ¯”å¦‚``3''ï¼‰ï¼Œä½†æ˜¯é¦–æ¬¡æ‰§è¡Œçš„æ—¶å€™å‡ºç°ä¸€ä¸²çº¢å­—é”™è¯¯ï¼Œç„¶åæ‰æ˜¯æ­£ç¡®ç»“æœï¼ˆè¿™é‡Œä¸€æ—¶æ‰¾ä¸åˆ°æˆªå›¾ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ä¸Šé¢çš„æ–¹æ³•ï¼ŒæŠŠæˆªå›¾ä¸­çš„ç¬¬ä¸€ä¸ªé€‰é¡¹Terminalï¼Œè®¾å®šä¸º\texttt{Command\ Prompt}ï¼Œå’Œæˆªå›¾ä¿æŒä¸€è‡´å³å¯ã€‚

\hypertarget{ux53d8ux91cfux548cux5e38ux7528ux7c7bux578b}{%
\chapter{å˜é‡å’Œå¸¸ç”¨ç±»å‹}\label{ux53d8ux91cfux548cux5e38ux7528ux7c7bux578b}}

æœ¬ç« èŠ‚ä»‹ç»Pythonä¸­çš„å˜é‡å’ŒåŸºç¡€ç±»å‹ï¼Œå®Œæˆæœ¬ç« ä¹‹åï¼Œå¯ä»¥æŠŠPythonå½“æˆè®¡ç®—å™¨å’Œè‰ç¨¿çº¸ã€‚æœ¬ç« æ²¡æœ‰è¦æäº¤çš„è¯¾å ‚ä½œä¸šã€‚

ä»è¿™ç« èµ·å°±è¦å¼€å§‹ç¼–ç¨‹ï¼Œæœ‰ä¸€ä»¶äº‹è¦é¢„å…ˆå¼ºè°ƒï¼š\textbf{æ‰€æœ‰è¯­å¥ä¸­çš„ç¬¦å·éƒ½æ˜¯è‹±æ–‡}ï¼Œæ¯”å¦‚å†’å·ï¼Œå¼•å·ç­‰ç­‰ï¼Œè¾¾æˆä¸­æ–‡ç¬¦å·æ˜¯é”™è¯¯çš„ä¸€å¤§æ¥æºã€‚ä½†vscodeå¯èƒ½ä¼šæç¤ºä½ ï¼Œåé¢å¤§å®¶ä¼šçŸ¥é“ã€‚

\hypertarget{ux53d8ux91cf}{%
\section{å˜é‡}\label{ux53d8ux91cf}}

å‰é¢è¯´è¿‡ï¼ŒPythonï¼ˆæˆ–è€…å…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼‰ä¸­çš„å˜é‡ï¼Œå’Œä½ æ•°å­¦è¯¾ä¸Šçš„\texttt{x,\ y,\ z}æ˜¯åŒç±»çš„æ¦‚å¿µã€‚

æ­£å¦‚å‰é¢çš„ä¾‹å­ï¼ŒPythonä½¿ç”¨ç­‰å·\texttt{=}æ¥ä¸ºä¸€ä¸ªå˜é‡èµ‹å€¼

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% èµ‹å€¼ä¸é‡æ–°èµ‹å€¼}
\NormalTok{a }\OperatorTok{=} \DecValTok{1}
\NormalTok{a }\OperatorTok{=} \DecValTok{2}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2
\end{verbatim}

å‡å¦‚è¿™ä¸ªå˜é‡\texttt{a}ä¸€å¼€å§‹ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆèµ‹å€¼çš„åŒæ—¶ï¼Œä¹Ÿä¼šæŠŠè¿™ä¸ªå˜é‡åˆ›é€ å‡ºæ¥ã€‚

å¯¹äºPythonè¯­è¨€ï¼Œè¿™ä¸ªè¿‡ç¨‹ï¼ˆ\textbf{ä¸ä¸¥æ ¼åœ°è¯´}ï¼‰å¤§è‡´æ˜¯ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ï¼ˆç»‘å®šï¼‰Pythonåœ¨ç”µè„‘çš„å†…å­˜ç©ºé—´æ‰¾äº†ä¸€ä¸ªç©ºåœ°ï¼Œåˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡(object)ï¼Œå­˜æ”¾äº†\texttt{1}è¿™ä¸ªå€¼ï¼Œç„¶åæŠŠ\texttt{a}è¿™ä¸ªåå­—ï¼Œå’Œè¿™ä¸ªå¯¹è±¡ç»‘å®šèµ·æ¥ã€‚
\item
  ï¼ˆé‡ç»‘å®šï¼‰å½“æˆ‘ä»¬å¯¹å˜é‡\texttt{a}èµ‹å…¶ä»–å€¼çš„æ—¶å€™ï¼Œå¦‚\texttt{a\ =\ 2}çš„æ—¶å€™ï¼ŒPythonå¦å¤–åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œå­˜æ”¾äº†\texttt{2}è¿™ä¸ªå€¼ï¼Œç„¶åæŠŠ\texttt{a}è¿™ä¸ªåå­—ï¼Œé‡æ–°ç»‘å®šåˆ°è¿™ä¸ªæ–°çš„å¯¹è±¡ä¸Šã€‚
\item
  ï¼ˆå¼•ç”¨ï¼‰å˜é‡åï¼Œå°±åƒä¸€ä¸ªå†…å­˜ä¸­çš„å¯¹è±¡çš„æ ‡ç­¾ã€‚å¼•ç”¨è¿™ä¸ªåå­—ï¼Œå°±æ˜¯å¼•ç”¨å…¶è¡¨ç¤ºçš„å¯¹è±¡ã€‚
\end{enumerate}

\hypertarget{ux5220ux9664ux4e00ux4e2aux53d8ux91cf}{%
\subsection{åˆ é™¤ä¸€ä¸ªå˜é‡}\label{ux5220ux9664ux4e00ux4e2aux53d8ux91cf}}

ä½¿ç”¨delè¯­å¥

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% åˆ é™¤å˜é‡}
\NormalTok{a }\OperatorTok{=} \DecValTok{1}
\KeywordTok{del}\NormalTok{ a}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

å› ä¸ºå˜é‡\texttt{a}å·²ç»è¢«æˆ‘ä»¬åˆ é™¤äº†ï¼Œæ‰€ä»¥ä½ å†æ¬¡å¼•ç”¨\texttt{a}çš„æ—¶å€™ï¼ŒPythonä¼šå‘Šè¯‰ä½ ,

\begin{verbatim}
NameError: name 'a' is not defined
\end{verbatim}

\hypertarget{ux5e38ux89c1ux9519ux8befname-not-defined}{%
\subsection{å¸¸è§é”™è¯¯name not
defined}\label{ux5e38ux89c1ux9519ux8befname-not-defined}}

\begin{verbatim}
NameError: name 'xxx' is not defined
\end{verbatim}

è¿™ä¸ªé”™è¯¯è¦å‘Šè¯‰ä½ ï¼Œxxxè¿™ä¸ªä¸œè¥¿ï¼Œpythonæ‰¾ä¸åˆ°ã€‚è¿™å¯èƒ½æ˜¯ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ‰“é”™å­—ã€‚ä¾‹å¦‚ä½ è¦å¼•ç”¨ä¸€ä¸ªåå­—å«\texttt{apple}ï¼Œä½†è¾“å…¥æˆäº†\texttt{appla}ã€‚vscodeä¼šæœ‰æç¤ºã€‚
\item
  ä»£ç å­˜æ”¾åœ¨å…¶ä»–åœ°æ–¹ï¼Œæ²¡æœ‰importï¼Œåé¢ä¼šè®²ã€‚
\item
  å¼•ç”¨äº†ä¸€ä¸ªä¸å­˜åœ¨çš„å˜é‡ã€‚
\end{enumerate}

ç¨å¾®è§£é‡Šä¸‹ç¬¬3ç‚¹ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä¸€ä¸ªé‡æ–°å¯åŠ¨çš„Pythonäº¤äº’ç¯å¢ƒï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ç‰‡ç™½çº¸ï¼ˆå…¶å®ä¸æ˜¯å®Œå…¨æ˜¯ï¼‰ã€‚
\item
  ç¬¬ä¸€æ¬¡æ‰§è¡Œ\texttt{a\ =\ 1}è¯­å¥ä¹‹åï¼Œ\texttt{a}è¿™ä¸ªå˜é‡æ‰ä¼šå­˜åœ¨ã€‚
\item
  \texttt{.py}æ–‡ä»¶ä¸­ï¼Œæœ‰\texttt{a=1}è¿™ä¸ªè¯­å¥ï¼Œå¦‚æœä½ ä¸\textbf{æ‰§è¡Œä¸€æ¬¡}ï¼Œå†…å­˜ä¸­ä¹Ÿä¸ä¼šæœ‰\texttt{a}ã€‚
\end{enumerate}

è¿™è¡¨ç¤ºï¼Œä½ åªæ˜¯\textbf{æ‰“å¼€ä¸€ä¸ª.pyæ–‡ä»¶}ï¼Œå…¶å®äº¤äº’ç¯å¢ƒé‡Œé¢è¿˜æ˜¯ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œ
è¿™ä¸ªæ—¶å€™\texttt{print(a)}ï¼Œå°±ä¼šæç¤ºæ‰¾ä¸åˆ°\texttt{a}ã€‚

\hypertarget{ux53d8ux91cfux7c7bux578bux548cux52a8ux6001ux8bedux8a00}{%
\subsection{å˜é‡ç±»å‹å’ŒåŠ¨æ€è¯­è¨€}\label{ux53d8ux91cfux7c7bux578bux548cux52a8ux6001ux8bedux8a00}}

Pythonæ˜¯ä¸€ä¸ª``åŠ¨æ€è¯­è¨€''ï¼Œå³Pythonçš„å˜é‡çš„ç±»å‹æ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å†³å®šï¼Œæˆ–è€…è¯´å¯ä»¥åœ¨è¿è¡Œä¸­æ”¹å˜ï¼šä½ å¯¹è¿™ä¸ªå˜é‡èµ‹ä»€ä¹ˆå€¼ï¼Œè¿™ä¸ªå˜é‡å°±æ˜¯ä»€ä¹ˆç±»å‹ã€‚

æŸ¥çœ‹å˜é‡ç±»å‹çš„å‡½æ•°æ˜¯\texttt{type()}

ä¾‹å¦‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% åŠ¨æ€ç±»å‹}
\NormalTok{a }\OperatorTok{=} \DecValTok{1} 
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{type}\NormalTok{(a))}

\NormalTok{a }\OperatorTok{=} \StringTok{\textquotesingle{}apple\textquotesingle{}} \CommentTok{\# è¿™é‡Œä¸ºaèµ‹å€¼äº†ä¸€ä¸ªå­—ç¬¦ä¸²}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{type}\NormalTok{(a))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<class 'int'>
<class 'str'>
\end{verbatim}

æ˜¾ç„¶ï¼Œ\texttt{a}å…ˆæ˜¯ä¸€ä¸ªæ•´å‹int\texttt{\textless{}class\ \textquotesingle{}int\textquotesingle{}\textgreater{}}ï¼Œç„¶åå˜æˆäº†ä¸€ä¸ªå­—ç¬¦ä¸²str\texttt{\textless{}class\ \textquotesingle{}str\textquotesingle{}\textgreater{}}ã€‚
è¿™å’Œæˆ‘ä»¬çš„èµ‹å€¼é¡ºåºæ˜¯ä¸€æ ·çš„ã€‚ç±»å‹åé¢ä¼šè¯¦ç»†è¯´

\textbf{æ³¨æ„ï¼š}Pythonçš„å˜é‡ç±»å‹æ˜¯åŠ¨æ€ç¡®å®šçš„ã€‚å˜é‡çš„ç±»å‹ä¸ä¸€å®šèƒ½ä»åå­—çœ‹å‡ºæ¥ï¼Œè¿™æ˜¯å‡ºé”™çš„ä¸€å¤§æ¥æºã€‚

\hypertarget{ux6570ux503c}{%
\section{æ•°å€¼}\label{ux6570ux503c}}

Python
3.xä»¥åï¼Œæ•°å€¼ç±»å‹æœ‰2ç§ï¼Œæ•´å‹\texttt{int}ï¼Œå’Œæµ®ç‚¹å‹\texttt{float}ã€‚

é¡¾åæ€ä¹‰ï¼Œæ•´å‹å¯ä»¥ç†è§£ä¸ºæ•´æ•°ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% æ•´å‹}
\NormalTok{a }\OperatorTok{=} \DecValTok{1}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{type}\NormalTok{(a))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<class 'int'>
\end{verbatim}

è€Œæµ®ç‚¹å‹åˆ™å¯ä»¥ç†è§£ä¸ºå°æ•°ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% æµ®ç‚¹å‹}
\NormalTok{a }\OperatorTok{=} \FloatTok{1.23}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{type}\NormalTok{(a))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<class 'float'>
\end{verbatim}

ç‰¹åˆ«åœ°ï¼Œ\texttt{a\ =\ 1.0}æ˜¯ä»€ä¹ˆç±»å‹ï¼Ÿ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \FloatTok{1.0}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{type}\NormalTok{(a))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<class 'float'>
\end{verbatim}

æ˜¾ç„¶ï¼Œ\texttt{a}æ˜¯æµ®ç‚¹å‹ï¼šåªè¦ä½ èµ‹å€¼çš„æ—¶å€™æœ‰å°æ•°ç‚¹ã€‚ è¿™å¯èƒ½æ˜¯å› ä¸ºï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¿™ä¸ªå˜é‡å®¢è§‚ä¸Šæ˜¯ä¸ªå°æ•°ï¼Œåªæ˜¯``æ°å¥½''æ˜¯1è€Œå·²ã€‚
\item
  æˆ–è€…è¿™ä¸ªæ•°è¢«å››èˆäº”å…¥ï¼Œæ¯”å¦‚æœ¬æ¥æ˜¯\texttt{1.0000001}ä¹‹ç±»ã€‚
\end{enumerate}

\hypertarget{ux6570ux503cux7684ux8fd0ux7b97}{%
\subsection{æ•°å€¼çš„è¿ç®—}\label{ux6570ux503cux7684ux8fd0ux7b97}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¸¸è§çš„æ“ä½œåŒ…æ‹¬åŠ å‡ä¹˜é™¤\texttt{+,\ -,\ *,\ /}ç­‰ç­‰ï¼Œæ­¤å¤„ä¸å†é‡å¤ã€‚
\end{enumerate}

ç‰¹åˆ«åœ°ï¼Œé™¤æ³•æ°¸è¿œè¿”å›æµ®ç‚¹ç±»å‹ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{4} \OperatorTok{/} \DecValTok{2}
\BuiltInTok{print}\NormalTok{(a)}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{type}\NormalTok{(a))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2.0
<class 'float'>
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  æ•´é™¤æ˜¯\texttt{//}ã€‚è‹¥é™¤æ•°æ˜¯æ•´å‹ï¼Œåˆ™è¿”å›æ•´å‹ï¼›è‹¥é™¤æ•°æ˜¯æµ®ç‚¹å‹ï¼Œåˆ™è¿”å›æµ®ç‚¹å‹
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{5} \OperatorTok{//} \DecValTok{2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{5} \OperatorTok{//} \FloatTok{2.0}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2.0
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  å–ä½™\texttt{\%}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{5} \OperatorTok{\%} \DecValTok{2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
1
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  ä¹˜æ–¹ \(2^3\)
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\DecValTok{2} \OperatorTok{**} \DecValTok{3}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
8
\end{verbatim}

\hypertarget{ux5c0fux7ec3ux4e60}{%
\subsection{å°ç»ƒä¹ }\label{ux5c0fux7ec3ux4e60}}

æ±‚äºŒæ¬¡å‡½æ•°çš„æ ¹ï¼š

\[
2x^2 + 5x - 3 = 0
\]

ç­”æ¡ˆæ˜¯\texttt{(-3,\ 0.5)}

\hypertarget{ux5b57ux7b26ux4e32string}{%
\section{å­—ç¬¦ä¸²String}\label{ux5b57ux7b26ux4e32string}}

åˆ›å»ºå­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·ã€åŒå¼•å·ã€ä¸‰å•å¼•å·å’Œä¸‰åŒå¼•å·ã€‚å…¶ä¸­ä¸‰å¼•å·å¯ä»¥å¤šè¡Œå®šä¹‰å­—ç¬¦ä¸²ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å­—ç¬¦ä¸²ï¼šå¯ä»¥ä½¿ç”¨å•å¼•å·ã€åŒå¼•å·
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% å­—ç¬¦ä¸²}
\NormalTok{a }\OperatorTok{=} \StringTok{\textquotesingle{}apple\textquotesingle{}} \CommentTok{\# æˆ–è€…ï¼ša = "apple"}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
apple
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  å¤šè¡Œå­—ç¬¦ä¸²ï¼šå¯ä»¥ä½¿ç”¨ä¸‰ä¸ªå•å¼•å·ï¼Œæˆ–è€…ä¸‰ä¸ªåŒå¼•å·ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \StringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}Hello }
\StringTok{Python}
\StringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Hello 
Python
\end{verbatim}

ç‰¹åˆ«çš„ï¼Œå¤šè¡Œå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥å……å½“å¤šè¡Œçš„æ³¨é‡Šï¼šåªè¦ä½ ä¸æŠŠå­—ç¬¦ä¸²èµ‹äºˆä¸€ä¸ªå˜é‡ï¼Œ
è¿™ä¸²å­—ç¬¦ä¸²å°±å¯¹ä½ çš„ç¨‹åºé€»è¾‘æ²¡ä»€ä¹ˆå½±å“ï¼Œè¿™å°±æˆäº†å¦ä¸€ç§æ³¨é‡Šã€‚

å¸¸ç”¨äºåœ¨æ¨¡å—(.py)æ–‡ä»¶çš„å¼€å¤´æˆ–è€…å‡½æ•°ï¼ˆåé¢ä¼šè¯´ï¼‰çš„å¼€å¤´ï¼Œä½†å®é™…ä¸Šä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ã€‚

\hypertarget{ux5b57ux7b26ux4e32ux7684ux5e38ux7528ux64cdux4f5c}{%
\subsection{å­—ç¬¦ä¸²çš„å¸¸ç”¨æ“ä½œ}\label{ux5b57ux7b26ux4e32ux7684ux5e38ux7528ux64cdux4f5c}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¿æ¥å­—ç¬¦ä¸² \texttt{+}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \StringTok{\textquotesingle{}Hello\textquotesingle{}}
\NormalTok{b }\OperatorTok{=} \StringTok{\textquotesingle{}Python\textquotesingle{}}
\BuiltInTok{print}\NormalTok{(a }\OperatorTok{+}\NormalTok{ b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
HelloPython
\end{verbatim}

æ³¨ï¼šå¯ä»¥è¿åŠ ï¼š\texttt{a\ +\ b\ +\ c\ +\ d}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  å…¶ä»–å¸¸ç”¨æ“ä½œ
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \StringTok{\textquotesingle{}Hello Python\textquotesingle{}}

\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}lo\textquotesingle{}} \KeywordTok{in}\NormalTok{ a) }\CommentTok{\# inï¼š æ˜¯å¦å­˜åœ¨}

\BuiltInTok{print}\NormalTok{(a.find(}\StringTok{\textquotesingle{}th\textquotesingle{}}\NormalTok{) )}\CommentTok{\# find()ï¼šæŸ¥æ‰¾ä½ç½®}

\BuiltInTok{print}\NormalTok{(a.replace(}\StringTok{\textquotesingle{}Python\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}Bob\textquotesingle{}}\NormalTok{)) }\CommentTok{\# replace()ï¼šæ›¿æ¢}

\BuiltInTok{print}\NormalTok{(a.lower()) }\CommentTok{\# è½¬ä¸ºå°å†™ï¼šlower()}

\BuiltInTok{print}\NormalTok{(a.upper()) }\CommentTok{\# è½¬ä¸ºå¤§å†™ï¼šupper()}

\BuiltInTok{print}\NormalTok{(}\StringTok{" apple pie "}\NormalTok{.strip()) }\CommentTok{\# å»é™¤å¤´å°¾çš„ä¸å¯è§å­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
True
8
Hello Bob
hello python
HELLO PYTHON
apple pie
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  åˆ‡ç‰‡ï¼šæˆªå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†
\end{enumerate}

åé¢è®²åˆ—è¡¨Listä¼šè¯¦ç»†ä»‹ç»

\hypertarget{ux663eux793aux7279ux6b8aux5b57ux7b26ux8f6cux4e49ux5b57ux7b26}{%
\subsection{\texorpdfstring{æ˜¾ç¤ºç‰¹æ®Šå­—ç¬¦ï¼šè½¬ä¹‰å­—ç¬¦\texttt{\textbackslash{}}}{æ˜¾ç¤ºç‰¹æ®Šå­—ç¬¦ï¼šè½¬ä¹‰å­—ç¬¦\textbackslash{}}}\label{ux663eux793aux7279ux6b8aux5b57ux7b26ux8f6cux4e49ux5b57ux7b26}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ``æ¢è¡Œ\texttt{\textbackslash{}n}''
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{"Hello}\CharTok{\textbackslash{}n}\StringTok{Python"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Hello
Python
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  æ˜¾ç¤ºåæ–œæ ã€å•å¼•å·ã€åŒå¼•å·ç­‰ç­‰
\end{enumerate}

è¿™äº›å­—ç¬¦ï¼Œæœ¬èº«å·²ç»æ˜¯Pythonè¯­æ³•çš„ä¸€éƒ¨åˆ†ï¼Œè¦æ”¾åœ¨å­—ç¬¦ä¸²ä¸­æ˜¾ç¤ºï¼Œéœ€è¦è½¬ä¹‰ï¼Œå³åœ¨è¿™ä¸ªç¬¦å·ä¹‹å‰åŠ åæ–œæ ï¼Œå¦‚ä½ è¦æ˜¾ç¤ºåŒå¼•å·ï¼Œåˆ™å¯ä»¥ä½¿ç”¨\texttt{\textbackslash{}"}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}åæ–œæ }\CharTok{\textbackslash{}\textbackslash{}}\StringTok{\textquotesingle{}}\NormalTok{) }\CommentTok{\# åæ–œæ  \textbackslash{}\textbackslash{}}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}}\CharTok{\textbackslash{}"}\StringTok{åŒå¼•å·}\CharTok{\textbackslash{}"}\StringTok{\textquotesingle{}}\NormalTok{) }\CommentTok{\# åŒå¼•å· \textbackslash{}\textquotesingle{}}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}}\CharTok{\textbackslash{}\textquotesingle{}}\StringTok{å•å¼•å·}\CharTok{\textbackslash{}\textquotesingle{}}\StringTok{\textquotesingle{}}\NormalTok{) }\CommentTok{\# å•å¼•å· \textbackslash{}"}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
åæ–œæ \
"åŒå¼•å·"
'å•å¼•å·'
\end{verbatim}

å¦‚æœä¸€ä¸‹å­çœ‹ä¸æ¸…æ¥šï¼Œåº”è¯¥å¦‚ä½•ä¹¦å†™ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä½œä¸ºå­—ç¬¦ä¸²æœ€å¤–ä¾§çš„å•å¼•å·ï¼Œæˆ–è€…åŒå¼•å·ï¼Œå¿…é¡»å¯¹ç§°
\end{enumerate}

\begin{verbatim}
a = ' '
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  åœ¨å•å¼•å·ï¼Œæˆ–è€…åŒå¼•å·å†…ï¼Œå†™å…¥ä½ è¦çš„æ–‡å­—
\end{enumerate}

\begin{verbatim}
a = 'HelloWorld'
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  æŠŠè½¬ä¹‰å­—ç¬¦çœ‹æˆä¸€ä¸ªæ•´ä½“ï¼Œæ’å…¥å…¶ä¸­ï¼Œå¦‚\texttt{\textbackslash{}n}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \StringTok{\textquotesingle{}Hello}\CharTok{\textbackslash{}n}\StringTok{World\textquotesingle{}}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Hello
World
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  æ’å…¥æ–œæ ç­‰ï¼Œä¹Ÿæ˜¯ä¸€æ ·
\end{enumerate}

\hypertarget{ux5b57ux7b26ux4e32ux683cux5f0fux5316}{%
\subsection{å­—ç¬¦ä¸²æ ¼å¼åŒ–}\label{ux5b57ux7b26ux4e32ux683cux5f0fux5316}}

æˆ‘ä»¬å¾€å¾€éœ€è¦æŠŠä¸€ä¸ªå˜é‡æ’å…¥ä¸€è¡Œå­—ç¬¦ä¸­ï¼Œä¾‹å¦‚æˆ‘ä»¬æƒ³æ˜¾ç¤ºå˜é‡\texttt{a}å’Œ\texttt{b}çš„å€¼

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% ç®€å•åŠ æ³•}
\NormalTok{a }\OperatorTok{=} \DecValTok{1}
\NormalTok{b }\OperatorTok{=} \DecValTok{2}
\NormalTok{c }\OperatorTok{=}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b}
\BuiltInTok{print}\NormalTok{(a)}
\BuiltInTok{print}\NormalTok{(b)}
\BuiltInTok{print}\NormalTok{(c)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
1
2
3
\end{verbatim}

ä¼šå¾—åˆ°ï¼š

\begin{verbatim}
1
2
3
\end{verbatim}

ä½†é—®é¢˜æ˜¯ï¼Œä½ åªçœ‹ç»“æœï¼Œå…¶å®åˆ†ä¸æ¸…å“ªä¸ªæ˜¯aï¼Œå“ªä¸ªæ˜¯bï¼Œå“ªä¸ªæ˜¯cã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬æ›´æƒ³è¦çš„æ˜¯ä¸€å¥è¯ï¼Œå¦‚

\begin{verbatim}
açš„å€¼æ˜¯: 1
bçš„å€¼æ˜¯: 2
cçš„å€¼æ˜¯: 3
\end{verbatim}

æ‰€ä»¥è¦ç”¨åˆ°å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼ŒæŠŠå˜é‡å’Œå­—ç¬¦ä¸²æ··åˆã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% ç®€å•åŠ æ³•}
\NormalTok{a }\OperatorTok{=} \DecValTok{1}
\NormalTok{b }\OperatorTok{=} \DecValTok{2}
\NormalTok{c }\OperatorTok{=}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}açš„å€¼æ˜¯:}\SpecialCharTok{\{\}}\CharTok{\textbackslash{}n}\StringTok{bçš„å€¼æ˜¯:}\SpecialCharTok{\{\}}\StringTok{\textquotesingle{}}\NormalTok{.}\BuiltInTok{format}\NormalTok{(a,b))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
açš„å€¼æ˜¯:1
bçš„å€¼æ˜¯:2
\end{verbatim}

è§£é‡Šä¸€ä¸‹ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  é¦–å…ˆ,\texttt{\textquotesingle{}açš„å€¼æ˜¯:\{\}\textbackslash{}nbçš„å€¼æ˜¯:\{\}\textquotesingle{}}ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼ˆobjectï¼‰ï¼Œæ³¨æ„ä¸¤è¾¹çš„å•å¼•å·ã€‚
\item
  \texttt{Str.format()}ï¼Œæ˜¯å­—ç¬¦ä¸²ç±»å‹çš„ä¸€ä¸ªæ–¹æ³•ï¼ˆmethodï¼‰ï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸º``æˆå‘˜å‡½æ•°''ï¼šå‡½æ•°å+å°æ‹¬å·ã€‚
\item
  ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œç²—ç•¥åœ°ç†è§£æ˜¯ï¼š\texttt{someone.do\_something()}ï¼ŒæŸæ ·ä¸œè¥¿åšäº†ä¸€ä»¶ä»€ä¹ˆäº‹ã€‚
\item
  \texttt{Str.format()}ï¼Œè¿™ä¸ªæ–¹æ³•å³ä¸€ä¸ª``å­—ç¬¦ä¸²æ ¼å¼åŒ–äº†è‡ªå·±''ã€‚å…·ä½“çš„åšæ³•ï¼Œæ˜¯æŠŠ\texttt{format()}çš„å‚æ•°ï¼Œè¿™é‡Œæ˜¯\texttt{a}å’Œ\texttt{b}ï¼Œ\textbf{æŒ‰é¡ºåº}å¡«è¿›åŸå­—ç¬¦ä¸²ä¸­çš„\textbf{å¤§æ‹¬å·\texttt{\{\}}}ä¸­ã€‚
  5.æ³¨æ„ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æ¢è¡Œç¬¦\texttt{\textbackslash{}n}
\end{enumerate}

å®é™…ä¸Šï¼ŒæŠŠå­—ç¬¦ä¸²å¯¹è±¡èµ‹å€¼ç»™å˜é‡ï¼Œå¦‚\texttt{msg}ï¼Œé‚£ä¹ˆ\texttt{msg}å°±æˆäº†å­—ç¬¦ä¸²ç±»å‹ï¼ˆæˆ–è€…è¯´æŒ‡å‘äº†ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼‰ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥è¿™ä¹ˆåšï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{msg }\OperatorTok{=} \StringTok{\textquotesingle{}açš„å€¼æ˜¯:}\SpecialCharTok{\{\}}\CharTok{\textbackslash{}n}\StringTok{bçš„å€¼æ˜¯:}\SpecialCharTok{\{\}}\StringTok{\textquotesingle{}}
\BuiltInTok{print}\NormalTok{(msg.}\BuiltInTok{format}\NormalTok{(a,b))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
açš„å€¼æ˜¯:1
bçš„å€¼æ˜¯:2
\end{verbatim}

è¿˜å¯ä»¥æŒ‰å‚æ•°çš„é¡ºåºï¼ˆç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯0ï¼‰ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{msg }\OperatorTok{=} \StringTok{\textquotesingle{}cçš„å€¼æ˜¯:}\SpecialCharTok{\{2\}}\CharTok{\textbackslash{}n}\StringTok{açš„å€¼æ˜¯:}\SpecialCharTok{\{0\}}\CharTok{\textbackslash{}n}\StringTok{bçš„å€¼æ˜¯:}\SpecialCharTok{\{1\}}\StringTok{\textquotesingle{}}
\BuiltInTok{print}\NormalTok{(msg.}\BuiltInTok{format}\NormalTok{(a,b,c))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
cçš„å€¼æ˜¯:3
açš„å€¼æ˜¯:1
bçš„å€¼æ˜¯:2
\end{verbatim}

è¿˜æœ‰æ›´ç®€æ´çš„åŠæ³•''f-string''ï¼ˆéœ€è¦python3.6ç‰ˆæœ¬æˆ–ä»¥ä¸Šï¼‰

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å˜é‡çš„å¼€å¤´ï¼ˆå•å¼•å·æˆ–è€…åŒå¼•å·ä¹‹å‰ï¼‰ï¼ŒåŠ \texttt{f}ï¼Œå½¢æˆ\texttt{f\textquotesingle{}\textquotesingle{}}ï¼Œå³æ‰€è°“''f-string''ã€‚
\item
  è¿™ç§å­—ç¬¦ä¸²åœ¨æ‰“å°çš„æ—¶å€™ï¼Œpythonä¼šè‡ªåŠ¨æŠŠå¯¹åº”çš„å˜é‡å¡«å……è¿›å»ã€‚
\item
  åœ¨ä¸­æ‹¬å·é‡Œç›´æ¥å¡«å˜é‡å
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{msg }\OperatorTok{=} \SpecialStringTok{f\textquotesingle{}açš„å€¼æ˜¯:}\SpecialCharTok{\{}\NormalTok{a}\SpecialCharTok{\}}\CharTok{\textbackslash{}n}\SpecialStringTok{bçš„å€¼æ˜¯:}\SpecialCharTok{\{}\NormalTok{b}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}
\BuiltInTok{print}\NormalTok{(msg)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
açš„å€¼æ˜¯:1
bçš„å€¼æ˜¯:2
\end{verbatim}

å®é™…ä¸Šï¼Œä½ è¦åœ¨ä¸­æ‹¬å·é‡Œæ”¾å…¶ä»–pythonè¯­å¥ï¼Œä¾‹å¦‚å…¶ä¸­åšè¿ç®—ï¼Œä¹Ÿå¯ä»¥

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{msg }\OperatorTok{=} \SpecialStringTok{f\textquotesingle{}a + bçš„å€¼æ˜¯}\SpecialCharTok{\{}\NormalTok{a }\OperatorTok{+}\NormalTok{ b}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}
\BuiltInTok{print}\NormalTok{(msg)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
a + bçš„å€¼æ˜¯3
\end{verbatim}

å¦‚æœåªæ˜¯è¦æ˜¾ç¤ºä¸€ä¸ªå˜é‡çš„åç§°ï¼Œè¿˜æœ‰æ›´ç®€å•çš„åŠæ³•ï¼ˆéœ€è¦Python 3.8æˆ–ä»¥ä¸Šï¼‰

\texttt{f\{å˜é‡å=\}}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}}\SpecialCharTok{\{}\NormalTok{a}\OperatorTok{=}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
a=1
\end{verbatim}

ç®€å•çš„æ•°å­—æ ¼å¼åŒ–ï¼šå˜é‡ååŠ \texttt{\{å˜é‡å:æ ¼å¼\}}

å¦‚åªæ˜¾ç¤º2ä½å°æ•°\texttt{:0.2f}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pi }\OperatorTok{=} \FloatTok{3.1415926535897}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"åœ†å‘¨ç‡ï¼ˆä¿ç•™2ä½å°æ•°ï¼‰æ˜¯}\SpecialCharTok{\{}\NormalTok{pi}\SpecialCharTok{:0.2f\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
åœ†å‘¨ç‡ï¼ˆä¿ç•™2ä½å°æ•°ï¼‰æ˜¯3.14
\end{verbatim}

å¦‚ä»¥ç™¾åˆ†æ•°å½¢å¼æ˜¾ç¤º\texttt{:\%}ï¼Œä¿ç•™2ä½å°æ•°æ˜¯\texttt{:.2\%}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{z }\OperatorTok{=} \FloatTok{0.25}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"zæ˜¯}\SpecialCharTok{\{}\NormalTok{z}\SpecialCharTok{:.2\%\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
zæ˜¯25.00%
\end{verbatim}

\hypertarget{ux5c0fux7ec3ux4e60-1}{%
\subsection{å°ç»ƒä¹ }\label{ux5c0fux7ec3ux4e60-1}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  å»ºç«‹2ä¸ªå˜é‡ï¼š\texttt{name}å’Œ\texttt{id}ï¼Œåˆ†åˆ«èµ‹å€¼ä¸ºä½ çš„å§“åå’Œå­¦å·ã€‚æ‰“å°ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¾ç¤º''å­¦å·:ï¼Œå§“å:ã€‚''
\item
  åœ†çš„åŠå¾„\texttt{R=5}ï¼Œè®¡ç®—åœ†çš„é¢ç§¯\texttt{area}ï¼Œå¹¶æ‰“å°è¿™å¥è¯ï¼Œå¹¶ä¿ç•™2ä½å°æ•°ï¼š``åŠå¾„ä¸ºçš„åœ†çš„é¢ç§¯æ˜¯''
\end{enumerate}

\hypertarget{ux5e03ux5c14ux578bboolean}{%
\section{å¸ƒå°”å‹Boolean}\label{ux5e03ux5c14ux578bboolean}}

å¸ƒå°”å‹Booleanï¼Œä¹Ÿå¸¸ç®€ç§°ä¸ºboolï¼Œé€»è¾‘å…³ç³»ï¼Œåªæœ‰2ä¸ªå€¼ï¼šçœŸ\texttt{True}ï¼Œæˆ–è€…å‡\texttt{False}ï¼ˆ\texttt{r\ colorize("æ³¨æ„åŒºåˆ†å¤§å°å†™",\textquotesingle{}red\textquotesingle{})}ï¼‰

ä¸€èˆ¬ç”¨äºæ¡ä»¶åˆ¤æ–­ï¼ˆè¯¦ç»†è§åï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{1}
\NormalTok{b }\OperatorTok{=} \DecValTok{2}

\ControlFlowTok{if}\NormalTok{ a }\OperatorTok{\textgreater{}}\NormalTok{ b:}
  \BuiltInTok{print}\NormalTok{(}\StringTok{"a is bigger"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{ux7b80ux5355ux5e03ux5c14ux8fd0ux7b97}{%
\subsection{ç®€å•å¸ƒå°”è¿ç®—}\label{ux7b80ux5355ux5e03ux5c14ux8fd0ux7b97}}

å¯¹äºä¸ç†Ÿæ‚‰ç¼–ç¨‹çš„åŒå­¦å¯èƒ½æœ‰ç‚¹æŠ½è±¡ã€‚

ä¸ \texttt{and}ï¼Œæˆ–\texttt{or}ï¼Œé\texttt{not}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä¸
  \texttt{and}ï¼Œç®€ç§°ï¼š``æ‰€æœ‰æ¡ä»¶åŒæ—¶æˆç«‹''ï¼ˆå…¨éƒ¨æ¡ä»¶ä¸º\texttt{True}ï¼Œä¼šå¾—åˆ°\texttt{True}ï¼›å¦åˆ™ä¸º\texttt{False}ï¼‰
\end{enumerate}

å¦‚ï¼š``å­¦å·æ˜¯å•æ•°''ï¼Œä¸”``ååœ¨ç­çº§å‰æ’çš„åŒå­¦''

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\VariableTok{True} \KeywordTok{and} \VariableTok{True}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\VariableTok{False} \KeywordTok{and} \VariableTok{True}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\VariableTok{False} \KeywordTok{and} \VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
True
False
False
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  æˆ–\texttt{or}ï¼Œç®€ç§°ï¼š``æœ€å°‘æœ‰ä¸€ä¸ªæ¡ä»¶æˆç«‹''ï¼ˆæœ€å°‘ä¸€ä¸ªæ¡ä»¶ä¸º\texttt{True}ï¼Œä¼šå¾—åˆ°\texttt{True}ï¼›å…¨éƒ¨æ¡ä»¶ä¸º\texttt{False}ï¼Œåˆ™å¾—åˆ°\texttt{False}ï¼‰
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\VariableTok{True} \KeywordTok{or} \VariableTok{True}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\VariableTok{False} \KeywordTok{or} \VariableTok{True}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\VariableTok{False} \KeywordTok{or} \VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
True
True
False
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  é\texttt{not}ï¼šå–å
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\KeywordTok{not} \VariableTok{True}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\KeywordTok{not} \VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
False
True
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  ä¸¾ä¾‹ï¼š
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{1}
\NormalTok{b }\OperatorTok{=} \DecValTok{2}

\NormalTok{a }\OperatorTok{\textgreater{}}\NormalTok{ b}

\NormalTok{(a }\OperatorTok{\textgreater{}} \DecValTok{1}\NormalTok{) }\KeywordTok{and}\NormalTok{ (b }\OperatorTok{\textgreater{}} \DecValTok{1}\NormalTok{)}

\NormalTok{(a }\OperatorTok{\textgreater{}} \DecValTok{1}\NormalTok{) }\KeywordTok{or}\NormalTok{ (b }\OperatorTok{\textgreater{}} \DecValTok{1}\NormalTok{)}

\KeywordTok{not}\NormalTok{ (b }\OperatorTok{\textless{}} \DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
True
\end{verbatim}

\texttt{r\ red("**æ³¨æ„**")}ï¼šé‡ç‚¹å¼ºè°ƒï¼Œå¿…é¡»ç•™æ„è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼Œå…ˆè¿ç®—çš„éƒ¨åˆ†è¦åŠ æ‹¬å·ï¼è¿™å’Œå°å­¦çš„æ•°å­¦è¿ç®—æ˜¯ä¸€æ ·çš„ã€‚

\hypertarget{noneux7c7bux578b}{%
\section{Noneç±»å‹}\label{noneux7c7bux578b}}

ç©ºå€¼ï¼Œä¸€åˆ‡çš†éã€‚ç²—ç•¥åœ°å¯ä»¥ç†è§£ä¸ºä¸€ä¸ª``å ä½ç¬¦''ï¼Œä¾‹å¦‚ä¸€ä¸ªä¸è¿”å›ä»»ä½•å€¼çš„å‡½æ•°ï¼Œä»¥åé‡åˆ°ä¼šå†è§£é‡Šã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \VariableTok{None}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
None
\end{verbatim}

\hypertarget{ux7b80ux5355ux7c7bux578bux8f6cux6362}{%
\section{ç®€å•ç±»å‹è½¬æ¢}\label{ux7b80ux5355ux7c7bux578bux8f6cux6362}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å­—ç¬¦ä¸²å’Œæ•°å€¼
\end{enumerate}

å­—ç¬¦ä¸²ï¼šå¯ä»¥è¡¨ç¤ºè¯è¯­ã€å¥å­ï¼Œå¯ä»¥æ‹¼æ¥ï¼Œç»„åˆ æ•°å­—ï¼šå¯ä»¥è¿ç®—

æ•°å­—å¯ä»¥æ‹¼æ¥å—ï¼Ÿå­—ç¬¦ä¸²å¯ä»¥åšè¿ç®—å—ï¼Ÿ

å…ˆè½¬æ¢ä¸€ä¸‹ç±»å‹

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{birth }\OperatorTok{=} \StringTok{"2001"}

\NormalTok{age }\OperatorTok{=} \DecValTok{2021} \OperatorTok{{-}}\NormalTok{ birth}
\BuiltInTok{print}\NormalTok{(age)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
TypeError: unsupported operand type(s) for -: 'int' and 'str'
NameError: name 'age' is not defined
\end{verbatim}

ä¸€èˆ¬è€Œè¨€ï¼Œç±»å‹è½¬æ¢çš„å‡½æ•°ï¼Œå°±æ˜¯ç›®æ ‡ç±»å‹çš„åå­—ã€‚

æŠŠæŸä¸ªå˜é‡ï¼ˆå¦‚å­—ç¬¦ä¸²strï¼‰è½¬æ•´å‹intï¼Œç”¨å‡½æ•°\texttt{int()}ï¼Œè½¬ä¸ºæµ®ç‚¹æ˜¯\texttt{float()}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{birth }\OperatorTok{=} \StringTok{"2001"}
\NormalTok{age }\OperatorTok{=} \DecValTok{2021} \OperatorTok{{-}} \BuiltInTok{int}\NormalTok{(birth)}
\BuiltInTok{print}\NormalTok{(age)}

\NormalTok{age }\OperatorTok{=} \DecValTok{2021} \OperatorTok{{-}} \BuiltInTok{float}\NormalTok{(birth)}
\BuiltInTok{print}\NormalTok{(age)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
20
20.0
\end{verbatim}

æ˜¾ç„¶åè¿‡æ¥è½¬æ¢ä¹Ÿæ˜¯å¯ä»¥çš„ï¼ŒæŠŠæŸä¸ªå˜é‡è½¬ä¸ºå­—ç¬¦ä¸²\texttt{str()}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}Your age is \textquotesingle{}} \OperatorTok{+} \BuiltInTok{str}\NormalTok{(age))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Your age is 20.0
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  å¸ƒå°”å‹
\end{enumerate}

ï¼ˆæœ‰é€»è¾‘å­¦åŸºç¡€ï¼Œå¯ä»¥å¿«é€Ÿè¿‡ï¼‰

ç‰¹åˆ«åœ°ï¼Œå¸ƒå°”å‹ä¸­ï¼Œ\texttt{True}å¯è§†ä¸º\texttt{1}ï¼Œ\texttt{False}å¯è§†ä¸º\texttt{0}ã€‚
å› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠæ•°å­—çš„è¿ç®—å¥—ç”¨åœ¨å¸ƒå°”å‹ä¸Šã€‚

\texttt{r\ red("æ³¨æ„")}ï¼šè¦ä¿æŒä»£ç çš„æ¸…æ™°æ€§ï¼Œä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨å¸ƒå°”å‹è¿›è¡Œè¿ç®—ï¼Œé™¤éä½ å¾ˆæ˜ç™½è‡ªå·±åœ¨åšä»€ä¹ˆã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \VariableTok{True} \CommentTok{\# Trueå¯è§†ä¸º1}
\BuiltInTok{print}\NormalTok{(a }\OperatorTok{+} \DecValTok{1}\NormalTok{)}

\NormalTok{b }\OperatorTok{=} \VariableTok{False} \CommentTok{\# Falseå¯è§†ä¸º0}
\BuiltInTok{print}\NormalTok{(b }\OperatorTok{{-}} \DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2
-1
\end{verbatim}

åšæ¡ä»¶åˆ¤æ–­çš„æ—¶å€™ï¼Œ\texttt{0}ä¼šåˆ¤å®šä¸º\texttt{False}ï¼Œé\texttt{0}ä¼šåˆ¤æ–­ä¸º\texttt{True}ï¼Œè¿™ä¸ªæˆ‘ä»¬åé¢è¯´æ¡ä»¶è¯­å¥çš„æ—¶å€™ä¼šè¯´ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{if} \OperatorTok{{-}}\DecValTok{1}\NormalTok{:}
  \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}hello\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
hello
\end{verbatim}

\hypertarget{pythonux7684ux7c7bux578bux8f6cux6362ux548cux7c7bux578bux9519ux8bef}{%
\section{Pythonçš„ç±»å‹è½¬æ¢å’Œç±»å‹é”™è¯¯}\label{pythonux7684ux7c7bux578bux8f6cux6362ux548cux7c7bux578bux9519ux8bef}}

Pythonæ˜¯ä¸€ä¸ª``åŠ¨æ€ç±»å‹+å¼ºç±»å‹''è¯­è¨€

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  åŠ¨æ€ç±»å‹ï¼š
\end{enumerate}

å˜é‡åè¿è¡Œæ—¶ç»‘å®šï¼Œå˜é‡ååªæ˜¯ä¸€ä¸ªå¯ä»¥æ’•æ‰å’Œé‡æ–°ç²˜è´´çš„æ ‡ç­¾ã€‚ä½ ä¸ºæŸä¸ªå˜èµ‹å€¼ä»€ä¹ˆç±»å‹ï¼Œè¿™ä¸ªå˜é‡å°±æ˜¯ä»€ä¹ˆç±»å‹ï¼Œåœ¨è¿è¡Œæ—¶å¯ä»¥éšä½ çš„èµ‹å€¼ä»£ç è€Œæ”¹å˜ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  å¼ºç±»å‹ï¼š
\end{enumerate}

\textbf{ä¸€èˆ¬æƒ…å†µä¸‹}ï¼ŒPythonä¸ä¼šä¸ºä½ è‡ªåŠ¨è½¬æ¢ç±»å‹ï¼ˆä¸ä¼š``éšå¼ç±»å‹è½¬æ¢''ï¼‰ã€‚

å¦‚ä¸€ä¸ªå¾ˆçƒ­é—¨çš„è¯­è¨€JavaScriptï¼Œå¤§å®¶ç°åœ¨ä¸Šç½‘çœ‹åˆ°çš„å¤šæ•°ç½‘ç«™ï¼Œå…¶é¡µé¢éƒ½æ˜¯jsè¯­è¨€å†™çš„ã€‚

åœ¨jsä¸­ï¼Œä¸€ä¸ªå­—ç¬¦''0''åŠ ä¸€ä¸ªæ•°å­—1ï¼Œjsä¼šè‡ªåŠ¨ï¼ˆéšå¼åœ°ï¼‰æŠŠåè€…è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åè¿›è¡Œæ‹¼æ¥ã€‚

\begin{verbatim}
"0" + 1; // "01"
\end{verbatim}

è¿™å…¶å®å¯¹ä½ çš„ä»£ç è´¨é‡ï¼ˆå¦‚ç±»å‹çš„æ£€éªŒï¼‰æå‡ºäº†æ›´é«˜è¦æ±‚ï¼Œæ¯”å¦‚ä½ çš„æœ¬æ„å¯èƒ½æ˜¯è¦2ä¸ªæ•°å­—ç›¸åŠ ã€‚

ä½†è¿™æ®µä»£ç ä¼šåœ¨ä½ æ¯«æ— çŸ¥è§‰çš„æƒ…å†µä¸‹ï¼Œä¸€ç›´è¿è¡Œä¸‹å»ï¼Œå¯¼è‡´ä½ å¯èƒ½è¦åœ¨æ— æ•°ä»£ç æ‰§è¡Œè¿‡åï¼Œæ‰å‘ç°é—®é¢˜ã€‚

åœ¨Pythonä¸­ï¼Œåˆ™ä¼šæŠ¥é”™TypeErroré”™è¯¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\textquotesingle{}0\textquotesingle{}} \OperatorTok{+} \DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
TypeError: must be str, not int
\end{verbatim}

æ˜¾ç„¶ï¼Œè¿™è¯´çš„æ˜¯ä¸€ä¸ªstrï¼Œåªèƒ½å’Œå¦ä¸€ä¸ªstrç›¸åŠ ï¼ˆä¸²è”ï¼‰ï¼Œè€Œä¸èƒ½æ˜¯ä¸€ä¸ªintã€‚
è¿™ä¸ªæ—¶å€™ä½ åº”è¯¥ç”¨``æ˜¾å¼''çš„ç±»å‹è½¬æ¢ã€‚

å¦‚æœçœ‹åˆ°TypeErrorï¼Œæ£€æŸ¥ä½ çš„å˜é‡ç±»å‹ã€‚

\hypertarget{ux57faux672cux6570ux636eux7ed3ux6784}{%
\chapter{åŸºæœ¬æ•°æ®ç»“æ„}\label{ux57faux672cux6570ux636eux7ed3ux6784}}

å­˜æ”¾å’Œå¤„ç†æ•°æ®çš„ä¸€äº›ç‰¹æ®Šç»“æ„ã€‚

\hypertarget{ux5217ux8868list}{%
\section{åˆ—è¡¨List}\label{ux5217ux8868list}}

ä¸€ä¸ªåˆ—è¡¨Listï¼Œå°±æ˜¯æŠŠå‡ ä¸ªå…ƒç´ (items)ï¼Œç”¨ä¸€ä¸ª\textbf{å›ºå®šçš„é¡ºåº}è¿åœ¨ä¸€èµ·çš„æ•°æ®ç»“æ„ã€‚åˆ—è¡¨Listæ˜¯ä¸€ä¸ªé‡ç‚¹ï¼Œè¶…çº§å¸¸ç”¨ï¼Œå†…å®¹æ¯”è¾ƒå¤šã€‚

\hypertarget{ux5217ux8868ux7684ux521bux5efa}{%
\subsection{åˆ—è¡¨çš„åˆ›å»º}\label{ux5217ux8868ux7684ux521bux5efa}}

åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ï¼Œå¯ä»¥ç”¨ä¸­æ‹¬å·\texttt{{[}{]}}ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ ç”¨é€—å·åˆ†å¼€ã€‚

ä¸ºäº†å¥½çœ‹ï¼Œå»ºè®®æ¯ä¸ªé€—å·ååŠ ä¸€ä¸ªç©ºæ ¼ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% åˆ—è¡¨List}
\NormalTok{numbers }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{, }\DecValTok{6}\NormalTok{]}
\NormalTok{letters }\OperatorTok{=}\NormalTok{ [}\StringTok{"a"}\NormalTok{, }\StringTok{"b"}\NormalTok{, }\StringTok{"c"}\NormalTok{, }\StringTok{"d"}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(numbers)}
\BuiltInTok{print}\NormalTok{(letters)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2, 3, 4, 5, 6]
['a', 'b', 'c', 'd']
\end{verbatim}

åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼Œå¯ä»¥æ··åˆå¤šç§ç±»å‹ã€‚\texttt{r\ red("ä½†ä¸€èˆ¬ä¸å»ºè®®è¿™ä¹ˆåš")}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a\_list }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\StringTok{"a"}\NormalTok{, }\StringTok{"b"}\NormalTok{, }\StringTok{"c"}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(a\_list)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2, 3, 'a', 'b', 'c']
\end{verbatim}

ä¹Ÿå¯ä»¥\texttt{+}æ‹¼æ¥ä¸¤ä¸ªListæ¥åˆ›å»ºæ–°çš„List

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a\_new\_list }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{] }\OperatorTok{+}\NormalTok{ [}\DecValTok{7}\NormalTok{,}\DecValTok{8}\NormalTok{,}\DecValTok{9}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(a\_new\_list)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2, 3, 7, 8, 9]
\end{verbatim}

æˆ‘ä»¬è¿˜å¯ä»¥åˆ›å»ºç©ºListã€‚æ¯”å¦‚ï¼Œå½“åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ è¿˜æ²¡ç¡®å®šï¼Œè€Œä½ è¦å…ˆè¡Œåˆ›å»ºåˆ—è¡¨ï¼Œç„¶åå†ç”Ÿæˆå…ƒç´ æ·»åŠ è¿›å»ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% ç©ºåˆ—è¡¨}
\NormalTok{empty\_list }\OperatorTok{=}\NormalTok{ []}
\NormalTok{empty\_list }\OperatorTok{=} \BuiltInTok{list}\NormalTok{()}
\BuiltInTok{print}\NormalTok{(empty\_list)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[]
\end{verbatim}

å¯¹ä¸€ä¸ªå­—ç¬¦ä¸²String
ä½¿ç”¨list()å‡½æ•°ï¼Œå¯ä»¥æŠŠå­—ç¬¦ä¸²åˆ†è§£æˆå­—æ¯ç»„æˆçš„Listã€‚è¿™æœ¬è´¨ä¸Šå°±æ˜¯ç±»å‹è½¬æ¢ï¼šç”¨ç±»å‹çš„åå­—åšè½¬æ¢å‡½æ•°çš„åå­—ã€‚

å¦‚æœæŠŠå‡½æ•°å\texttt{list}çœ‹æˆæ˜¯ä¸€ä¸ªåŠ¨è¯ï¼Œæˆ–è€…å¯ä»¥è§£é‡Šæˆï¼šlist a stringã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% }
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}apple\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'p', 'p', 'l', 'e']
\end{verbatim}

\texttt{r\ red("æ³¨æ„")}ï¼šå®é™…ä¸Šï¼Œlist()å¯ä»¥ç”¨äºæ‰€æœ‰ç±»å‹çš„åºåˆ—ï¼ˆæœ‰åºåˆ—ç»“æ„çš„å…¶ä»–æ•°æ®ï¼‰ï¼Œä»¥åæˆ‘ä»¬é‡åˆ°å›è¯´ã€‚

ç‰¹åˆ«åœ°ï¼Œå¦‚æœæˆ‘ä»¬è½¬æ¢ä¸€ä¸ªå¤šè¡Œçš„å­—ç¬¦ä¸²ï¼Œä¼šå‘ç°ä»€ä¹ˆï¼Ÿ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \StringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}hello}
\StringTok{python}
\StringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(a))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['h', 'e', 'l', 'l', 'o', '\n', 'p', 'y', 't', 'h', 'o', 'n', '\n']
\end{verbatim}

æ³¨æ„ï¼Œæ¢è¡Œç¬¦\texttt{\textbackslash{}n}ä¹Ÿå‡ºç°åœ¨å…¶ä¸­ã€‚å®é™…ä¸Šï¼Œåº”è¯¥æŠŠæ¢è¡Œç¬¦ä¹‹ç±»çš„ä¸å¯è§å­—ç¬¦ä¹Ÿçœ‹æˆä¸€ä¸ªçœŸæ­£çš„å­—ç¬¦ï¼Œå®é™…ä¸Š\textbf{å­˜åœ¨}ï¼Œä½†éƒ¨åˆ†æƒ…å†µ\textbf{ä¸å¯è§}è€Œå·²

\hypertarget{ux5217ux8868ux7684ux5143ux7d20}{%
\subsection{åˆ—è¡¨çš„å…ƒç´ }\label{ux5217ux8868ux7684ux5143ux7d20}}

è¦å¼•ç”¨ä¸€ä¸ªåˆ—è¡¨çš„å…ƒç´ ï¼Œä¹Ÿä½¿ç”¨\texttt{{[}{]}}ï¼Œå…¶ä¸­åŒ…æ‹¬å…ƒç´ çš„ç´¢å¼•(index)ï¼Œæ³¨æ„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•æ˜¯0ï¼ˆPythonå’Œcè¯­è¨€ä¸€æ ·ï¼Œä»0å¼€å§‹è®¡æ•°ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(numbers)}
\BuiltInTok{print}\NormalTok{(numbers[}\DecValTok{0}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(numbers[}\DecValTok{3}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2, 3, 4, 5, 6]
1
4
\end{verbatim}

å¯ä»¥åå‘å¼•ç”¨å…ƒç´ ï¼Œä¾‹å¦‚\texttt{-1}æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ï¼Œ\texttt{-2}æŒ‡å‘å€’æ•°ç¬¬äºŒä¸ªï¼Œå¦‚æ­¤ç±»æ¨

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(numbers)}
\BuiltInTok{print}\NormalTok{(numbers[}\OperatorTok{{-}}\DecValTok{1}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(numbers[}\OperatorTok{{-}}\DecValTok{2}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2, 3, 4, 5, 6]
6
5
\end{verbatim}

åˆ—è¡¨ä¸­çš„å…ƒç´ æ˜¯å¯å˜çš„ã€‚åŒæ ·ï¼Œç”¨ç­‰å·\texttt{=}å¯¹æŸä¸ªå…ƒç´ èµ‹å€¼å³å¯

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(numbers)}
\NormalTok{numbers[}\DecValTok{0}\NormalTok{] }\OperatorTok{=} \DecValTok{999} \CommentTok{\# ä¿®æ”¹ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ä¸º999}
\BuiltInTok{print}\NormalTok{(numbers)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2, 3, 4, 5, 6]
[999, 2, 3, 4, 5, 6]
\end{verbatim}

æ·»åŠ å…ƒç´ 

åœ¨Listçš„æœ€åæ·»åŠ å…ƒç´ å¯ä»¥ç”¨\texttt{.append()}ã€‚æ·»åŠ å¤šä¸ªå…ƒç´ ï¼Œå¯ä»¥ç”¨\texttt{.extend()}ï¼Œæ³¨æ„\texttt{extend}ä½¿ç”¨ä¸€ä¸ªlistä½œä¸ºå‚æ•°ã€‚æ’å…¥å…ƒç´ åˆ°æŒ‡å®šç´¢å¼•å·\texttt{.insert()}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{letters }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{"abcd"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(letters)}


\NormalTok{letters.append(}\StringTok{\textquotesingle{}e\textquotesingle{}}\NormalTok{)}\CommentTok{\# æ·»åŠ ä¸€ä¸ªå…ƒç´ }
\BuiltInTok{print}\NormalTok{(letters)}


\NormalTok{letters.extend([}\StringTok{\textquotesingle{}f\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}g\textquotesingle{}}\NormalTok{]) }\CommentTok{\#æ·»åŠ å¤šä¸ªå…ƒç´ ï¼šæŠŠè¦æ·»åŠ çš„å…ƒç´ æ”¾è¿›ä¸€ä¸ªlisté‡Œ}
\BuiltInTok{print}\NormalTok{(letters)}


\NormalTok{letters.insert(}\DecValTok{3}\NormalTok{,}\StringTok{"apple"}\NormalTok{) }\CommentTok{\#å…ƒç´ æ’å…¥åˆ°æŒ‡å®šç´¢å¼•çš„ä½ç½®}
\BuiltInTok{print}\NormalTok{(letters)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'b', 'c', 'd']
['a', 'b', 'c', 'd', 'e']
['a', 'b', 'c', 'd', 'e', 'f', 'g']
['a', 'b', 'c', 'apple', 'd', 'e', 'f', 'g']
\end{verbatim}

ç§»é™¤ï¼šç§»é™¤æŸä¸ªå…ƒç´ ï¼Œä½¿ç”¨\texttt{.remove()}ï¼›æŒ‰ç…§ç´¢å¼•ç§»é™¤\texttt{del}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(letters)}
\NormalTok{letters.remove(}\StringTok{\textquotesingle{}apple\textquotesingle{}}\NormalTok{) }\CommentTok{\# å¦‚æœ\textquotesingle{}apple\textquotesingle{}ä¸å­˜åœ¨ï¼Œä¼šæŠ›å‡ºé”™è¯¯ï¼šValueError: list.remove(x): x not in list}
\BuiltInTok{print}\NormalTok{(letters)}

\KeywordTok{del}\NormalTok{ letters[}\DecValTok{0}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(letters)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'b', 'c', 'apple', 'd', 'e', 'f', 'g']
['a', 'b', 'c', 'd', 'e', 'f', 'g']
['b', 'c', 'd', 'e', 'f', 'g']
\end{verbatim}

\hypertarget{ux5176ux4ed6ux5e38ux7528ux64cdux4f5c}{%
\subsection{å…¶ä»–å¸¸ç”¨æ“ä½œ}\label{ux5176ux4ed6ux5e38ux7528ux64cdux4f5c}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è·å–çš„Listçš„é•¿åº¦
\end{enumerate}

é¢˜å¤–è¯ï¼šä»é•¿åº¦å¯ä»¥çŸ¥é“ï¼Œæœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•å·æ˜¯é•¿åº¦-1

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{"apple"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(a)}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{len}\NormalTok{(a))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'p', 'p', 'l', 'e']
5
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  è·å¾—æœ€å¤§å€¼ã€æœ€å°å€¼å’Œæ±‚å’Œ
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{max}\NormalTok{(a)) }\CommentTok{\# å¦‚æœåŒ…å«ä¸å¯æ¯”è¾ƒå¤§å°ç±»å‹ï¼Œå¦‚strï¼Œä¼šå‡ºé”™ï¼}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{min}\NormalTok{(a))}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{sum}\NormalTok{(a))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
5
1
15
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  åŸåœ°æ’åº\texttt{.sort()},é»˜è®¤çš„æ’åºæ–¹å¼æ˜¯``ä»å°åˆ°å¤§''
\end{enumerate}

\texttt{r\ red("æ³¨æ„ï¼š")}è¿™ä¸ªæ–¹æ³•ä¼šæ”¹å˜åŸListçš„é¡ºåº

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{5}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{]}
\NormalTok{a.sort()}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2, 3, 4, 5]
\end{verbatim}

ä¹Ÿå¯ä»¥é€†åºï¼šä»å¤§åˆ°å°

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a.sort(reverse}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[5, 4, 3, 2, 1]
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  æ’åº\texttt{sorted()}ï¼Œ
\end{enumerate}

\texttt{r\ red("æ³¨æ„ï¼š")\textasciigrave{}\textasciigrave{}sorted()}å›è¿”å›ä¸€ä¸ªæ–°çš„ã€æ’åºåçš„Listï¼Œä¸ä¼šæ”¹å˜åŸListçš„é¡ºåºã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{5}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(a)}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{sorted}\NormalTok{(a)) }\CommentTok{\# æ‰“å°æ’åºçš„ç»“æœ}
\BuiltInTok{print}\NormalTok{(a) }\CommentTok{\# åŸlistçš„é¡ºåºå¹¶æœªæ”¹å˜}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[5, 3, 4, 2, 1]
[1, 2, 3, 4, 5]
[5, 3, 4, 2, 1]
\end{verbatim}

ä¹Ÿå¯ä»¥é€†åºæ’åºï¼ˆä»å¤§åˆ°å°ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b }\OperatorTok{=}\NormalTok{ [}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{sorted}\NormalTok{(b, reverse}\OperatorTok{=}\VariableTok{True}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[5, 4, 3, 2, 1]
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  ç»Ÿè®¡æŸä¸ªå…ƒç´ çš„æ•°é‡
\end{enumerate}

\texttt{.count()}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{5}\NormalTok{]}

\BuiltInTok{print}\NormalTok{(a.count(}\DecValTok{3}\NormalTok{)) }\CommentTok{\# aä¸­çš„3æœ‰å¤šå°‘ä¸ªï¼Ÿ}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{5}
\tightlist
\item
  æŸ¥æ‰¾æŸä¸ªå…ƒç´ ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}an apple\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(a)}
\BuiltInTok{print}\NormalTok{(a.index(}\StringTok{\textquotesingle{}p\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'n', ' ', 'a', 'p', 'p', 'l', 'e']
4
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{6}
\tightlist
\item
  allå’Œany
\end{enumerate}

å¯ä»¥ç”¨æ¥å›ç­”``æ˜¯å¦å…¨ç­åŒå­¦éƒ½åŠæ ¼ï¼Ÿ''ä¹‹ç±»çš„é—®é¢˜ã€‚è¿™éƒ¨åˆ†æˆ‘ä»¬åœ¨åé¢åˆ—è¡¨æ¨å¯¼å¼ä¼šè¿›ä¸€æ­¥å±•å¼€ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ˜¯å¦å…¨éƒ¨ä¸ºçœŸ}
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\VariableTok{True}\NormalTok{, }\VariableTok{True}\NormalTok{]}
\BuiltInTok{all}\NormalTok{(a) }

\CommentTok{\# æ˜¯å¦æœ‰ä»»ä½•ä¸€ä¸ªå…ƒç´ ä¸ºçœŸ}
\NormalTok{b }\OperatorTok{=}\NormalTok{ [}\VariableTok{False}\NormalTok{, }\VariableTok{True}\NormalTok{]}
\BuiltInTok{any}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
True
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{7}
\tightlist
\item
  åˆ¤æ–­in æŸä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{6}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(}\DecValTok{3} \KeywordTok{in}\NormalTok{ a)}
\BuiltInTok{print}\NormalTok{(}\DecValTok{4} \KeywordTok{in}\NormalTok{ a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
True
False
\end{verbatim}

å°æ€è€ƒï¼šå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦``ä¸åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­''å‘¢ï¼Ÿ

\hypertarget{list-ux7ec3ux4e60ux5143ux7d20ux548cux5e38ux7528ux64cdux4f5c}{%
\subsection{List
ç»ƒä¹ ï¼ˆå…ƒç´ å’Œå¸¸ç”¨æ“ä½œï¼‰}\label{list-ux7ec3ux4e60ux5143ux7d20ux548cux5e38ux7528ux64cdux4f5c}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  åˆ›å»ºä¸€ä¸ªåä¸ºmy\_listçš„åˆ—è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š1, 3, 5, 7,
  9ã€‚ç„¶ååˆ›å»ºä¸€ä¸ªå˜é‡elementï¼Œå°†å…¶è®¾ç½®ä¸ºåˆ—è¡¨ä¸­çš„ç¬¬å››ä¸ªå…ƒç´ ã€‚
\item
  åˆ›å»ºä¸€ä¸ªåä¸ºmy\_listçš„åˆ—è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š2, 4, 6,
  8ã€‚ä½¿ç”¨appendæ–¹æ³•å°†10æ·»åŠ åˆ°åˆ—è¡¨çš„æœ«å°¾ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªå˜é‡lengthï¼Œå°†å…¶è®¾ç½®ä¸ºåˆ—è¡¨çš„é•¿åº¦ã€‚
\item
  åˆ›å»ºä¸€ä¸ªåä¸ºmy\_listçš„åˆ—è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š1, 9, 3,
  7ã€‚ä½¿ç”¨insertæ–¹æ³•åœ¨9å’Œ3ä¹‹é—´æ’å…¥ä¸€ä¸ªå€¼ä¸º5çš„å…ƒç´ ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªå˜é‡max\_valueï¼Œå°†å…¶è®¾ç½®ä¸ºåˆ—è¡¨ä¸­çš„æœ€å¤§å€¼ã€‚
\item
  åˆ›å»ºä¸€ä¸ªåä¸ºmy\_listçš„åˆ—è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š2.2, 3.3, 1.1,
  4.4ã€‚ä½¿ç”¨removeæ–¹æ³•åˆ é™¤å…ƒç´ 1.1ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªå˜é‡min\_valueï¼Œå°†å…¶è®¾ç½®ä¸ºåˆ—è¡¨ä¸­çš„æœ€å°å€¼ã€‚
\end{enumerate}

æäº¤èŒƒä¾‹ï¼š

æ³¨ï¼š 1. ä¸ç”¨å†™ä½ çš„ä¸ªäººä¿¡æ¯ã€‚ 2. ä¸ç”¨æŠŠé¢˜ç›®æŠ„ä¸€é

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# List ç»ƒä¹ 1}
\CommentTok{\# ç»ƒä¹ é¢˜1}
\CommentTok{\# \textless{}è¿™é‡Œå†™ç¬¬1é¢˜çš„ä»£ç \textgreater{} }

\CommentTok{\# ç»ƒä¹ é¢˜2}
\CommentTok{\# \textless{}è¿™é‡Œå†™ç¬¬2é¢˜çš„ä»£ç \textgreater{} }

\CommentTok{\# ç»ƒä¹ é¢˜n}
\CommentTok{\# ...}
\end{Highlighting}
\end{Shaded}

\hypertarget{listux7684ux5207ux7247}{%
\subsection{Listçš„åˆ‡ç‰‡}\label{listux7684ux5207ux7247}}

å¦‚ä½•è·å–ï¼ˆæˆ–è€…ä¿®æ”¹ï¼‰ä¸€ä¸ªListä¸­çš„æŸä¸€æ®µï¼Ÿ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}abcdef\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'b', 'c', 'd', 'e', 'f']
\end{verbatim}

æˆªå–ï¼šä»ç¬¬2ä¸ªå…ƒç´ å¼€å§‹åˆ°ç¬¬4ä¸ªå…ƒç´ ï¼šï¼ˆè¯åˆ¸ç­”æ¡ˆåº”è¯¥æ˜¯\texttt{{[}\textquotesingle{}b\textquotesingle{},\ \textquotesingle{}c\textquotesingle{},\ \textquotesingle{}d\textquotesingle{}{]}}

\texttt{a{[}èµ·ç‚¹çš„ç´¢å¼•\ :\ ç»ˆç‚¹çš„ç´¢å¼•-1{]}}

å¦‚ï¼š
\texttt{a{[}1:4{]}}ï¼šåˆ‡ç‰‡èµ·æ­¢ç‚¹ï¼šåŒ…å«èµ·ç‚¹ï¼ˆ1å·ï¼Œå³\texttt{b}ï¼‰ï¼Œä¸åŒ…å«ç»ˆç‚¹ï¼ˆä¸å«4å·ï¼Œå³\texttt{e}ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(a[}\DecValTok{1}\NormalTok{:}\DecValTok{4}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['b', 'c', 'd']
\end{verbatim}

å¯ä»¥ä¸å†™èµ·ç‚¹æˆ–è€…ç»ˆç‚¹ï¼Œé»˜è®¤æ˜¯åˆ°ä¸€è¾¹çš„å°½å¤´

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(a[:}\DecValTok{4}\NormalTok{]) }\CommentTok{\# 4å·å…ƒç´ ä¹‹å‰ï¼ˆ0ï¼Œ1ï¼Œ2ï¼Œ3ï¼‰ï¼ˆä¸åŒ…å«ç»ˆç‚¹ï¼‰}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'b', 'c', 'd']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(a[}\DecValTok{3}\NormalTok{:]) }\CommentTok{\# 3å·å…ƒç´ ä»¥åŠä¹‹åï¼ˆ3ï¼Œ4ï¼Œ5ï¼‰ï¼ˆåŒ…å«èµ·ç‚¹ï¼‰}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['d', 'e', 'f']
\end{verbatim}

å¯ä»¥å€’æ•°åˆ‡ç‰‡ï¼š

å¦‚ä»å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹åˆ°æœ€å

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(a[}\OperatorTok{{-}}\DecValTok{2}\NormalTok{:]) }\CommentTok{\# å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹åˆ°æœ€åï¼ˆåŒ…å«èµ·ç‚¹ï¼‰}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['e', 'f']
\end{verbatim}

ä»å¤´åˆ‡åˆ°å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼ˆä¸å«ç»ˆç‚¹ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(a[:}\OperatorTok{{-}}\DecValTok{2}\NormalTok{]) }\CommentTok{\# ä»å¤´åˆ‡åˆ°å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼ˆä¸å«ç»ˆç‚¹ï¼‰}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'b', 'c', 'd']
\end{verbatim}

åˆ‡ç‰‡èµ‹å€¼ ï¼š ç›´æ¥è¦†ç›–åŸç†ä½ç½®çš„å€¼ï¼Œå¯ä»¥ä¸ç­‰é•¿

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}abcdef\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(a[}\DecValTok{2}\NormalTok{:}\DecValTok{4}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['c', 'd']
\end{verbatim}

æ³¨æ„ï¼š\texttt{a{[}2:4{]}}åªæœ‰2ä¸ªå€¼ï¼Œä½†æˆ‘ä»¬æ›¿æ¢æˆä¸ç­‰é•¿çš„å…¶ä»–Listï¼Œå¦‚æ›¿æ¢3ä¸ªå€¼è¿›å»

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a[}\DecValTok{2}\NormalTok{:}\DecValTok{4}\NormalTok{] }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}z\textquotesingle{}}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'b', 'x', 'y', 'z', 'e', 'f']
\end{verbatim}

è¿™ä½¿å¾—\texttt{{[}\textquotesingle{}c\textquotesingle{},\ \textquotesingle{}d\textquotesingle{}{]}\ -\textgreater{}\ {[}\textquotesingle{}x\textquotesingle{},\ \textquotesingle{}y\textquotesingle{},\ \textquotesingle{}z\textquotesingle{}{]}}

èµ‹äºˆç©ºåˆ—è¡¨ï¼Œå¯ä»¥è¾¾åˆ°åˆ é™¤çš„æ•ˆæœã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a[}\DecValTok{2}\NormalTok{:}\DecValTok{5}\NormalTok{] }\OperatorTok{=}\NormalTok{ [] }\CommentTok{\# x,y,zæ˜¯2ï¼Œ3ï¼Œ4å·}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'b', 'e', 'f']
\end{verbatim}

è¿˜å¯ä»¥æŒ‰æ­¥é•¿åˆ‡ç‰‡

\texttt{a{[}èµ·ç‚¹:ç»ˆç‚¹:æ­¥é•¿{]}}

æ­¥é•¿é»˜è®¤ä¸º1ï¼ˆæ¯ä¸ªå…ƒç´ éƒ½å–å€¼ï¼‰ï¼Œå¦‚æœè®¾ç½®ä¸º2ï¼Œæ¯2ä¸ªå…ƒç´ å–ä¸€ä¸ªå€¼

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}abcdefgh\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}\textquotesingle{}\textquotesingle{}a        is }\SpecialCharTok{\{}\NormalTok{a}\SpecialCharTok{\}}
\SpecialStringTok{a[1:6]   is }\SpecialCharTok{\{}\NormalTok{a[}\DecValTok{1}\NormalTok{:}\DecValTok{6}\NormalTok{]}\SpecialCharTok{\}}
\SpecialStringTok{a[1:6:2] is }\SpecialCharTok{\{}\NormalTok{a[}\DecValTok{1}\NormalTok{:}\DecValTok{6}\NormalTok{:}\DecValTok{2}\NormalTok{]}\SpecialCharTok{\}}
\SpecialStringTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
a        is ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']
a[1:6]   is ['b', 'c', 'd', 'e', 'f']
a[1:6:2] is ['b', 'd', 'f']
\end{verbatim}

ä¸€ä¸ªç®€å•å°æŠ€å·§ï¼šæ­¥é•¿ä¹Ÿå¯ä»¥å–è´Ÿæ•°ï¼Œç­‰äºé€†åºå–å€¼ã€‚å› æ­¤æœ‰ä¸€ä¸ªç®€å•çš„æŠŠåˆ—è¡¨é€†åºçš„æ–¹æ³•:
\texttt{{[}::-1{]}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}apple\textquotesingle{}}\NormalTok{)}
\NormalTok{b }\OperatorTok{=}\NormalTok{ a[::}\OperatorTok{{-}}\DecValTok{1}\NormalTok{] }\CommentTok{\# ç¬¬ä¸€ä¸ªå†’å·å‰åéƒ½æ²¡æœ‰å€¼ï¼Œè¡¨ç¤ºå–æ•´ä¸ªåˆ—è¡¨}
\BuiltInTok{print}\NormalTok{(a)}
\BuiltInTok{print}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'p', 'p', 'l', 'e']
['e', 'l', 'p', 'p', 'a']
\end{verbatim}

\hypertarget{list-ux7ec3ux4e60ux5207ux7247ux548cux5176ux4ed6}{%
\subsection{List
ç»ƒä¹ ï¼ˆåˆ‡ç‰‡å’Œå…¶ä»–ï¼‰}\label{list-ux7ec3ux4e60ux5207ux7247ux548cux5176ux4ed6}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  åˆ›å»ºä¸€ä¸ªåä¸ºmy\_listçš„åˆ—è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š1, 2, 3, 4,
  5ã€‚ä½¿ç”¨åˆ‡ç‰‡è·å–å‰ä¸‰ä¸ªå…ƒç´ ï¼Œå¹¶å­˜å‚¨åœ¨æ–°åˆ—è¡¨first\_threeä¸­ã€‚
\item
  åˆ›å»ºä¸€ä¸ªåä¸ºmy\_listçš„åˆ—è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š1, 2, 3, 4, 5, 6, 7, 8, 9,
  10ã€‚ä½¿ç”¨åˆ‡ç‰‡å’Œæ­¥é•¿æ¥åˆ›å»ºä¸€ä¸ªæ–°åˆ—è¡¨even\_numbersï¼Œå…¶ä¸­åŒ…å«my\_listä¸­çš„æ‰€æœ‰å¶æ•°ã€‚
\item
  åˆ›å»ºä¸€ä¸ªåä¸ºmy\_listçš„åˆ—è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š`a', `b', `c', `d',
  `e'ã€‚ä½¿ç”¨åˆ‡ç‰‡åˆ›å»ºä¸€ä¸ªæ–°åˆ—è¡¨reversed\_listï¼Œå®ƒæ˜¯my\_listçš„ä¸€ä¸ªåè½¬ç‰ˆæœ¬ã€‚
\item
  åˆ›å»ºä¸¤ä¸ªåˆ—è¡¨ï¼Œåä¸ºlist1å’Œlist2ï¼Œåˆ†åˆ«åŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š
\end{enumerate}

\begin{itemize}
\tightlist
\item
  list1: {[}1, 2, 3, 4{]}
\item
  list2: {[}5, 6, 7, 8{]}
\end{itemize}

ä½¿ç”¨åˆ‡ç‰‡å’Œ+æ“ä½œç¬¦åˆ›å»ºä¸€ä¸ªæ–°åˆ—è¡¨merged\_listï¼Œå®ƒåŒ…å«list1çš„å‰ä¸¤ä¸ªå…ƒç´ å’Œlist2çš„åä¸¤ä¸ªå…ƒç´ ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{4}
\tightlist
\item
  åˆ›å»ºä¸€ä¸ªåä¸ºmy\_listçš„åˆ—è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š`apple', `banana', `cherry',
  `date',
  `elderberry'ã€‚ä½¿ç”¨åˆ‡ç‰‡å’Œåˆ—è¡¨è¿æ¥æ¥æ›¿æ¢ä¸­é—´çš„ä¸‰ä¸ªå…ƒç´ ä¸ºä¸€ä¸ªæ–°çš„å­åˆ—è¡¨{[}`fig',
  `grape', `honeydew'{]}ã€‚
\end{enumerate}

\hypertarget{ux6ce8ux610flistux7684ux62f7ux8d1d}{%
\subsection{æ³¨æ„ï¼šListçš„æ‹·è´}\label{ux6ce8ux610flistux7684ux62f7ux8d1d}}

è¿™éƒ¨åˆ†å¯èƒ½æœ‰ç‚¹æŠ½è±¡ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å˜é‡åæ˜¯ä¸ªæ ‡ç­¾
\item
  å˜é‡èµ‹å€¼ï¼Œç»™å†…å­˜ä¸­çš„ä¸€ä¸ªæ•°æ®``è´´æ ‡ç­¾''
\item
  é‚£ç”¨ä¸€ä¸ªå˜é‡ï¼Œç»™å¦ä¸€ä¸ªå˜é‡èµ‹å€¼ä¼šå¦‚ä½•ï¼Ÿ
\end{enumerate}

ä»¥ä¸€ä¸ªæ•°å­—æ¥ä¸¾ä¾‹

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{123}
\BuiltInTok{print}\NormalTok{(a)}

\NormalTok{b }\OperatorTok{=}\NormalTok{ a }
\BuiltInTok{print}\NormalTok{(b)}

\NormalTok{a }\OperatorTok{=} \DecValTok{321}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}a is }\SpecialCharTok{\{}\NormalTok{a}\SpecialCharTok{\}}\CharTok{\textbackslash{}n}\SpecialStringTok{b is }\SpecialCharTok{\{}\NormalTok{b}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
123
123
a is 321
b is 123
\end{verbatim}

ä¸­é—´å‘ç”Ÿäº†ä»€ä¹ˆ

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{a\ =\ 123}
\end{enumerate}

åˆ›å»ºäº†ä¸€ä¸ªæ•´å‹å¯¹è±¡ï¼Œé‡Œé¢å­˜æ”¾äº†\texttt{123}ï¼ŒæŠŠ\texttt{a}è¿™ä¸ªåå­—ç»‘å®šåˆ°è¿™ä¸ªå¯¹è±¡ä¸Šã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  \texttt{b\ =\ a}
\end{enumerate}

æŠŠ\texttt{a}è¿™ä¸ªæ ‡ç­¾ï¼Œæ‰€æŒ‡ä»£çš„å¯¹è±¡ï¼Œå†è´´ä¸€ä¸ªæ ‡ç­¾\texttt{b}ã€‚è¿™ä¸ªæ—¶å€™,\texttt{a}å’Œ\texttt{b}éƒ½æŒ‡å‘è¿™ä¸ªæ•´å‹å¯¹è±¡ï¼Œé‡Œé¢å­˜æ”¾äº†\texttt{123}ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  \texttt{a\ =\ 321}
  åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ•´å‹å¯¹è±¡ï¼Œé‡Œé¢å­˜æ”¾äº†\texttt{321}ï¼ŒæŠŠ\texttt{a}è¿™ä¸ªåå­—ï¼Œé‡æ–°ç»‘å®šåˆ°è¿™ä¸ªå¯¹è±¡ä¸Šã€‚
\end{enumerate}

ç°åœ¨ \texttt{a\ -\textgreater{}\ 321}ï¼Œ\texttt{b\ -\textgreater{}\ 123}

ä½†Listæ¯”è¾ƒç‰¹æ®Š

ä»¥lettersæ¥ä¸¾ä¾‹ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\StringTok{"a"}\NormalTok{, }\StringTok{"b"}\NormalTok{, }\StringTok{"c"}\NormalTok{, }\StringTok{"d"}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}a is \textquotesingle{}}\NormalTok{, a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
a is  ['a', 'b', 'c', 'd']
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å˜é‡\texttt{a} æŒ‡å‘ \texttt{{[}"a",\ "b",\ "c",\ "d"{]}}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b }\OperatorTok{=}\NormalTok{ a }
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  å˜é‡\texttt{b}
  æŒ‡å‘\texttt{a}ç›¸åŒçš„æ•°æ®\texttt{{[}"a",\ "b",\ "c",\ "d"{]}}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a[}\DecValTok{0}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}apple\textquotesingle{}}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}b is \textquotesingle{}}\NormalTok{, b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
b is  ['apple', 'b', 'c', 'd']
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  ä½ ä¿®æ”¹äº†åˆ—è¡¨\texttt{a}çš„å€¼ï¼Œ\texttt{b}çš„å€¼ä¹Ÿæ”¹å˜äº†ï¼å› ä¸º\texttt{a}å’Œ\texttt{b}ä¸€ç›´æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚
\end{enumerate}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  å¦‚æœè¦é¿å…è¿™ç§æƒ…å†µï¼Œè¦æ˜ç¡®åœ°æŠŠ\texttt{a}\textbf{å¤åˆ¶}ä¸€æ¬¡ï¼Œ
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\StringTok{"a"}\NormalTok{, }\StringTok{"b"}\NormalTok{, }\StringTok{"c"}\NormalTok{, }\StringTok{"d"}\NormalTok{]}
\NormalTok{b }\OperatorTok{=}\NormalTok{ a.copy()}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}a is }\SpecialCharTok{\{}\NormalTok{a}\SpecialCharTok{\}}\CharTok{\textbackslash{}n}\SpecialStringTok{b is }\SpecialCharTok{\{}\NormalTok{b}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
a is ['a', 'b', 'c', 'd']
b is ['a', 'b', 'c', 'd']
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a[}\DecValTok{0}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}apple\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}a is }\SpecialCharTok{\{}\NormalTok{a}\SpecialCharTok{\}}\CharTok{\textbackslash{}n}\SpecialStringTok{b is }\SpecialCharTok{\{}\NormalTok{b}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
a is ['apple', 'b', 'c', 'd']
b is ['a', 'b', 'c', 'd']
\end{verbatim}

è¿™æ ·å°±ä¸ä¼šäº’ç›¸å¹²æ‰°äº†ã€‚

æ€»ç»“ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Number
  ,String,Tupleç­‰ï¼Œæ˜¯``ä¸å¯å˜ç±»å‹''ï¼šä¿®æ”¹è¿™ä¸ªå˜é‡ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åé‡ç»‘å®šï¼ˆè½¬è´´æ ‡ç­¾ï¼‰
\item
  Listç­‰ï¼Œæ˜¯``å¯å˜ç±»å‹''ï¼šä¿®æ”¹é‡Œé¢çš„å€¼ï¼Œå…¶å®æ˜¯``\textbf{åŸåœ°ä¿®æ”¹}''ï¼Œå¯¼è‡´æ‰€æœ‰æŒ‡å‘è¿™ä¸ªæ•°æ®çš„å˜é‡éƒ½å‘ç”Ÿæ”¹å˜ã€‚
\item
  è¦é¿å…ä¸Šè¿°æƒ…å†µï¼Œè¯·æ˜ç¡®åœ°å¤åˆ¶åŸListä¸€æ¬¡ã€‚
\end{enumerate}

\hypertarget{ux5143ux7ec4tuple}{%
\section{å…ƒç»„Tuple}\label{ux5143ux7ec4tuple}}

å…ƒç»„ï¼šåŒæ ·æ˜¯åºåˆ—ç»“æ„ï¼Œå¯ä»¥è§†ä¸º``\textbf{ä¸å¯ä¿®æ”¹}çš„åˆ—è¡¨''ï¼Œå…¶ä¸­çš„æ•°æ®ï¼Œä¸€æ—¦åˆ›å»ºï¼Œå°±ä¸å¯ä¿®æ”¹ã€‚

\hypertarget{ux5143ux7ec4ux7684ux521bux5efa}{%
\subsection{å…ƒç»„çš„åˆ›å»º}\label{ux5143ux7ec4ux7684ux521bux5efa}}

å’ŒListç±»ä¼¼ï¼Œä½†ä½¿ç”¨å°æ‹¬å·åˆ›å»ºã€‚

æ³¨æ„ï¼Œä»æ‰“å°çš„ç»“æœä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œ\texttt{()}è¡¨ç¤ºå…ƒç»„ï¼Œä¸­æ‹¬å·\texttt{{[}{]}}è¡¨ç¤ºåˆ—è¡¨ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{) }
\BuiltInTok{print}\NormalTok{(a) }\CommentTok{\# å…ƒç»„}

\NormalTok{b }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
(1, 2, 3, 4, 5)
[1, 2, 3, 4, 5]
\end{verbatim}

å¦‚æœå…ƒç»„åªæœ‰1ä¸ªå…ƒç´ ï¼Œå¿…é¡»åŠ ä¸€ä¸ªé€—å·\texttt{,}ï¼Œä»¥é¿å…pythonè®¤ä¸ºè¿™æ˜¯ä¸ªè¿ç®—ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{,) }\CommentTok{\# æ­£ç¡®çš„åšæ³•ï¼Œè¯†åˆ«æˆå…ƒç»„}
\BuiltInTok{print}\NormalTok{(a)}

\NormalTok{b }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(b) }\CommentTok{\# ä¼šè¢«è¯†åˆ«æˆä¸€ä¸ªæ•°å­—}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
(1,)
1
\end{verbatim}

ä¹Ÿå¯ä»¥ä¸ç”¨å°æ‹¬å·ï¼Œåªä½¿ç”¨é€—å·åˆ›å»ºï¼ˆä¸ºäº†ç»´æŒä»£ç çš„æ¸…æ™°å’Œå¯è¯†åˆ«ï¼Œ\texttt{r\ red("ä¸å»ºè®®è¿™ä¹ˆåš")}ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
(1, 2, 3, 4, 5)
\end{verbatim}

\hypertarget{ux8bbfux95eeux5143ux7ec4ux7684ux5143ux7d20}{%
\subsection{è®¿é—®å…ƒç»„çš„å…ƒç´ }\label{ux8bbfux95eeux5143ux7ec4ux7684ux5143ux7d20}}

è®¿é—®å…ƒç»„çš„æ–¹æ³•å’ŒListå®Œå…¨ä¸€æ ·ï¼Œå¯ä»¥ç…§æ¬ã€‚

ä½†æ˜¯``å¯è¯»ä¸å¯å†™'',\textbf{ä¸èƒ½åšä»»ä½•ä¿®æ”¹æˆ–åˆ é™¤}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{) }\CommentTok{\# è¯»å–å…ƒç´ å’Œè·å¾—åˆ‡ç‰‡ç­‰ï¼Œå’ŒListå®Œå…¨ä¸€æ ·}
\BuiltInTok{print}\NormalTok{(a[}\DecValTok{3}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(a[}\DecValTok{2}\NormalTok{:}\DecValTok{4}\NormalTok{]) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
4
(3, 4)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{) }
\NormalTok{a[}\DecValTok{3}\NormalTok{] }\OperatorTok{=} \DecValTok{999} \CommentTok{\# è¦å¯¹å…ƒç»„çš„å€¼è¿›è¡Œä¿®æ”¹ï¼Œä¼šæŠ¥é”™}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
TypeError: 'tuple' object does not support item assignment
\end{verbatim}

\hypertarget{ux5143ux7ec4ux548cux5217ux8868ux7684ux4e92ux8f6c}{%
\subsection{å…ƒç»„å’Œåˆ—è¡¨çš„äº’è½¬}\label{ux5143ux7ec4ux548cux5217ux8868ux7684ux4e92ux8f6c}}

Listå’ŒTupleç”¨éå¸¸æ¥è¿‘çš„ç»“æ„ï¼Œäº’ç›¸è½¬æ¢åªè¦ç”¨å‰è¿°çš„``ç®€å•ç±»å‹è½¬æ¢''æ–¹æ³•å³å¯

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a\_list }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}apple\textquotesingle{}}\NormalTok{) }\CommentTok{\# strè½¬ä¸ºlist}
\NormalTok{a\_tuple }\OperatorTok{=} \BuiltInTok{tuple}\NormalTok{(a\_list) }\CommentTok{\# listè½¬ä¸ºtup;e}
\BuiltInTok{print}\NormalTok{(a\_tuple) }\CommentTok{\# æ³¨æ„ï¼Œæ‰“å°çš„ç»“æœæ˜¯()å°æ‹¬å·}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
('a', 'p', 'p', 'l', 'e')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a\_tuple }\OperatorTok{=}\NormalTok{ (}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{) }\CommentTok{\# åˆ›å»ºä¸€ä¸ªtuple}
\NormalTok{a\_list }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(a\_tuple)}
\BuiltInTok{print}\NormalTok{(a\_list)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2, 3, 4, 5]
\end{verbatim}

\hypertarget{ux4e3aux4ec0ux4e48ux8981ux7528tupleux4e0dux7528list}{%
\subsection{ä¸ºä»€ä¹ˆè¦ç”¨tupleï¼Œä¸ç”¨listï¼Ÿ}\label{ux4e3aux4ec0ux4e48ux8981ux7528tupleux4e0dux7528list}}

Tupleåªæœ‰Listçš„ä¸€åŠèƒ½åŠ›ï¼ˆåªèƒ½è¯»ï¼Œä¸èƒ½æ”¹ï¼‰ï¼Œåªç”¨Listä¹Ÿå¯ä»¥å®ŒæˆTupleçš„æ‰€æœ‰åŠŸèƒ½ï¼Œé‚£ç”¨Tupleæœ‰ä½•æ„ä¹‰ï¼Ÿ

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Listå¯èƒ½è¢«\textbf{æ„å¤–ä¿®æ”¹}ï¼Œä½†Tupleä¸ä¼š
\end{enumerate}

å¦‚å‰è¿°ï¼ŒListæ˜¯ä¸€ä¸ªå¯å˜ç±»å‹ï¼Œå¯ä»¥æœ‰ä¸æ­¢ä¸€ä¸ªå˜é‡åæŒ‡å‘åŒä¸€ä¸ªListæ•°æ®ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨Listä¿å­˜çš„æ•°æ®ï¼Œå¯èƒ½ä¼šåœ¨ä¼ é€’çš„è¿‡ç¨‹ä¸­ï¼Œåœ¨ä¸ç»æ„é—´è¢«ä½ çš„æŸäº›ä»£ç æ‰€ä¿®æ”¹ï¼Œæ¯”å¦‚å¿˜è®°\texttt{.copy()}ã€‚

å¦‚æœä¸€ä¸ªåˆ—è¡¨ç»“æ„çš„æ•°æ®ï¼ŒåŸåˆ™ä¸Šä¸åº”è¯¥è¢«æ”¹å˜ï¼Œåˆ™å¯ä»¥é‡‡ç”¨Tupleã€‚å¦‚æœè¢«ä»£ç æ„å¤–ä¿®æ”¹ï¼Œåˆ™ä¼šæŠ¥é”™é€šçŸ¥ä½ ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\item
  Tupleä¸€èˆ¬ä¼šæ¯”ListèŠ‚çº¦å†…å­˜ï¼Œä½†æˆ‘ä»¬ä¸€èˆ¬ä¸å¿…è€ƒè™‘è¿™ä¸€ç‚¹ã€‚
\item
  Tupleå¯ä»¥ç”¨ä½œDictçš„Keyï¼ˆåé¢å›è¯´ï¼‰
\end{enumerate}

å› æ­¤ä¸€èˆ¬è€Œè¨€ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ç”¨æ¥ä½œä¸º``æ•°æ®ä¸åº”è¢«ä¿®æ”¹çš„åºåˆ—ç»“æ„''å³å¯ã€‚

\hypertarget{ux96c6ux5408set}{%
\section{é›†åˆSet}\label{ux96c6ux5408set}}

ä¸€ä¸ªæ— é¡ºçš„ã€å…ƒç´ ä¸é‡å¤çš„æ•°æ®ç»“æ„ã€‚ç”¨\texttt{\{\}}åˆ›å»ºã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ \{}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{\} }\CommentTok{\# åˆ›å»ºä¸€ä¸ªé›†åˆ}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{1, 2, 3, 4, 5}
\end{verbatim}

æ³¨æ„ï¼šé›†åˆä¸­çš„å…ƒç´ ä¸ä¼šé‡å¤ã€‚

\hypertarget{ux7b80ux5355ux96c6ux5408ux8fd0ux7b97}{%
\subsection{ç®€å•é›†åˆè¿ç®—}\label{ux7b80ux5355ux96c6ux5408ux8fd0ux7b97}}

è¿™é‡Œåªç®€å•ä»‹ç»ï¼Œåç»­ç”¨åˆ°å†æ·±å…¥ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¹¶é›†ï¼Œç”¨\texttt{.union}æˆ–è€…\texttt{\textbar{}}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{A }\OperatorTok{=}\NormalTok{ \{}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{\}}
\NormalTok{B }\OperatorTok{=}\NormalTok{ \{}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{\}}

\CommentTok{\# å¹¶é›†}
\BuiltInTok{print}\NormalTok{(A.union(B)) }
\BuiltInTok{print}\NormalTok{(A}\OperatorTok{|}\NormalTok{B)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{1, 2, 3, 4, 5}
{1, 2, 3, 4, 5}
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  äº¤é›†ï¼š\texttt{.intersection()}æˆ–è€…\texttt{\&}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(A.intersection(B))}
\BuiltInTok{print}\NormalTok{(A }\OperatorTok{\&}\NormalTok{ B) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{3}
{3}
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  å·®é›†ï¼š \texttt{.difference()}æˆ–è€…\texttt{-}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(A.difference(B))}
\BuiltInTok{print}\NormalTok{(A }\OperatorTok{{-}}\NormalTok{ B) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{1, 2}
{1, 2}
\end{verbatim}

\hypertarget{ux5176ux4ed6}{%
\subsection{å…¶ä»–}\label{ux5176ux4ed6}}

ä¸€ä¸ªå°æŠ€å·§ï¼šå¦‚ä½•å»é™¤listä¸­çš„é‡å¤å…ƒç´ ï¼Ÿè½¬ä¸ºsetå†è½¬å›listã€‚æ³¨æ„ï¼šè½¬æ¢åå…ƒç´ çš„é¡ºåºå°±ä¸ä¿è¯äº†ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}apple\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(a)}

\NormalTok{b }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\BuiltInTok{set}\NormalTok{(a))}
\BuiltInTok{print}\NormalTok{(b) }\CommentTok{\# é¡ºåºä¸ä¿è¯å’Œaç›¸åŒ}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'p', 'p', 'l', 'e']
['l', 'p', 'e', 'a']
\end{verbatim}

\hypertarget{ux5b57ux5178dict}{%
\section{å­—å…¸Dict}\label{ux5b57ux5178dict}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å’ŒListæˆ–è€…Tupleç±»ä¼¼ï¼Œdictæ˜¯å¾ˆå¤šæ•°æ®çš„é›†åˆä½“
\item
  Python
  3.6ä¹‹å‰ï¼Œdictä¸­çš„æ•°æ®ä¸ä¿è¯é¡ºåºã€‚3.6ä¹‹åï¼Œdictä¸­å…ƒç´ çš„é¡ºåºå°±å’ŒåŠ å…¥æ—¶å€™ä¿æŒä¸€è‡´ã€‚ç°åœ¨å¤§å®¶çš„ç‰ˆæœ¬è‚¯å®šæ»¡è¶³äº†ã€‚
\item
  dictä¸­çš„å…ƒç´ è®¿é—®ï¼Œæ˜¯é€šè¿‡''é”®key''è®¿é—®ï¼Œä¸€ä¸ªkeyä¼šå¯¹åº”ä¸€ä¸ªvalueã€‚
\item
  keyçš„å¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹ï¼Œå¦‚stringï¼Œintï¼Œæˆ–è€…tupleã€‚ï¼ˆtupleä¹Ÿå¯ä»¥åškeyï¼‰
\item
  å’ŒListä¸€æ ·ï¼Œdictå¯ä»¥å­˜æ”¾ä¸åŒç±»å‹çš„æ•°æ®
\item
  keyæ˜¯å”¯ä¸€çš„ï¼Œå¦‚æœå¯¹ä¸€ä¸ªkeyèµ‹äºˆä¸åŒçš„å€¼ï¼Œé‚£ä¹ˆæ–°çš„valueä¼šæ›¿æ¢æ—§çš„value.
\end{enumerate}

è¿™å’Œæ–°åå­—å…¸ç±»ä¼¼ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  é€šè¿‡è¿™ä¸ªå­—çš„æ‹¼éŸ³(å³key)ï¼Œæ‰¾ä¸€ä¸ªå­—çš„å«ä¹‰(value)
\item
  ä½ ä¸€èˆ¬ä¸ä¼šé€šè¿‡è¿™ä¸ªå­—åœ¨å­—å…¸ä¸­çš„ç¬¬å‡ ä¸ª(index)æ¥è®¿é—®ï¼Œè™½ç„¶ä¹Ÿä¸æ˜¯ä¸å¯ä»¥
\end{enumerate}

\hypertarget{ux521bux5efadict}{%
\subsection{åˆ›å»ºdict}\label{ux521bux5efadict}}

ä½¿ç”¨å¤§æ‹¬å·ï¼Œ\texttt{key:value}çš„æ–¹å¼ï¼Œkey-valueä¹‹é—´ä½¿ç”¨é€—å·åˆ†éš”

\texttt{\{key1:value1,\ key2:value2,\ ...\ \}}

ä¾‹å¦‚ç­çº§äººæ•°,ä¸€ç­50äººï¼ŒäºŒç­49äººï¼Œä¸‰ç­30äººã€‚

è¿™é‡Œä½¿ç”¨\texttt{class\_x}çš„å­—ç¬¦ä¸²æ¥åškeyï¼Œå‚¨å­˜ç­çº§çš„äººæ•°ã€‚è¿™ä¸ªdictçš„ä½œç”¨æ˜¯ï¼Œå¯ä»¥é€šè¿‡ç­çº§çš„åç§°æ¥è·å–ç­çº§çš„äººæ•°ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{class\_size }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}class\_1\textquotesingle{}}\NormalTok{:}\DecValTok{50}\NormalTok{, }\StringTok{\textquotesingle{}class\_2\textquotesingle{}}\NormalTok{:}\DecValTok{49}\NormalTok{,}\StringTok{\textquotesingle{}class\_3\textquotesingle{}}\NormalTok{:}\DecValTok{39}\NormalTok{\}}
\BuiltInTok{print}\NormalTok{(class\_size)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{'class_1': 50, 'class_2': 49, 'class_3': 39}
\end{verbatim}

æˆ‘ä»¬å»ºç«‹äº†ä¸€ç³»åˆ—çš„æ˜ å°„ï¼Œä»å­—ç¬¦ä¸²ï¼ˆæœ¬ä¾‹ä¸­å°±æ˜¯ç­çº§åç§°ï¼‰ï¼Œåˆ°é”®å€¼ï¼ˆæœ¬ä¾‹ä¸­æ˜¯ç­çº§äººæ•°çš„æ•´å‹ï¼‰

\texttt{"class\_1"\ -\textgreater{}\ 50}

\texttt{"class\_2"\ -\textgreater{}\ 49}

\texttt{"class\_3"\ -\textgreater{}\ 39}

ä¹Ÿå¯ä»¥ç”¨\texttt{dict()}å‡½æ•°ï¼ŒåŒä¸Šè¿°ä¾‹å­ï¼Œä½†æ•´ä¸ªå†™æ³•å˜æˆäº†å˜é‡èµ‹å€¼çš„å½¢å¼ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{class\_size }\OperatorTok{=} \BuiltInTok{dict}\NormalTok{(class\_1}\OperatorTok{=}\DecValTok{50}\NormalTok{,class\_2}\OperatorTok{=}\DecValTok{49}\NormalTok{,class\_3}\OperatorTok{=}\DecValTok{39}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(class\_size)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{'class_1': 50, 'class_2': 49, 'class_3': 39}
\end{verbatim}

\hypertarget{ux8bbfux95eeux5b57ux5178ux6570ux636e}{%
\subsection{è®¿é—®å­—å…¸æ•°æ®}\label{ux8bbfux95eeux5b57ux5178ux6570ux636e}}

å­—å…¸æ•°æ®çš„è®¿é—®ï¼Œå’ŒListæˆ–è€…Tupleä¸€æ ·ï¼Œéƒ½æ˜¯ç”¨ä¸­æ‹¬å·\texttt{{[}{]}}ï¼Œä½†æä¾›çš„æ•°æ®çš„ç´¢å¼•indexï¼Œè€Œæ˜¯keyï¼ˆé”®åï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è·å–ä¸€ç­çš„äººæ•°ï¼š}
\CommentTok{\# ä¸€ç­çš„keyæ˜¯"class\_1"}
\BuiltInTok{print}\NormalTok{(class\_size[}\StringTok{\textquotesingle{}class\_1\textquotesingle{}}\NormalTok{])}

\CommentTok{\# å½“ç„¶3ç­ä¹Ÿä¸€æ ·}
\BuiltInTok{print}\NormalTok{(class\_size[}\StringTok{\textquotesingle{}class\_3\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
50
39
\end{verbatim}

ä¿®æ”¹å…¶å€¼ä¹Ÿä¸€æ ·ï¼Œç›´æ¥èµ‹å€¼å³å¯

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{class\_size[}\StringTok{\textquotesingle{}class\_3\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \DecValTok{40}
\BuiltInTok{print}\NormalTok{(class\_size)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{'class_1': 50, 'class_2': 49, 'class_3': 40}
\end{verbatim}

å®é™…ä¸Šï¼Œæ·»åŠ é”®å€¼çš„æ–¹æ³•å°±æ˜¯\textbf{ç›´æ¥èµ‹å€¼}

ä¾‹å¦‚ï¼Œå››ç­ï¼Œkeyä¸ºclass\_4ï¼Œäººæ•°ä¸º45ï¼Œåˆ™ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{class\_size[}\StringTok{\textquotesingle{}class\_4\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \DecValTok{45}
\BuiltInTok{print}\NormalTok{(class\_size)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{'class_1': 50, 'class_2': 49, 'class_3': 40, 'class_4': 45}
\end{verbatim}

åŒæ ·ï¼Œåˆ é™¤é”®å€¼çš„å‡½æ•°æ˜¯\texttt{del}ï¼Œå’Œåˆ é™¤ä¸€ä¸ªå˜é‡ä¸€æ ·ã€‚

åˆ é™¤\texttt{\textquotesingle{}class\_4\textquotesingle{}}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{del}\NormalTok{ class\_size[}\StringTok{\textquotesingle{}class\_4\textquotesingle{}}\NormalTok{] }
\BuiltInTok{print}\NormalTok{(class\_size)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{'class_1': 50, 'class_2': 49, 'class_3': 40}
\end{verbatim}

\hypertarget{ux83b7ux5f97ux6240ux6709ux952eux503c}{%
\subsection{è·å¾—æ‰€æœ‰é”®å€¼}\label{ux83b7ux5f97ux6240ux6709ux952eux503c}}

è·å¾—å…¨éƒ¨çš„keyï¼Œä½¿ç”¨\texttt{.keys()}æ–¹æ³•ã€‚æ³¨æ„æ˜¯å¤æ•°ï¼Œæœ‰ä¸ªsã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(class\_size.keys())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
dict_keys(['class_1', 'class_2', 'class_3'])
\end{verbatim}

æ³¨æ„ï¼Œ\texttt{.keys()}æ–¹æ³•è¿”å›çš„ä¸æ˜¯ä¸€ä¸ªListï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬è¿˜æ˜¯è½¬ä¸ºListï¼Œä¾¿äºè¿›è¡Œå…¶ä»–æ“ä½œã€‚è½¬æ¢ä¹Ÿæ˜¯ç›´æ¥é‡‡ç”¨\texttt{list()}å‡½æ•°å³å¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{keys }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(class\_size.keys())}
\BuiltInTok{print}\NormalTok{(keys)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['class_1', 'class_2', 'class_3']
\end{verbatim}

\hypertarget{ux6240ux6709ux7684value}{%
\subsection{æ‰€æœ‰çš„value}\label{ux6240ux6709ux7684value}}

è·å¾—å…¨éƒ¨çš„valueï¼Œä½¿ç”¨\texttt{.values()}æ–¹æ³•ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(class\_size.values()) }\CommentTok{\#åŒæ ·æ˜¯å¤æ•°ï¼Œæœ‰ä¸ªsã€‚}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
dict_values([50, 49, 40])
\end{verbatim}

åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥è½¬æ¢ä¸ºListã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{values }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(class\_size.values())}
\BuiltInTok{print}\NormalTok{(values)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[50, 49, 40]
\end{verbatim}

\hypertarget{ux5176ux4ed6ux64cdux4f5c}{%
\subsection{å…¶ä»–æ“ä½œ}\label{ux5176ux4ed6ux64cdux4f5c}}

å’ŒListä¸€æ ·ï¼Œdictä¹Ÿå¯ä»¥ç”¨\texttt{len()}å‡½æ•°è·å¾—æ•°æ®çš„é•¿åº¦

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{len}\NormalTok{(class\_size))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
3
\end{verbatim}

\hypertarget{ux522bux540dux4e0eux62f7ux8d1d}{%
\subsection{åˆ«åä¸æ‹·è´}\label{ux522bux540dux4e0eux62f7ux8d1d}}

å’ŒListä¸€æ ·ï¼Œå¦‚æœç”¨ä¸€ä¸ªdictä¸ºå¦ä¸€ä¸ªdictèµ‹å€¼ï¼Œé‚£ä¹ˆ2ä¸ªå˜é‡å’ŒæŒ‡å‘åŒä¸€ä¸ªæ•°æ®ï¼Œå¯¹å…¶ä¸­ä¸€ä¸ªæ•°æ®çš„ä¿®æ”¹ï¼Œä¼šä½¿å¾—å¦ä¸€ä¸ªå˜é‡ä¸­çš„æ•°æ®ä¹Ÿæ”¹å˜ï¼ˆæ¯•ç«Ÿåªæ˜¯åŒä¸€ä¸ªæ•°æ®çš„2ä¸ªåå­—ï¼‰

è¦é¿å…è¿™ä¸€ç‚¹ï¼ŒåŒæ ·ä½¿ç”¨\texttt{.copy()}å‡½æ•°ï¼Œæ‹·è´ä¸€ä¸ªdictã€‚å…·ä½“å’ŒListä¸€æ ·ï¼Œè¿™é‡Œä¸å†é‡å¤ã€‚

\hypertarget{ux4e0dux5b58ux5728ux7684key}{%
\subsection{ä¸å­˜åœ¨çš„key}\label{ux4e0dux5b58ux5728ux7684key}}

å¦‚æœæˆ‘ä»¬ç›´æ¥è¯»å–ä¸€ä¸ªä¸å­˜åœ¨çš„keyï¼Œä¼šæŠ¥é”™

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{class\_size[}\StringTok{\textquotesingle{}class\_9\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

keyé”™è¯¯ï¼šå³æ‰¾ä¸åˆ°'class\_9'è¿™key

\begin{verbatim}
KeyError: 'class_9'
\end{verbatim}

ä½†æ˜¯ï¼ŒæŸäº›æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œåˆ™è¿”å›ä¸€ä¸ªé»˜è®¤å€¼ï¼Œè€Œä¸è¦å› ä¸ºæŠ¥é”™è€Œä¸­æ–­ç¨‹åºã€‚

è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨\texttt{.get()}æ–¹æ³•ï¼šå¦‚æœkeyå­˜åœ¨ï¼Œåˆ™è¿”å›å¯¹åº”çš„valueã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›æˆ‘ä»¬å‰é¢è¯´è¿‡çš„\texttt{None}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(class\_size.get(}\StringTok{\textquotesingle{}class\_1\textquotesingle{}}\NormalTok{)) }\CommentTok{\# è·å–ä¸€ä¸ªå­˜åœ¨çš„key}
\BuiltInTok{print}\NormalTok{(class\_size.get(}\StringTok{\textquotesingle{}class\_9\textquotesingle{}}\NormalTok{)) }\CommentTok{\# è·å–ä¸€ä¸ªä¸å­˜åœ¨çš„key}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
50
None
\end{verbatim}

å¯¹äºå¯èƒ½ä¸å­˜åœ¨çš„keyï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå·±æŒ‡å®šçš„å€¼ã€‚å…·ä½“åˆ°æœ¬ä¾‹ï¼Œç­çº§äººæ•°ä¸å¯èƒ½æ˜¯0ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘ç”¨\texttt{0}æ¥è¡¨ç¤ºè¿™ä¸ªkeyï¼ˆç­çº§åç§°ï¼‰ä¸å­˜åœ¨ï¼Œæˆ–è€…ä½ æ‰“é”™å­—äº†ã€‚

\texttt{.get()}è¿™ä¸ªæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™æ˜¯æ‰¾ä¸åˆ°keyçš„æ—¶å€™çš„é»˜è®¤å€¼ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(class\_size.get(}\StringTok{\textquotesingle{}class\_9\textquotesingle{}}\NormalTok{, }\DecValTok{0}\NormalTok{)) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0
\end{verbatim}

\hypertarget{keyux662fux5426ux5b58ux5728}{%
\subsection{keyæ˜¯å¦å­˜åœ¨}\label{keyux662fux5426ux5b58ux5728}}

åˆ¤æ–­ä¸€ä¸ªkeyæ˜¯å¦å­˜åœ¨ï¼Œ ä¹Ÿæ˜¯ç”¨\texttt{in}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}class\_1\textquotesingle{}} \KeywordTok{in}\NormalTok{ class\_size) }\CommentTok{\# class\_1æ˜¯å­˜åœ¨çš„}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}class\_9\textquotesingle{}} \KeywordTok{in}\NormalTok{ class\_size) }\CommentTok{\# class\_9æ˜¯ä¸å­˜åœ¨çš„}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
True
False
\end{verbatim}

\hypertarget{ux952e-ux503cux5143ux7ec4}{%
\subsection{ï¼ˆé”®-å€¼å…ƒç»„ï¼‰}\label{ux952e-ux503cux5143ux7ec4}}

dictä¹Ÿå¯ä»¥è§†ä¸ºä¸€ä¸ªç±»Listçš„æ•°æ®ç»“æ„ï¼šå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ ï¼Œæ˜¯ä¸€ä¸ªï¼ˆé”®-å€¼ï¼‰å¯¹ï¼Œå³\texttt{(key,\ value)}çš„å…ƒç»„ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{class\_size }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}class\_1\textquotesingle{}}\NormalTok{:}\DecValTok{50}\NormalTok{, }\StringTok{\textquotesingle{}class\_2\textquotesingle{}}\NormalTok{:}\DecValTok{49}\NormalTok{,}\StringTok{\textquotesingle{}class\_3\textquotesingle{}}\NormalTok{:}\DecValTok{39}\NormalTok{\}}
\BuiltInTok{print}\NormalTok{(class\_size)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{'class_1': 50, 'class_2': 49, 'class_3': 39}
\end{verbatim}

å¯ä»¥ä½¿ç”¨\texttt{.items()}è¿™ä¸ªæ–¹æ³•ï¼Œè·å–ä¸€ä¸ªdictçš„æ‰€æœ‰\texttt{(key,\ value)}å¯¹ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(class\_size.items())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
dict_items([('class_1', 50), ('class_2', 49), ('class_3', 39)])
\end{verbatim}

å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è½¬ä¸ºä¸€ä¸ªçœŸæ­£çš„Listç”¨\texttt{list()}å‡½æ•°

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{all\_items }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(class\_size.items())}
\BuiltInTok{print}\NormalTok{(all\_items)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[('class_1', 50), ('class_2', 49), ('class_3', 39)]
\end{verbatim}

æ˜¾ç„¶ï¼Œè¿™æ˜¯3ä¸ª\texttt{(key,\ value)}å…ƒç»„æ„æˆçš„Listã€‚

æ³¨æ„

1.æœ€å¤–å±‚çš„ä¸­æ‹¬å·\texttt{{[}{]}}ï¼šè¿™æ˜¯ä¸€ä¸ªList
2.æ¯ä¸€ä¸ªå…ƒç´ çš„å°æ‹¬å·\texttt{()}ï¼šæ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªTuple

çœ‹çœ‹ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ä»€ä¹ˆï¼Ÿ

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(all\_items[}\DecValTok{0}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
('class_1', 50)
\end{verbatim}

æ˜“è§ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªï¼ˆä¸€ç­çš„åç§°, ä¸€ç­çš„äººæ•°ï¼‰ç»„æˆçš„å…ƒç»„ã€‚

\hypertarget{dictux5c0fux7ec3ux4e60}{%
\subsection{Dictå°ç»ƒä¹ }\label{dictux5c0fux7ec3ux4e60}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  é¢˜ç›®1ï¼šåˆ›å»ºå­—å…¸ åˆ›å»ºä¸€ä¸ªåä¸º person\_info çš„å­—å…¸ï¼Œå…¶ä¸­åŒ…å«ä»¥ä¸‹é”®å€¼å¯¹ï¼š
\end{enumerate}

\begin{verbatim}
'name': 'Alice'
'age': 25
'city': 'New York'
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\item
  é¢˜ç›®2ï¼šè®¿é—®å­—å…¸ä¸­çš„å€¼ ä½¿ç”¨åˆšåˆšåˆ›å»ºçš„ person\_info
  å­—å…¸ã€‚ç¼–å†™ä¸€ä¸ªPythonè¯­å¥æ¥è®¿é—®é”® `age' å¯¹åº”çš„å€¼ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ä¸€ä¸ªåä¸º
  age\_value çš„å˜é‡ä¸­ã€‚
\item
  é¢˜ç›®3ï¼šæ·»åŠ é”®å€¼å¯¹ åœ¨ person\_info å­—å…¸ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„é”®å€¼å¯¹ï¼Œå…¶ä¸­é”®ä¸º
  `occupation'ï¼Œå€¼ä¸º `Engineer'ã€‚
\item
  é¢˜ç›®4ï¼šä¿®æ”¹å­—å…¸ä¸­çš„å€¼ ä¿®æ”¹ person\_info å­—å…¸ä¸­é”® `city' å¯¹åº”çš„å€¼ä¸º
  `San Francisco'ã€‚
\item
  é¢˜ç›®5ï¼šåˆ é™¤é”®å€¼å¯¹å’Œè·å–æ‰€æœ‰é”® é¦–å…ˆï¼Œåˆ é™¤ person\_info å­—å…¸ä¸­é”® `age'
  åŠå…¶å¯¹åº”çš„å€¼ã€‚ç„¶åè·å–è¯¥å­—å…¸ä¸­æ‰€æœ‰çš„é”®ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨ä¸€ä¸ªåä¸º
  keys\_list çš„åˆ—è¡¨ä¸­ã€‚
\end{enumerate}

\hypertarget{ux6761ux4ef6ux4e0eux5faaux73af}{%
\chapter{æ¡ä»¶ä¸å¾ªç¯}\label{ux6761ux4ef6ux4e0eux5faaux73af}}

å‰ç½®çŸ¥è¯†ï¼šä»£ç å—å’ŒTabï¼ˆæŒ‰é’®ï¼‰

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Pythonä»£ç å±‚çº§ï¼Œç”¨ç¼©è¿›æ¥è¡¨ç¤ºï¼Œä¸€èˆ¬æ¯ä¸€å±‚æ˜¯``ç¼©è¿›4ä¸ªç©ºæ ¼''ï¼ˆä¸‹é¢æœ‰ç¤ºä¾‹ï¼‰ï¼Œä¹Ÿæœ‰äººä¹ æƒ¯ç¼©è¿›2ä¸ªç©ºæ ¼ã€‚é€‰æ‹©å“ªä¸€ç§éƒ½ä¸æ˜¯é”™è¯¯ï¼Œä½†æ˜¯å»ºè®®æ˜¯å‰åä¿æŒä¸€è‡´ã€‚
\item
  åŒæ ·çš„ç¼©è¿›çº§åˆ«ï¼Œè¡¨ç¤ºä»£ç å¤„äºåŒä¸€å±‚ã€‚
\item
  å¦‚æœä½ ä½¿ç”¨Tabé”®ï¼ˆé”®ç›˜å·¦ä¾§Qé”®æ—è¾¹ï¼‰ï¼Œå¯ä»¥è¡¥é½ï¼ˆå¯¹é½ï¼‰4ä¸ªç©ºæ ¼ã€‚
\end{enumerate}

(\textbf{æ¨è}) ä½¿ç”¨vscodeçš„æ’ä»¶ indent-rainbow
ï¼ˆæˆ–è€…ç±»ä¼¼çš„å…¶ä»–æ’ä»¶ï¼‰ï¼Œå¯ä»¥ç”¨ä¸åŒé¢œè‰²æ˜¾ç¤ºç¼©è¿›çš„å±‚çº§ã€‚å¿˜è®°æ€ä¹ˆå®‰è£…æ’ä»¶çš„å¯ä»¥çœ‹å‰é¢çš„ç« èŠ‚ã€‚

\hypertarget{ux6761ux4ef6if}{%
\section{æ¡ä»¶if}\label{ux6761ux4ef6if}}

\hypertarget{ux591aux884cif}{%
\subsection{å¤šè¡Œif}\label{ux591aux884cif}}

if è¯­å¥ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¦‚æœifæ¡ä»¶æˆç«‹ï¼Œåˆ™æ‰§è¡Œä¸‹ä¸€å±‚çš„ä»£ç å—ï¼ˆåœ¨ä¸‹ä¸€å±‚ï¼ŒåŒæ ·æ˜¯ä»ä¸Šåˆ°ä¸‹æŒ‰é¡ºåºæ‰§è¡Œï¼‰
\item
  å¦åˆ™å°±è·³è¿‡
\end{enumerate}

\includegraphics{index_files/mediabag/python-if.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price }\OperatorTok{=} \DecValTok{98}
\ControlFlowTok{if}\NormalTok{ price }\OperatorTok{\textless{}}\DecValTok{100}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{\textquotesingle{}buy\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
buy
\end{verbatim}

if-elseè¯­å¥ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¦‚æœifæ¡ä»¶æˆç«‹ï¼Œåˆ™æ‰§è¡Œä¸‹ä¸€å±‚çš„ä»£ç å—ï¼ˆåœ¨ä¸‹ä¸€å±‚ï¼ŒåŒæ ·æ˜¯ä»ä¸Šåˆ°ä¸‹æŒ‰é¡ºåºæ‰§è¡Œï¼‰
\item
  å¦‚æœifæ¡ä»¶ä¸æˆç«‹ï¼Œåˆ™æ‰§è¡Œelseåçš„è¯­å¥ã€‚
\end{enumerate}

\includegraphics{index_files/mediabag/python-if-else.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price }\OperatorTok{=} \DecValTok{102}
\ControlFlowTok{if}\NormalTok{ price }\OperatorTok{\textless{}}\DecValTok{100}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{\textquotesingle{}buy\textquotesingle{}}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}not buy\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
not buy
\end{verbatim}

if-elifè¯­å¥ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¦‚æœifæ¡ä»¶æˆç«‹ï¼Œåˆ™æ‰§è¡Œä¸‹ä¸€å±‚çš„ä»£ç å—
\item
  å¦‚æœifæ¡ä»¶ä¸æˆç«‹ï¼Œåˆ™çœ‹elifåçš„æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œå¦‚æ­¤ç±»æ¨
\end{enumerate}

\includegraphics{index_files/mediabag/python-elif.png}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price }\OperatorTok{=} \DecValTok{102}
\ControlFlowTok{if}\NormalTok{ price }\OperatorTok{\textless{}}\DecValTok{100}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{\textquotesingle{}buy\textquotesingle{}}\NormalTok{)}
\ControlFlowTok{elif}\NormalTok{ price }\OperatorTok{\textless{}} \DecValTok{110}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{\textquotesingle{}hold\textquotesingle{}}\NormalTok{)}
\ControlFlowTok{elif}\NormalTok{ price }\OperatorTok{\textless{}} \DecValTok{120}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{\textquotesingle{}think about it\textquotesingle{}}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{\textquotesingle{}sell\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
hold
\end{verbatim}

\hypertarget{ux5355ux884cif}{%
\subsection{å•è¡Œif}\label{ux5355ux884cif}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price }\OperatorTok{=} \DecValTok{70}
\ControlFlowTok{if}\NormalTok{ price}\OperatorTok{\textless{}}\DecValTok{80}\NormalTok{: }\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}buy\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
buy
\end{verbatim}

\hypertarget{ux4e09ux5143ux8868ux8fbeux5f0f}{%
\subsection{ä¸‰å…ƒè¡¨è¾¾å¼}\label{ux4e09ux5143ux8868ux8fbeux5f0f}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price }\OperatorTok{=} \DecValTok{85}
\CommentTok{\textquotesingle{}buy\textquotesingle{}} \ControlFlowTok{if}\NormalTok{ (price}\OperatorTok{\textless{}}\DecValTok{80}\NormalTok{) }\ControlFlowTok{else} \StringTok{\textquotesingle{}don}\CharTok{\textbackslash{}\textquotesingle{}}\StringTok{t buy\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
"don't buy"
\end{verbatim}

\hypertarget{ux7ec3ux4e60}{%
\subsection{ç»ƒä¹ }\label{ux7ec3ux4e60}}

ç»ƒä¹ 1ï¼šå°æ˜èº«é«˜1.75mï¼Œä½“é‡80.5kgã€‚è¯·æ ¹æ®BMIå…¬å¼ï¼ˆä½“é‡é™¤ä»¥èº«é«˜çš„å¹³æ–¹ï¼‰å¸®å°æ˜è®¡ç®—ä»–çš„BMIæŒ‡æ•°ï¼Œå¹¶æ ¹æ®BMIæŒ‡æ•°ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä½äº18.5ï¼šè¿‡è½»
\item
  18.5-25ï¼šæ­£å¸¸
\item
  25-28ï¼šè¿‡é‡
\item
  28-32ï¼šè‚¥èƒ–
\item
  é«˜äº32ï¼šä¸¥é‡è‚¥èƒ–
\end{enumerate}

ç”¨if-elifåˆ¤æ–­å¹¶æ‰“å°ç»“æœï¼š

å°æç¤ºï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{height }\OperatorTok{=} \FloatTok{1.75}
\NormalTok{weight }\OperatorTok{=} \FloatTok{80.5}

\CommentTok{\# è®¡ç®—BMIæŒ‡æ•°}
\CommentTok{\# ç”¨ if{-}elif åˆ¤æ–­ï¼Œå¹¶æ‰“å°ç»“æœ}
\end{Highlighting}
\end{Shaded}

ç»ƒä¹ 2ï¼šåˆ¤æ–­é—°å¹´ï¼šä»year, åˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´?

æç¤ºï¼šèƒ½è¢«4æ•´é™¤ä½†ä¸èƒ½è¢«100æ•´é™¤çš„ æˆ–è€… èƒ½è¢«400æ•´é™¤ é‚£ä¹ˆå°±æ˜¯é—°å¹´

æ³¨ï¼šå¯ä»¥ç”¨å¤šå±‚çš„æ¡ä»¶è¯­å¥ï¼Œæˆ–è€…ç”¨å¤šä¸ªé€»è¾‘è¿ç®—æ¥å†™ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{year }\OperatorTok{=} \DecValTok{2005} \CommentTok{\# æˆ–è€…ä»»ä½•ä¸€å¹´}
\end{Highlighting}
\end{Shaded}

\hypertarget{ux5d4cux5957if}{%
\subsection{åµŒå¥—if}\label{ux5d4cux5957if}}

ä¾‹å­ï¼šç”¨if-elseæ±‚aã€bã€c 3ä¸ªæ•°ä¸­æœ€å¤§çš„ä¸€ä¸ª

æ€è·¯ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ¯”è¾ƒaå’Œb 1.1. è‹¥aè¾ƒå¤§ï¼Œåˆ™æ¯”è¾ƒaå’Œc 1.2. è‹¥aè¾ƒå°ï¼Œåˆ™æ¯”è¾ƒbå’Œc
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{4}
\NormalTok{b }\OperatorTok{=} \DecValTok{9}
\NormalTok{c }\OperatorTok{=} \DecValTok{2}

\ControlFlowTok{if}\NormalTok{ a}\OperatorTok{\textgreater{}}\NormalTok{b:}
    \ControlFlowTok{if}\NormalTok{ a}\OperatorTok{\textgreater{}}\NormalTok{c:}
\NormalTok{        max\_value}\OperatorTok{=}\NormalTok{a}
    \ControlFlowTok{else}\NormalTok{:}
\NormalTok{        max\_value}\OperatorTok{=}\NormalTok{c}
\ControlFlowTok{else}\NormalTok{:}
    \ControlFlowTok{if}\NormalTok{ b}\OperatorTok{\textgreater{}}\NormalTok{c:}
\NormalTok{        max\_value}\OperatorTok{=}\NormalTok{b}
    \ControlFlowTok{else}\NormalTok{:}
\NormalTok{        max\_value}\OperatorTok{=}\NormalTok{c}
  
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"æœ€å¤§å€¼æ˜¯}\SpecialCharTok{\{}\NormalTok{max\_value}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)     }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
æœ€å¤§å€¼æ˜¯9
\end{verbatim}

\hypertarget{ux7ec3ux4e60-1}{%
\subsection{ç»ƒä¹ }\label{ux7ec3ux4e60-1}}

å¯¹ä¸€ä¸ªå˜é‡numberï¼Œåˆ¤æ–­æ˜¯å¦èƒ½è¢«2æˆ–è€…3æ•´é™¤

æŒ‰å…·ä½“çš„æƒ…å†µï¼Œè¯·è¾“å‡ºï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ``ä½ è¾“å…¥çš„æ•°å­—å¯ä»¥æ•´é™¤ 2 å’Œ 3''
\item
  ``ä½ è¾“å…¥çš„æ•°å­—å¯ä»¥æ•´é™¤ 2ï¼Œä½†ä¸èƒ½æ•´é™¤ 3''
\item
  ``ä½ è¾“å…¥çš„æ•°å­—å¯ä»¥æ•´é™¤ 3ï¼Œä½†ä¸èƒ½æ•´é™¤ 2''
\item
  ``ä½ è¾“å…¥çš„æ•°å­—ä¸èƒ½æ•´é™¤ 2 å’Œ 3''
\end{enumerate}

æ€è·¯ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å…ˆçœ‹çœ‹2
\item
  å†çœ‹çœ‹3
\end{enumerate}

\hypertarget{ux518dux8c08ux5e03ux5c14ux503c}{%
\subsection{å†è°ˆå¸ƒå°”å€¼}\label{ux518dux8c08ux5e03ux5c14ux503c}}

å‰é¢è®²è¿‡ï¼Œå¸ƒå°”å‹æœ‰2ç§ï¼ŒçœŸ\texttt{True}å’Œå‡\texttt{False}ã€‚

å®é™…ä¸Šï¼Œè¿™2ä¸ªç¬¦å·ï¼Œæ˜¯\textbf{å¸ƒå°”å‹å˜é‡çš„å€¼}ï¼Œå’Œ\texttt{1,2,3,4}æ˜¯æ•´å‹çš„å€¼ï¼Œ\texttt{\textquotesingle{}apple\textquotesingle{}}æ˜¯å­—ç¬¦ä¸²çš„å€¼ç±»ä¼¼ã€‚ä½†å¸ƒå°”å‹çš„å€¼åªæœ‰2ç§ã€‚

ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªå˜é‡ï¼Œç”¨äºè¡¨ç¤º``ç°åœ¨æ˜¯å¦ä¸‹é›¨''ã€‚è¿™ä¸ªé—®é¢˜åªæœ‰2ä¸ªç­”æ¡ˆï¼Œæ˜¯æˆ–è€…å¦ï¼Œæ˜¾ç„¶è¿™å°±å¯ä»¥ç”¨å¸ƒå°”å‹æ¥è¡¨ç¤ºï¼š\texttt{True}å°±è¡¨ç¤ºä¸‹é›¨ï¼Œ\texttt{False}å°±è¡¨ç¤ºæ²¡ä¸‹é›¨ã€‚æˆ‘ä»¬å°±å®šä¹‰ä¸€ä¸ªå¸ƒå°”å‹å˜é‡\texttt{is\_raining}ã€‚

æ³¨æ„ï¼šä¸ºäº†è¾¾åˆ°é¡¾åæ€ä¹‰çš„æ•ˆæœï¼Œå¸ƒå°”å‹çš„å˜é‡ï¼Œå¯ä»¥è€ƒè™‘ç”¨\texttt{is\_}ï¼Œ\texttt{has\_}ç­‰ç­‰å¼€å¤´ï¼Œæ˜¾ç¤ºè¿™æ˜¯ä¸ª``æ˜¯å¦''é—®é¢˜çš„ç­”æ¡ˆã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è¡¨ç¤ºç°åœ¨æ­£åœ¨åˆ®é£ä¸‹é›¨}
\NormalTok{is\_raining }\OperatorTok{=} \VariableTok{True} 
\NormalTok{is\_blowing }\OperatorTok{=} \VariableTok{True}
\end{Highlighting}
\end{Shaded}

åˆ¤æ–­æ˜¯å¦åŒæ—¶åœ¨åˆ®é£å’Œä¸‹é›¨

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(is\_raining }\KeywordTok{and}\NormalTok{ is\_blowing)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
True
\end{verbatim}

å¸ƒå°”è¿ç®—ï¼Œå…¶ç»“æœï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„å˜é‡ï¼šå› æ­¤å¯ä»¥èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ã€‚

\texttt{bad\_weather}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bad\_weather }\OperatorTok{=}\NormalTok{ is\_raining }\KeywordTok{and}\NormalTok{ is\_blowing }\CommentTok{\# å¸ƒå°”è¿ç®—çš„ç»“æœï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¸ƒå°”å‹ï¼Œå¹¶ä¸”å¯ä»¥èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡}
\BuiltInTok{print}\NormalTok{(bad\_weather)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
True
\end{verbatim}

æ¢ä¸€ç§ç†è§£ï¼Œä½ å¯ä»¥æŠŠ\texttt{and}è¿ç®—ï¼Œçœ‹æˆä¸€ä¸ªå‡½æ•°ã€‚ç±»ä¼¼äºï¼š

\begin{verbatim}
bool_and(x, y)
\end{verbatim}

å°±å¯ä»¥è§†ä¸ºä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œè¿”å›çš„ç»“æœï¼Œå°±æ˜¯ä¸æ“ä½œ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bad\_weather }\OperatorTok{=}\NormalTok{ bool\_and(is\_raining, is\_blowing) }\CommentTok{\# è¿™æ˜¯éšä¾¿å†™çš„ï¼Œæ— æ³•æ‰§è¡Œ}
\end{Highlighting}
\end{Shaded}

å›åˆ°æˆ‘ä»¬çš„\texttt{if}è¯­å¥ã€‚\texttt{if}è¯­å¥æ¥å—çš„åˆ¤æ–­æ¡ä»¶ï¼Œæœ¬è´¨ä¸Šä¸€ä¸ª\textbf{å¸ƒå°”å‹å˜é‡}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{if}\NormalTok{ is\_raining }\KeywordTok{and}\NormalTok{ is\_blowing:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}don}\CharTok{\textbackslash{}\textquotesingle{}}\StringTok{t go outside!\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
don't go outside!
\end{verbatim}

ç­‰ä»·äºï¼š

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{if}\NormalTok{ bad\_weather:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}don}\CharTok{\textbackslash{}\textquotesingle{}}\StringTok{t go outside!\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
don't go outside!
\end{verbatim}

æ‰€ä»¥ï¼Œä½ åœ¨\texttt{if}åé¢è·Ÿä¸€ä¸ªå¸ƒå°”å‹å˜é‡\texttt{bad\_weather}ï¼Œæˆ–è€…ä¸€ä¸ªæ¡ä»¶\texttt{is\_raining\ and\ is\_blowing}ï¼Œæ˜¯ç­‰ä»·çš„ã€‚ä½†åè€…å¯ä»¥å°‘è¿›è¡Œä¸€æ¬¡èµ‹å€¼çš„æ“ä½œï¼Œå¹¶ä¸”èŠ‚çº¦ä¸€ä¸ªå˜é‡åã€‚

å›çœ‹å‰é¢çš„ä¾‹å­ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{2}
\NormalTok{b }\OperatorTok{=} \DecValTok{3}
\ControlFlowTok{if}\NormalTok{ a }\OperatorTok{\textgreater{}}\NormalTok{ b: }
    \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}a \textgreater{} b\textquotesingle{}}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}a \textless{}= b\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
a <= b
\end{verbatim}

å¯ä»¥æŠŠ\texttt{a\ \textgreater{}\ b}çœ‹æˆæ˜¯``ä¸€ä¸ªå¸ƒå°”å‹çš„å˜é‡''ï¼Œè¿™ä¸ªå˜é‡ï¼Œä¿å­˜äº†\texttt{a\ \textgreater{}\ b}çš„ç»“æœï¼Œåªæ˜¯æˆ‘ä»¬æ²¡æœ‰æŠŠè¿™ä¸ªç»“æœèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡åï¼ˆæ²¡æœ‰ç»‘å®šä¸€ä¸ªæ ‡ç­¾ï¼‰ï¼Œè€Œæ˜¯ç›´æ¥æ”¾è¿›äº†\texttt{if}è¯­å¥ä¸­ã€‚

è¿™ç­‰ä»·äºï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{2}
\NormalTok{b }\OperatorTok{=} \DecValTok{3}

\NormalTok{is\_a\_bigger }\OperatorTok{=}\NormalTok{ a }\OperatorTok{\textgreater{}}\NormalTok{ b }

\ControlFlowTok{if}\NormalTok{ is\_a\_bigger: }
    \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}a \textgreater{} b\textquotesingle{}}\NormalTok{)}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}a \textless{}= b\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
a <= b
\end{verbatim}

å°ç»“ï¼Œå¸ƒå°”è¿ç®—ï¼Œå®é™…ä¸Šä¼šè¿”å›ä¸€ä¸ªæ–°çš„å¸ƒå°”å€¼ï¼Œå¯ä»¥å’Œä»»ä½•å˜é‡ä¸€æ ·è¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚ç»‘å®šåå­—ï¼Œæ”¾è¿›ifé‡Œç­‰ç­‰

\hypertarget{whileux5faaux73af}{%
\section{whileå¾ªç¯}\label{whileux5faaux73af}}

whileå¾ªç¯æ¯”è¾ƒç›´è§‚ï¼Œ``\textbf{åªè¦æ¡ä»¶æˆç«‹ï¼Œå°±é‡å¤æ‰§è¡ŒæŸå—ä»£ç å—}''

æˆ–è€…è¯´ï¼Œ``\textbf{é‡å¤æ‰§è¡ŒæŸå—ä»£ç å—ï¼Œç›´åˆ°æ¡ä»¶ä¸æˆç«‹ä¸ºæ­¢}''

\begin{verbatim}
while åˆ¤æ–­æ¡ä»¶(condition)ï¼š
    æ‰§è¡Œè¯­å¥(statements)
\end{verbatim}

\hypertarget{ux4e3eux4f8bux6253ux5370-1ux523010}{%
\subsection{ä¸¾ä¾‹ï¼šæ‰“å° 1åˆ°10}\label{ux4e3eux4f8bux6253ux5370-1ux523010}}

æ€æƒ³ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¦æŠŠ10ä»¥å†…çš„æ‰€æœ‰è‡ªç„¶æ•°éƒ½è¿‡ä¸€æ¬¡ï¼Œè‚¯å®šè¦ç”¨å¾ªç¯
\item
  è®¾è®¡ä¸€ä¸ªå˜é‡ï¼Œç”¨æ¥åšè®¡æ•°å™¨ï¼Œæ¯”å¦‚i
\item
  æ¯æ¬¡å¾ªç¯ä¸­ï¼Œè®¡æ•°å™¨ç´¯åŠ 1ï¼Œç›´åˆ°10ä¸ºæ­¢ï¼Œåœæ­¢å¾ªç¯
\item
  æ¯æ¬¡å¾ªç¯ä¸­ï¼Œæ‰“å°è¿™ä¸ªæ•°
\end{enumerate}

\begin{itemize}
\tightlist
\item
  æ³¨ï¼šè®©å˜é‡è‡ªå¢çš„è¿ç®—ç¬¦å·æ˜¯\texttt{+=}
\end{itemize}

ä¾‹å¦‚ \texttt{i\ +=\ 2}å³è®©\texttt{i}è‡ªå¢2ï¼Œç­‰ä»·äº \texttt{i\ =\ i\ +\ 2}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{i }\OperatorTok{=} \DecValTok{1}
\NormalTok{i }\OperatorTok{+=} \DecValTok{999}
\BuiltInTok{print}\NormalTok{(i)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
1000
\end{verbatim}

è®¾è®¡ä¸€ä¸ªä»1åˆ°5çš„å¾ªç¯

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{i }\OperatorTok{=} \DecValTok{1}
\ControlFlowTok{while}\NormalTok{ i }\OperatorTok{\textless{}=} \DecValTok{5}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(i)}
\NormalTok{    i }\OperatorTok{+=}\DecValTok{1} 
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"å¾ªç¯ç»“æŸ"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
1
2
3
4
5
å¾ªç¯ç»“æŸ
\end{verbatim}

\hypertarget{ux7ec3ux4e60-2}{%
\subsection{ç»ƒä¹ }\label{ux7ec3ux4e60-2}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ‰“å° 1åˆ°10 ä¸­çš„å¶æ•°ã€‚
\end{enumerate}

å°æç¤ºï¼šå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯å¶æ•°ï¼Ÿå–ä½™çš„æ“ä½œç¬¦æ˜¯\texttt{\%}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  åˆ©ç”¨å¾ªç¯ï¼Œæ±‚1åˆ°100çš„ç´¯åŠ ï¼Œè®¡ç®—å®Œæˆæœ€åæ‰“å°å‡ºæ¥
\end{enumerate}

å°æç¤ºï¼šä½ å¯ä»¥å»ºç«‹ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œç”¨æ¥å­˜æ”¾ç´¯åŠ çš„ç»“æœ

\hypertarget{forux5faaux73af}{%
\section{forå¾ªç¯}\label{forux5faaux73af}}

\hypertarget{ux5982ux679cux6ca1ux6709forux5faaux73af}{%
\subsection{å¦‚æœæ²¡æœ‰forå¾ªç¯}\label{ux5982ux679cux6ca1ux6709forux5faaux73af}}

ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªç­çº§åŒå­¦å§“åçš„åˆ—è¡¨ï¼Œæˆ‘ä»¬è¦æ‰“å°æ¯ä¸€ä¸ªåŒå­¦å§“åçš„æœ€åä¸€ä¸ªå­—æ¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{students }\OperatorTok{=}\NormalTok{ [}\StringTok{"Alex"}\NormalTok{, }\StringTok{"Bob"}\NormalTok{, }\StringTok{"Clare"}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(students)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['Alex', 'Bob', 'Clare']
\end{verbatim}

æ²¡æœ‰å¾ªç¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ€ä¹ˆåšï¼Ÿ

æˆ‘ä»¬å¯èƒ½ä¼šå°è¯•ï¼ŒæŠŠstudentsè¿™ä¸ªåˆ—è¡¨ï¼ŒæŒ‰ç´¢å¼•å·ï¼Œé€ä¸€å–å‡ºï¼Œç„¶åå†æ‰“å°é¦–å­—æ¯

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{len}\NormalTok{(students)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
3
\end{verbatim}

çŸ¥é“studentsé‡Œæœ‰3ä¸ªåŒå­¦ï¼Œæˆ‘ä»¬å°±çŸ¥é“ï¼Œç´¢å¼•å·ï¼ˆindexï¼‰æ˜¯0ï¼Œ1ï¼Œ2ã€‚

ç°åœ¨æˆ‘ä»¬ç”¨æœ€ç¬¨çš„åŠæ³•ï¼Œé€ä¸€å–å‡ºï¼Œé€ä¸€æ‰“å°

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ students[}\DecValTok{0}\NormalTok{]   }\CommentTok{\# å–0å·å…ƒç´ }
\BuiltInTok{print}\NormalTok{(s[}\OperatorTok{{-}}\DecValTok{1}\NormalTok{])      }\CommentTok{\# æ‰“å°æœ€åä¸€ä¸ªå­—æ¯}

\CommentTok{\# å¯¹å…¶ä»–2ä¸ªå…ƒç´ ï¼Œæ‰‹åŠ¨é‡å¤ä¸€æ¬¡}
\NormalTok{s }\OperatorTok{=}\NormalTok{ students[}\DecValTok{1}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(s[}\OperatorTok{{-}}\DecValTok{1}\NormalTok{])}

\NormalTok{s }\OperatorTok{=}\NormalTok{ students[}\DecValTok{2}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(s[}\OperatorTok{{-}}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
x
b
e
\end{verbatim}

\begin{verbatim}
x
b
e
\end{verbatim}

æ˜¾ç„¶ï¼Œ

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¦‚æœå…ƒç´ å¾ˆå¤šï¼Œè¿™å°±æ˜¯ä¸ªä¸å¯èƒ½å®Œæˆçš„ä»»åŠ¡ã€‚
\item
  è¿™ä¸ªåšæ³•ï¼Œé‡å¤çš„ä»£ç å¤ªå¤šï¼Œå¿…ç„¶å¯ä»¥å¾—åˆ°ç²¾ç®€
\end{enumerate}

\hypertarget{ux7528whileux5faaux73af}{%
\subsection{ç”¨whileå¾ªç¯ï¼Ÿ}\label{ux7528whileux5faaux73af}}

æˆ‘ä»¬å‰é¢å­¦äº†whileå¾ªç¯ï¼Œæˆ‘ä»¬å°è¯•ç”¨whileæ¥åšå®Œæˆ

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  åŒæ ·ï¼Œä¸€ä¸ªè®¡æ•°å™¨iï¼Œè®°å½•äº†ç´¢å¼•å·ï¼Œä»0ï¼Œåˆ°\texttt{len(student)\ -\ 1} =
  2
\item
  æ¯æ¬¡å¾ªç¯ï¼Œç”¨\texttt{students{[}i{]}}æ¥å–å‡ºå¯¹åº”çš„å…ƒç´ 
\item
  æ‰“å°æœ€åä¸€ä¸ªå…ƒç´ 
\item
  i += 1ï¼Œå¾ªç¯
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{i }\OperatorTok{=} \DecValTok{0}

\ControlFlowTok{while}\NormalTok{ i }\OperatorTok{\textless{}} \BuiltInTok{len}\NormalTok{(students): }\CommentTok{\# æ³¨æ„ï¼Œè¿™é‡Œæ˜¯ i \textless{} 3 }
\NormalTok{    s }\OperatorTok{=}\NormalTok{ students[i]        }\CommentTok{\# å³i = 0, 1, 2}
    \BuiltInTok{print}\NormalTok{(s[}\OperatorTok{{-}}\DecValTok{1}\NormalTok{])}
  
\NormalTok{    i }\OperatorTok{+=} \DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
x
b
e
\end{verbatim}

\hypertarget{ux7528forux5faaux73af}{%
\subsection{ç”¨forå¾ªç¯}\label{ux7528forux5faaux73af}}

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ s }\KeywordTok{in}\NormalTok{ students:}
    \BuiltInTok{print}\NormalTok{(s[}\OperatorTok{{-}}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
x
b
e
\end{verbatim}

\hypertarget{ux6bd4ux8f83}{%
\subsection{æ¯”è¾ƒ}\label{ux6bd4ux8f83}}

æ¯”è¾ƒforå¾ªç¯ï¼Œå’Œæ‰‹åŠ¨æ“ä½œ

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% do it yourself}
\NormalTok{s }\OperatorTok{=}\NormalTok{ students[}\DecValTok{0}\NormalTok{]   }\CommentTok{\# å–0å·å…ƒç´ }
\BuiltInTok{print}\NormalTok{(s[}\OperatorTok{{-}}\DecValTok{1}\NormalTok{])      }\CommentTok{\# æ‰“å°æœ€åä¸€ä¸ªå­—æ¯}

\CommentTok{\# å¯¹å…¶ä»–2ä¸ªå…ƒç´ ï¼Œæ‰‹åŠ¨é‡å¤ä¸€æ¬¡}
\NormalTok{s }\OperatorTok{=}\NormalTok{ students[}\DecValTok{1}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(s[}\OperatorTok{{-}}\DecValTok{1}\NormalTok{])}

\NormalTok{s }\OperatorTok{=}\NormalTok{ students[}\DecValTok{2}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(s[}\OperatorTok{{-}}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
x
b
e
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% for}
\ControlFlowTok{for}\NormalTok{ s }\KeywordTok{in}\NormalTok{ students:}
    \BuiltInTok{print}\NormalTok{(s[}\OperatorTok{{-}}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
x
b
e
\end{verbatim}

ä¸Šè¿°forå¾ªç¯å®Œæˆçš„äº‹ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è‡ªåŠ¨æŠŠsæŒ‡å‘studentsä¸­çš„0å·å…ƒç´ ï¼Œå¯¹sæ‰§è¡Œä½ çš„ä»£ç ï¼ˆæ‰“å°æœ€åä¸€ä¸ªå­—ï¼‰
\item
  è‡ªåŠ¨æŠŠsæŒ‡å‘studentsä¸­çš„1å·å…ƒç´ ï¼Œå¯¹sæ‰§è¡Œä½ çš„ä»£ç ï¼ˆæ‰“å°æœ€åä¸€ä¸ªå­—ï¼‰
\item
  è‡ªåŠ¨æŠŠsæŒ‡å‘studentsä¸­çš„3å·å…ƒç´ ï¼Œå¯¹sæ‰§è¡Œä½ çš„ä»£ç ï¼ˆæ‰“å°æœ€åä¸€ä¸ªå­—ï¼‰
\item
  \ldots{}
\end{enumerate}

\hypertarget{forux5faaux73af-1}{%
\subsection{forå¾ªç¯}\label{forux5faaux73af-1}}

forå¾ªç¯ä¸€èˆ¬ç”¨äºéå†ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆç®€å•ç†è§£ï¼Œå°±æ˜¯å¦‚
Listã€Tupleå’ŒDictè¿™æ ·å…·æœ‰åºåˆ—ç»“æ„çš„æ•°æ®ï¼‰

å…¶ä½œç”¨æ˜¯``å¯¹å…¶ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½åšç‚¹ä»€ä¹ˆ''ã€‚

å¦‚æœä½ è¦å¯¹ä¸€ä¸ªListä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½åšç‚¹ä»€ä¹ˆï¼Œæ­¤æ—¶å°±åº”è¯¥ç”¨forå¾ªç¯ã€‚

ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦æ‰“å°\texttt{a\ =\ {[}1,2,3,4,5{]}}ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ 

æˆ–è€…è¯´ï¼Œæˆ‘ä»¬è¦å¯¹\texttt{a\ =\ {[}1,2,3,4,5{]}}ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œæ‰§è¡Œæ‰“å°è¿™ä¸ªåŠ¨ä½œã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a\_list }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a\_list:  }
    \BuiltInTok{print}\NormalTok{(i)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
1
2
3
4
5
\end{verbatim}

è§£é‡Š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç›®æ ‡ï¼šå¯¹\texttt{a\ =\ {[}1,2,3,4,5{]}}ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œæ‰§è¡Œæ‰“å°è¿™ä¸ªåŠ¨ä½œã€‚
\item
  \texttt{a\_list}æ˜¯ä¸€ä¸ªåˆ—è¡¨çš„åå­—
\item
  \texttt{for\ i\ in\ a\_list:}ï¼šæˆ‘ä»¬æŠŠä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼ŒæŒ‰é¡ºåºï¼Œé€ä¸ªè¿‡ä¸€éã€‚è½®åˆ°å“ªä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å°±ç”¨\texttt{i}æ¥æŒ‡å‘å®ƒã€‚
\item
  \texttt{print(i)}ï¼šç”±ä¸Šä¸€å¥ï¼Œ\texttt{i}å¯ä»¥çœ‹ä½œæ¯ä¸€ä¸ªå…ƒç´ ä»£ç§°ï¼Œæˆ‘ä»¬æ‰“å°å®ƒã€‚æ³¨æ„ï¼Œå‰é¢ç”±``1ä¸ªç¼©è¿›''ã€‚
\end{enumerate}

break

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a:}
    \ControlFlowTok{if}\NormalTok{ i }\OperatorTok{\textless{}} \DecValTok{4}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{ (i)}
    \ControlFlowTok{else}\NormalTok{:}
        \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}ä»è¿™é‡Œæ–­å¼€ï¼\textquotesingle{}}\NormalTok{)}
        \ControlFlowTok{break}
\ControlFlowTok{else}\NormalTok{:}
    \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}å¾ªç¯å®Œæˆï¼\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
1
2
3
ä»è¿™é‡Œæ–­å¼€ï¼
\end{verbatim}

\hypertarget{rangeux7684ux5faaux73af}{%
\subsection{rangeçš„å¾ªç¯}\label{rangeux7684ux5faaux73af}}

\texttt{range(èµ·ç‚¹,\ ç»ˆç‚¹,\ æ­¥é•¿)}ï¼šå¿«é€Ÿç”Ÿæˆä¸€ä¸ªåºåˆ—ï¼šæƒ°æ€§çš„ï¼ˆlazyï¼‰å¯è¿­ä»£åºåˆ—

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{range(0,10)}ï¼šç”Ÿæˆä¸€ä¸ª0 \textasciitilde{}
  9çš„è‡ªç„¶æ•°åºåˆ—ï¼ˆåŒ…æ‹¬èµ·ç‚¹ï¼Œä¸åŒ…æ‹¬ç»ˆç‚¹ï¼‰
\item
  \texttt{range(0,10,2)}ï¼šç”Ÿæˆä¸€ä¸ª0 \textasciitilde{}
  8çš„å¶æ•°åºåˆ—ï¼ˆåŒ…æ‹¬èµ·ç‚¹ï¼Œä¸åŒ…æ‹¬ç»ˆç‚¹ï¼‰
\item
  å¯ä»¥è½¬ä¸ºListï¼Œå¦‚:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{range}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(}\BuiltInTok{range}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{))) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
range(0, 10)
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
\end{verbatim}

ä½†æ˜¯ï¼Œrangeä¸ç”¨è½¬æ¢ä¸ºListï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ï¼

å¦‚ï¼šæŒ‰ç´¢å¼•å–å€¼ï¼Œæˆ–è€…åˆ‡ç‰‡(rangeåˆ‡ç‰‡ä¼šå¾—åˆ°å¦ä¸€ä¸ªrange)ç­‰ç­‰

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{15}\NormalTok{)[}\DecValTok{2}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{15}\NormalTok{)[}\DecValTok{2}\NormalTok{:}\DecValTok{4}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
12
range(12, 14)
\end{verbatim}

ä¹Ÿå¯ä»¥æ›¿ä»£Listï¼Œç”¨åœ¨forå¾ªç¯ä¸­ï¼Œå¸¸ç”¨äºå¿«é€Ÿç”Ÿæˆä¸€ä¸ªæ•°å­—åºåˆ—

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{ (}\DecValTok{1}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{2}\NormalTok{):}
    \BuiltInTok{print}\NormalTok{ (}\StringTok{\textquotesingle{}å¥‡æ•°æ˜¯: \textquotesingle{}}\NormalTok{,i) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å¥‡æ•°æ˜¯:  1
å¥‡æ•°æ˜¯:  3
å¥‡æ•°æ˜¯:  5
å¥‡æ•°æ˜¯:  7
å¥‡æ•°æ˜¯:  9
\end{verbatim}

\hypertarget{ux66f4ux591aux7ec3ux4e60}{%
\section{æ›´å¤šç»ƒä¹ }\label{ux66f4ux591aux7ec3ux4e60}}

æ±‚1\textasciitilde100ä¹‹é—´èƒ½è¢«7æ•´é™¤ï¼Œä½†ä¸èƒ½åŒæ—¶è¢«5æ•´é™¤çš„æ‰€æœ‰æ•´æ•°ã€‚Forå’ŒWhileç‰ˆæœ¬

æ±‚åˆ—è¡¨ï¼ˆæˆ–è€…å…ƒç»„ï¼‰å¹³å‡å€¼ã€‚Forå’ŒWhileç‰ˆæœ¬

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{score }\OperatorTok{=}\NormalTok{ [}\DecValTok{70}\NormalTok{, }\DecValTok{90}\NormalTok{, }\DecValTok{78}\NormalTok{, }\DecValTok{85}\NormalTok{, }\DecValTok{97}\NormalTok{, }\DecValTok{94}\NormalTok{, }\DecValTok{65}\NormalTok{, }\DecValTok{80}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

è¿›é˜¶æ€è€ƒé¢˜ï¼šäºŒåˆ†æŸ¥æ‰¾æ³•

å¯¹äºä¸€ä¸ªæ’åºçš„Listï¼Œæ‰¾åˆ°æŸä¸€ä¸ªå…ƒç´ çš„ä½ç½®

æ€è·¯

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ‰¾åˆ°åˆ—è¡¨çš„ä¸­é—´ä½ç½®çš„å…ƒç´ 
\item
  æ¯”è¾ƒè¿™ä¸ªå…ƒç´ ï¼Œå’Œç›®æ ‡çš„å¤§å°ã€‚å¦‚æœä¸€æ ·å¤§ï¼Œå¾—åˆ°ä½ç½®ã€‚
\item
  æ ¹æ®å¤§å°ï¼ŒæŠŠèŒƒå›´ç¼©å°åˆ°Listå‰åŠæ®µï¼Œæˆ–è€…ååŠæ®µ
\item
  åœ¨æ–°çš„åŒºé—´ï¼Œå›åˆ°1. é‡å¤è¿™ä¸ªè¿‡ç¨‹
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [ }\DecValTok{5}\NormalTok{,}\DecValTok{8}\NormalTok{,}\DecValTok{15}\NormalTok{,}\DecValTok{20}\NormalTok{,}\DecValTok{30}\NormalTok{,}\DecValTok{45}\NormalTok{,}\DecValTok{78}\NormalTok{,}\DecValTok{100}\NormalTok{,}\DecValTok{120}\NormalTok{,}\DecValTok{200}\NormalTok{ ]}
\NormalTok{target }\OperatorTok{=} \DecValTok{30}
\end{Highlighting}
\end{Shaded}

\hypertarget{ux5217ux8868ux63a8ux5bfcux5f0flist-comprehension}{%
\section{åˆ—è¡¨æ¨å¯¼å¼List
Comprehension}\label{ux5217ux8868ux63a8ux5bfcux5f0flist-comprehension}}

åˆ—è¡¨æ¨å¯¼å¼å¯ä»¥è®©æˆ‘ä»¬ä»ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼ˆå…¸å‹çš„å°±æ˜¯Listæœ¬èº«ï¼‰ç”Ÿæˆä¸€ä¸ªListã€‚æœ€å¸¸è§çš„æƒ…å†µæ˜¯ä»ä¸€ä¸ªListç”Ÿæˆå¦ä¸€ä¸ªListã€‚

ä¾‹å¦‚ï¼ŒæŠŠ\texttt{a\ =\ {[}1,2,3,4,5{]}}ä¸­çš„æ‰€æœ‰æ•°ä¹˜ä»¥2.

ç”¨å¾ªç¯æˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¾ªç¯çš„ç‰ˆæœ¬}
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\NormalTok{b }\OperatorTok{=}\NormalTok{ []}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a:}
\NormalTok{    b.append(i}\OperatorTok{*}\DecValTok{2}\NormalTok{) }

\BuiltInTok{print}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 4, 6, 8, 10]
\end{verbatim}

å¦‚æœç”¨åˆ—è¡¨æ¨å¯¼å¼ï¼Œå¯ä»¥æ›´ä¸ºç®€å•ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\NormalTok{b }\OperatorTok{=}\NormalTok{ [i}\OperatorTok{*}\DecValTok{2} \ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a]}
\BuiltInTok{print}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 4, 6, 8, 10]
\end{verbatim}

ä¸€èˆ¬çš„ç»“æ„å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š

\texttt{{[}do\_something(i)\ for\ i\ in\ a\_list{]}}

éå†a\_listä¸­çš„æ¯ä¸ªå…ƒç´ ï¼ˆç§°ä¹‹ä¸ºiï¼‰ï¼Œåšä¸€ä¸ªæ“ä½œï¼Œç„¶åç»“æœä¿å­˜å½¢æˆä¸€ä¸ªæ–°çš„åˆ—è¡¨ã€‚

æ˜¾ç„¶ï¼Œä¸¤ç«¯æ˜¯ä¸­æ‹¬å·æ„å‘³ç€æˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªæ–°çš„Listã€‚

å¦ä¸€ä¸ªä¾‹å­ï¼ŒæŠŠåˆ—è¡¨ä¸­çš„æ‰€æœ‰å­—ç¬¦å˜ä¸ºå¤§å†™ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{s }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}abc\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}abcd\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}bcde\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}bcdee\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}cdefg\textquotesingle{}}\NormalTok{]}
\NormalTok{[x.upper() }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ s]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['ABC', 'ABCD', 'BCDE', 'BCDEE', 'CDEFG']
\end{verbatim}

ä¹Ÿå¯ä»¥ç»“åˆç­›é€‰ï¼šéå†listä¸­çš„å…ƒç´ ï¼Œé€‰å‡ºç¬¦åˆæ¡ä»¶çš„ï¼Œè¿›è¡ŒæŸä¸ªæ“ä½œï¼Œå½¢æˆæ–°çš„åˆ—è¡¨ã€‚

\texttt{{[}do\_something(i)\ for\ i\ in\ a\_list\ if\ condition(i){]}}

æ¯”å¦‚é€‰å‡ºaä¸­å¤§äºç­‰äº3çš„æ•°ï¼Œä¹˜ä»¥2ï¼Œå†å½¢æˆä¸€ä¸ªæ–°çš„åˆ—è¡¨ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\NormalTok{b }\OperatorTok{=}\NormalTok{ [i}\OperatorTok{*}\DecValTok{2} \ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a }\ControlFlowTok{if}\NormalTok{ i }\OperatorTok{\textgreater{}=}\DecValTok{3}\NormalTok{ ]}
\BuiltInTok{print}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[6, 8, 10]
\end{verbatim}

å½“ç„¶ï¼Œå¦‚æœåªæ˜¯è¦ç­›é€‰ï¼Œä¸åšå…¶ä»–æ“ä½œï¼Œä¸Šé¢\texttt{i*2}æ”¹æˆ\texttt{i}å³å¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \BuiltInTok{range}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{6}\NormalTok{) }\CommentTok{\# çº¦ç­‰äº [1,2,3,4,5]}
\NormalTok{b }\OperatorTok{=}\NormalTok{ [i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a }\ControlFlowTok{if}\NormalTok{ i }\OperatorTok{\textgreater{}=}\DecValTok{3}\NormalTok{ ]}
\BuiltInTok{print}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[3, 4, 5]
\end{verbatim}

\hypertarget{ux5217ux8868ux63a8ux5bfcux5f0fux7ec3ux4e60}{%
\subsection{åˆ—è¡¨æ¨å¯¼å¼ç»ƒä¹ }\label{ux5217ux8868ux63a8ux5bfcux5f0fux7ec3ux4e60}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨åŒ…å«1åˆ°20ä¹‹é—´æ‰€æœ‰å¶æ•°çš„å¹³æ–¹ã€‚
\item
  æå–ä»¥ä¸‹åˆ—è¡¨ä¸­ï¼Œé¦–å­—æ¯\textbf{ä¸æ˜¯a}çš„å•è¯ã€‚
\end{enumerate}

\texttt{{[}\textquotesingle{}apple\textquotesingle{},\ \textquotesingle{}banana\textquotesingle{},\ \textquotesingle{}ant\textquotesingle{},\ \textquotesingle{}animal\textquotesingle{},\ \textquotesingle{}astronaut\textquotesingle{},\ \textquotesingle{}airplane\textquotesingle{}{]}}.

\hypertarget{dictux7684ux5faaux73afux548cux5b57ux5178ux63a8ux5bfcux5f0f}{%
\section{Dictçš„å¾ªç¯å’Œå­—å…¸æ¨å¯¼å¼}\label{dictux7684ux5faaux73afux548cux5b57ux5178ux63a8ux5bfcux5f0f}}

\hypertarget{ux904dux5386ux5b57ux5178}{%
\subsection{éå†å­—å…¸}\label{ux904dux5386ux5b57ux5178}}

å‰é¢è®²è¿‡ï¼Œå­—å…¸æœ¬èº«ä¹Ÿæ˜¯åºåˆ—ç»“æ„ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥éå†å­—å…¸ã€‚

æˆ‘ä»¬å¯ä»¥ç”¨.keys()å’Œ.values()è·å¾—æ‰€æœ‰çš„keyå’Œlistï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥æŒ‰å¾ªç¯listçš„æ–¹æ³•æ¥åšã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  éå†key
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{d }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{: }\DecValTok{1}\NormalTok{, }\StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{: }\DecValTok{3}\NormalTok{, }\StringTok{\textquotesingle{}z\textquotesingle{}}\NormalTok{: }\DecValTok{5}\NormalTok{\}}
\ControlFlowTok{for}\NormalTok{ key }\KeywordTok{in}\NormalTok{ d: }
\CommentTok{\# æˆ–è€…ç”¨ for key in d.keys()}
    \BuiltInTok{print}\NormalTok{(key, d[key])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
x 1
y 3
z 5
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  éå†value
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{d }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{: }\DecValTok{1}\NormalTok{, }\StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{: }\DecValTok{3}\NormalTok{, }\StringTok{\textquotesingle{}z\textquotesingle{}}\NormalTok{: }\DecValTok{5}\NormalTok{\}}
\ControlFlowTok{for}\NormalTok{ value }\KeywordTok{in}\NormalTok{ d.values(): }
\CommentTok{\# æˆ–è€…ç”¨ for key in d.keys()}
    \BuiltInTok{print}\NormalTok{(value)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
1
3
5
\end{verbatim}

æˆ‘ä»¬ä¹Ÿä»‹ç»è¿‡dictå¯ä»¥çœ‹å‡ºä¸€ç³»åˆ—key-valueçš„å…ƒç»„ï¼Œå› æ­¤å¯ä»¥éå†itemsã€‚

å›é¡¾ï¼šd.items()å¯ä»¥è¿”å›
\texttt{{[}(key,value),(key,value),...{]}}çš„ç»“æ„ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ³¨æ„ï¼šè¿™é‡Œçš„key,valueï¼Œå…¶å®æ˜¯ä¸åŠ æ‹¬å·çš„å…ƒç»„(key,value)}
\CommentTok{\# ç­‰äºéå†æ¯ä¸€ä¸ª(key,value)å¯¹ï¼Œè¿›è¡ŒæŸäº›æ“ä½œ}
\ControlFlowTok{for}\NormalTok{ key, value }\KeywordTok{in}\NormalTok{ d.items():}
    \BuiltInTok{print}\NormalTok{(key,value)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
x 1
y 3
z 5
\end{verbatim}

\hypertarget{ux5b57ux5178ux63a8ux5bfcux5f0f}{%
\subsection{å­—å…¸æ¨å¯¼å¼}\label{ux5b57ux5178ux63a8ux5bfcux5f0f}}

å’Œåˆ—è¡¨æ¨å¯¼å¼ç±»ä¼¼ï¼Œå­—å…¸æ¨å¯¼å¼ä¹Ÿå¯ä»¥ä»ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆæ¯”å¦‚Listï¼ŒDictæˆ–è€…ä»»ä½•åˆ«çš„ï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªå­—å…¸ã€‚

å¤§æ¦‚çš„ç»“æ„å¦‚ä¸‹ï¼š

\texttt{\{key:value\ for\ i\ in\ a\_list\}}

æ¯”å¦‚ï¼Œä»\texttt{a\ =\ {[}\textquotesingle{}Alex\textquotesingle{},\textquotesingle{}Bob\textquotesingle{},\textquotesingle{}Clare\textquotesingle{}{]}}ç”Ÿæˆä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­keyæ˜¯å…ƒç´ ï¼ˆäººåï¼‰ï¼Œvalueæ˜¯äººåçš„å­—ç¬¦é•¿åº¦ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}Alex\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}Bob\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}Clare\textquotesingle{}}\NormalTok{]}
\NormalTok{len\_a }\OperatorTok{=}\NormalTok{ \{s:}\BuiltInTok{len}\NormalTok{(s) }\ControlFlowTok{for}\NormalTok{ s }\KeywordTok{in}\NormalTok{ a\}}
\BuiltInTok{print}\NormalTok{(len\_a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{'Alex': 4, 'Bob': 3, 'Clare': 5}
\end{verbatim}

æˆ–è€…ä»å­—å…¸ç”Ÿæˆä¸€ä¸ªæ–°å­—å…¸ï¼Œkeyä¸å˜ï¼Œvalue*2ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{d }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{: }\DecValTok{1}\NormalTok{, }\StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{: }\DecValTok{3}\NormalTok{, }\StringTok{\textquotesingle{}z\textquotesingle{}}\NormalTok{: }\DecValTok{5}\NormalTok{\}}
\NormalTok{e }\OperatorTok{=}\NormalTok{ \{key:value}\OperatorTok{*}\DecValTok{2} \ControlFlowTok{for}\NormalTok{ key,value }\KeywordTok{in}\NormalTok{ d.items()\}}
\BuiltInTok{print}\NormalTok{(e)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{'x': 2, 'y': 6, 'z': 10}
\end{verbatim}

\hypertarget{ux5b57ux5178ux5c0fux7ec3ux4e60}{%
\subsection{å­—å…¸å°ç»ƒä¹ }\label{ux5b57ux5178ux5c0fux7ec3ux4e60}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç»™å®šä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­é”®æ˜¯äººåï¼Œå€¼æ˜¯ä»–ä»¬çš„å¹´é¾„ï¼š
\end{enumerate}

\texttt{ages\ =\ \{\textquotesingle{}Alice\textquotesingle{}:\ 30,\ \textquotesingle{}Bob\textquotesingle{}:\ 25,\ \textquotesingle{}Charlie\textquotesingle{}:\ 40,\ \textquotesingle{}Diana\textquotesingle{}:\ 22\}}

è¯·ä½¿ç”¨å­—å…¸å¾ªç¯éå†ï¼Œæ‰“å°å‡ºæ‰€æœ‰å¹´é¾„å¤§äº30çš„äººåã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  ä½¿ç”¨å­—å…¸æ¨å¯¼å¼ï¼Œä»ä¸Šé¢ç»™å‡ºçš„ageså­—å…¸ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å­—å…¸ï¼Œå…¶ä¸­åªåŒ…æ‹¬å¹´é¾„å°äºæˆ–ç­‰äº30çš„äººã€‚
\end{enumerate}

\hypertarget{ux51fdux6570}{%
\chapter{å‡½æ•°}\label{ux51fdux6570}}

\begin{tcolorbox}[enhanced jigsaw, opacityback=0, left=2mm, coltitle=black, leftrule=.75mm, bottomtitle=1mm, arc=.35mm, opacitybacktitle=0.6, bottomrule=.15mm, breakable, colbacktitle=quarto-callout-note-color!10!white, toprule=.15mm, toptitle=1mm, colframe=quarto-callout-note-color-frame, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colback=white]

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  é€’å½’å’Œå‡½æ•°å¼ç¼–ç¨‹æ˜¯è¿›é˜¶å†…å®¹ï¼Œçœ‹è¿›åº¦ã€‚
\item
  åŒ¿åå‡½æ•°å¯ä»¥ä»‹ç»ã€‚
\end{enumerate}

\end{tcolorbox}

é¦–å…ˆï¼ŒPythonä¸­çš„å‡½æ•°åŸºæœ¬ä¸Šå¯ä»¥ç±»æ¯”æˆ‘ä»¬ç†Ÿæ‚‰çš„æ•°å­¦å‡½æ•°ï¼Œæ¯”å¦‚æ­£å¼¦å‡½æ•°ï¼š

\[
sin(\pi) = 0
\]

ä½†æ›´å¹¿æ³›åœ°ç†è§£ï¼Œå¯ä»¥è®¤ä¸ºï¼šæŠŠä»»ä½•ä¸œè¥¿ï¼ˆ``å‚æ•°''ï¼‰æ‰”ç»™å‡½æ•°ï¼Œå‡½æ•°è¿”å›æŸä¸ªç»“æœï¼ˆ``è¿”å›å€¼''ï¼‰ç»™ä½ ï¼š

ä¾‹å¦‚ï¼šæˆ‘ä»¬æŠŠ \(\pi\) æ‰”ç»™æ­£å¼¦å‡½æ•° \(sin\) ï¼Œä¼šå¾—åˆ° \(0\) ã€‚

ä¾‹å¦‚ï¼šæŠŠ\textbf{æ¦¨æ±æœº}çœ‹æˆä¸€ä¸ªå‡½æ•°ï¼Œé‚£æˆ‘ä»¬æŠŠè‹¹æœæ‰”è¿›æ¦¨æ±æœºï¼Œå°±èƒ½å¾—åˆ°è‹¹æœæ±ã€‚

å…¶ä¸­

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ¦¨æ±æœºï¼šå‡½æ•°
\item
  è‹¹æœï¼šå‚æ•°ï¼ˆä½ è¦ä¸¢ç»™å‡½æ•°çš„ä¸œè¥¿ï¼‰
\item
  è‹¹æœæ±ï¼šè¿”å›å€¼ï¼ˆå‡½æ•°ä¸¢ç»™ä½ çš„ä¸œè¥¿ï¼‰
\end{enumerate}

\begin{itemize}
\tightlist
\item
  ï¼ˆè¿›é˜¶æ¦‚å¿µï¼‰å‰¯ä½œç”¨ï¼šé™¤äº†è¿”å›å€¼ï¼Œå‡½æ•°è¿˜å½±å“äº†ä¸€äº›å…¶ä»–ä¸œè¥¿ã€‚ï¼ˆåé¢ä¼šæåˆ°ï¼‰
\end{itemize}

å†™æˆä»£ç ï¼Œå¤§æ¦‚æ˜¯ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{è‹¹æœæ± }\OperatorTok{=}\NormalTok{ æ¦¨æ±æœº(è‹¹æœ)}
\end{Highlighting}
\end{Shaded}

ç°å®çš„ä¾‹å­ï¼Œæˆ‘ä»¬é¢å‰å·²ç»ç”¨è¿‡çš„ï¼Œæ¯”å¦‚æ±‚Listçš„é•¿åº¦ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\NormalTok{a\_size }\OperatorTok{=} \BuiltInTok{len}\NormalTok{(a)}
\BuiltInTok{print}\NormalTok{(a\_size)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
5
\end{verbatim}

çœ‹\texttt{a\_size\ =\ len(a)}è¿™ä¸ªä»£ç 

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{len()} ï¼šå‡½æ•°å
\item
  \texttt{len(a)} ï¼šå…¶ä¸­\texttt{a}æ˜¯å‚æ•°ï¼Œå³``ä½ æä¾›ç»™è¿™ä¸ªå‡½æ•°çš„ä¸œè¥¿''
\item
  \texttt{a\_size\ =\ len(a)}ï¼šä¼šè¿”å›\texttt{a}çš„é•¿åº¦ï¼ˆå…ƒç´ çš„æ•°é‡ï¼‰ï¼Œä½ æŠŠè¿™ä¸ªç»“æœæ”¾åœ¨å˜é‡\texttt{a\_size}ä¹‹ä¸­
\end{enumerate}

\hypertarget{ux5b9aux4e49ux4e00ux4e2aux51fdux6570}{%
\section{å®šä¹‰ä¸€ä¸ªå‡½æ•°}\label{ux5b9aux4e49ux4e00ux4e2aux51fdux6570}}

åœ¨pythonä¸­

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å®šä¹‰ä¸€ä¸ªå‡½æ•°çš„å…³é”®å­—æ˜¯\texttt{def}ï¼Œ
\item
  \texttt{def}åï¼Œæ˜¯å‡½æ•°åï¼Œå°æ‹¬å·å†…æ˜¯å‚æ•°ï¼ˆè¿™ä¸ªå‡½æ•°è¦æ¥æ”¶çš„ä¸œè¥¿ï¼‰ï¼Œæœ€åæ˜¯å†’å·
\item
  å‡½æ•°ä½“ï¼Œè¦æœ‰``1ä¸ªç¼©è¿›''
\item
  è¿”å›å…³é”®è¯æ˜¯\texttt{return}ã€‚å¦‚æœå‡½æ•°æ‰§è¡Œå®Œéƒ½æ²¡æœ‰é‡åˆ°\texttt{return}ï¼Œåˆ™è¿”å›\texttt{none}
\end{enumerate}

\includegraphics{index_files/mediabag/py-tup-10-26-1.png}

\begin{itemize}
\tightlist
\item
  æ³¨æ„ï¼šè¿™ä¸ªæˆªå›¾ä¸­çš„ä»£ç æœ‰ä¸€ä¸ªé”™è¯¯ã€‚
\end{itemize}

\hypertarget{ux4f8bux52a0ux6cd5ux51fdux6570}{%
\subsection{ä¾‹ï¼šåŠ æ³•å‡½æ•°}\label{ux4f8bux52a0ux6cd5ux51fdux6570}}

ä¸¾ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬è¦å†™ä¸€ä¸ªåŠ æ³•å‡½æ•°ï¼Œå…¶ä½œç”¨å°±æ˜¯æŠŠ2ä¸ªå˜é‡ç›¸åŠ ã€‚æˆ–è€…è¯´ï¼Œä½ ç»™è¿™ä¸ªå‡½æ•°``ä¼ é€’2ä¸ªå‚æ•°''ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä»–ä»¬çš„å’Œã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% å®šä¹‰ä¸€ä¸ªåŠ æ³•å‡½æ•°}
\KeywordTok{def}\NormalTok{ add(x, y):}
\NormalTok{    z }\OperatorTok{=}\NormalTok{ x }\OperatorTok{+}\NormalTok{ y}
    \ControlFlowTok{return}\NormalTok{ z}
\end{Highlighting}
\end{Shaded}

é€è¡Œè§£é‡Šä¸€ä¸‹

ç¬¬ä¸€è¡Œï¼š \texttt{def\ add(x,\ y):}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”±\texttt{def}å¼€å¤´
\item
  æ¥ç€æ˜¯ä½ ç»™è¿™ä¸ªå‡½æ•°èµ·çš„åå­—\texttt{add}
\item
  åå­—åé¢æ˜¯å°æ‹¬å·ï¼Œé‡Œé¢åŒ…å«äº†è¿™ä¸ªå‡½æ•°çš„``å‚æ•°''ã€‚è¿™é‡Œæ˜¯2ä¸ªå‚æ•°ï¼Œå‘½åä¸º\texttt{x}å’Œ\texttt{y}ã€‚æ˜¾ç„¶ï¼Œè¿™å°±æ˜¯ä½ è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œè¦ç»™å‡½æ•°çš„ä¸œè¥¿ã€‚
\item
  å’Œ\texttt{if}ã€\texttt{for}è¯­è¨€ç­‰ä¸€æ ·ï¼Œæœ€åæ˜¯å†’å·ï¼Œä¸è¦å¿˜è®°ã€‚
\end{enumerate}

\textbf{æ³¨æ„}ï¼šå…³äºå‚æ•°ï¼Œ2ä¸ªå‚æ•°çš„åå­—ä½ å¯ä»¥è‡ªå·±å®šä¹‰ï¼Œä¸ä¸€å®šæ˜¯\texttt{x}å’Œ\texttt{y}ã€‚è¿™2ä¸ªå‚æ•°çš„åå­—ï¼Œå¦‚åŒä¸€åˆ‡å˜é‡åä¸€æ ·ï¼Œæœ€ç»ˆä¼š''æŒ‡å‘''2ä¸ªå€¼ï¼Œæ‰€ä»¥ä½ åœ¨å‡½æ•°çš„å†…éƒ¨ï¼Œå°±å¯ä»¥ç”¨è¿™2ä¸ªåå­—ï¼Œæ¥å¼•ç”¨è¿™2ä¸ªå€¼

ç¬¬äºŒè¡Œï¼š\texttt{z\ =\ x\ +\ y}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ³¨æ„ï¼Œå‰é¢æœ‰``1ä¸ª''ç¼©è¿›(Tab)ï¼ŒæŒ‡ç¤ºè¿™ä¸ªè¯­å¥æ¯”å‡½æ•°æœ¬èº«ä½ä¸€çº§
\item
  \texttt{z\ =\ x\ +\ y}ï¼Œä¸€ç›®äº†ç„¶ã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œå‡½æ•°ä½“å†…çš„2ä¸ªå‚æ•°ï¼Œåœ¨å‡½æ•°ä½“å†…éƒ¨å·²ç»æœ‰æ‰€æŒ‡ä»£ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°xå’Œyä¸å­˜åœ¨ä¹‹ç±»çš„é”™è¯¯ã€‚
\end{enumerate}

ç¬¬ä¸‰è¡Œï¼š\texttt{return\ z}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å‰é¢è¿˜æ˜¯``1ä¸ª''ç¼©è¿›ï¼Œè¿™æ˜¯å’Œ\texttt{z\ =\ x\ +\ y}åŒä¸€ä¸ªå±‚çº§çš„ä»£ç ã€‚
\item
  è¿”å›ä½¿ç”¨\texttt{return}è¯­å¥ã€‚è¿™é‡ŒæŠŠå’Œ\texttt{z}ï¼Œè¿”å›ç»™ä¸Šä¸€å±‚ã€‚
\end{enumerate}

å®šä¹‰å¥½ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åƒä½¿ç”¨ä»»ä½•å‡½æ•°ä¸€æ ·è°ƒç”¨å®ƒ

æˆ‘ä»¬æ¥ä¸€ä¸ªå¾ˆç†Ÿæ‚‰çš„ä»£ç ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{1}
\NormalTok{b }\OperatorTok{=} \DecValTok{2}
\NormalTok{c }\OperatorTok{=}\NormalTok{ add(a, b) }
\BuiltInTok{print}\NormalTok{(c)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
3
\end{verbatim}

\hypertarget{ux4f8bux6c42ux4e24ux4e2aux6570ux7684ux6700ux5927ux503c}{%
\subsection{ä¾‹ï¼šæ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å€¼}\label{ux4f8bux6c42ux4e24ux4e2aux6570ux7684ux6700ux5927ux503c}}

æ€è·¯ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¦‚æœa \textgreater{} bï¼Œåˆ™è¿”å›aã€‚
\item
  å¦åˆ™è¿”å›bã€‚ï¼ˆæ­¤æ—¶a \textless= bï¼Œæ˜¾ç„¶ä¸¤è€…ç›¸ç­‰æ—¶ï¼Œè¿”å›bä¹Ÿæ²¡é”™ï¼‰
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè¿”å›å…¶æœ€å¤§å€¼}
\KeywordTok{def}\NormalTok{ my\_max(a, b):}
    \ControlFlowTok{if}\NormalTok{ a }\OperatorTok{\textgreater{}}\NormalTok{ b:}
        \ControlFlowTok{return}\NormalTok{ a  }\CommentTok{\# è¿”å›a}
    \ControlFlowTok{else}\NormalTok{:}
        \ControlFlowTok{return}\NormalTok{ b  }\CommentTok{\# è¿”å›b  }
        
\BuiltInTok{print}\NormalTok{(my\_max(}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
5
\end{verbatim}

\hypertarget{ux4f8bux8ba1ux7b97ux5706ux7684ux9762ux79ef}{%
\subsection{ä¾‹ï¼šè®¡ç®—åœ†çš„é¢ç§¯}\label{ux4f8bux8ba1ux7b97ux5706ux7684ux9762ux79ef}}

å¦ä¸€ä¸ªä¾‹å­ï¼Œå·²çŸ¥ï¼šåœ†çš„åŠå¾„æ˜¯\(r\)ï¼Œæˆ‘ä»¬è¦è®¡ç®—åœ†çš„é¢ç§¯ï¼Œå…¬å¼å°±æ˜¯\(y = \pi r^2\)ã€‚

æˆ‘ä»¬å‡†å¤‡å†™ä¸€ä¸ªå‡½æ•°æ¥åšè¿™ä»¶äº‹ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¿™ä¸ªå‡½æ•°ä¼šæ ¹æ®æˆ‘ä»¬æä¾›çš„åŠå¾„\(r\)ï¼Œè¿”å›ä¸€ä¸ªåœ†çš„é¢ç§¯ç»™æˆ‘ä»¬ã€‚
\item
  æ˜¾ç„¶ï¼Œè¿™ä¸ªå‡½æ•°å¿…ç„¶æ˜¯æ¥å—\texttt{r}ä½œä¸ºå‚æ•°
\item
  æˆ‘ä»¬åšçš„ï¼Œæ˜¯ç®—å‡ºé¢ç§¯ï¼Œç„¶åè¿”å›ä¸€ä¸‹
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calc\_area(r): }
\NormalTok{    area }\OperatorTok{=} \FloatTok{3.14159} \OperatorTok{*}\NormalTok{ (r }\OperatorTok{**} \DecValTok{2}\NormalTok{) }
    \ControlFlowTok{return}\NormalTok{ area}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=} \DecValTok{5} 
\NormalTok{area }\OperatorTok{=}\NormalTok{ calc\_area(x)}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"åŠå¾„ä¸º}\SpecialCharTok{\{}\NormalTok{x}\SpecialCharTok{\}}\SpecialStringTok{çš„åœ†ï¼Œå…¶é¢ç§¯ä¸º}\SpecialCharTok{\{}\NormalTok{area}\SpecialCharTok{:0.2f\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
åŠå¾„ä¸º5çš„åœ†ï¼Œå…¶é¢ç§¯ä¸º78.54
\end{verbatim}

\hypertarget{ux4e0dux8fd4ux56deux503c}{%
\subsection{ä¸è¿”å›å€¼}\label{ux4e0dux8fd4ux56deux503c}}

è‹¥å‡½æ•°ä¸éœ€è¦è¿”å›ä»»ä½•å€¼ï¼Œä¸å†™\texttt{return}è¯­å¥ï¼Œæˆ–è€…\texttt{return}è¯­å¥åä¸è¿”å›ä»»ä½•å€¼

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#\%\% è¿™2ç§éƒ½æ˜¯å¯ä»¥çš„}
\KeywordTok{def}\NormalTok{ hello():}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"hello"}\NormalTok{) }\CommentTok{\# ä¸å†™return}
    
\KeywordTok{def}\NormalTok{ hello2():}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"hello"}\NormalTok{)}
    \ControlFlowTok{return} \CommentTok{\# å†™returnä½†ä¸åŒ…æ‹¬è¿”å›å€¼}

\NormalTok{hello()}
\NormalTok{hello2()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
hello
hello
\end{verbatim}

\hypertarget{ux4ec0ux4e48ux4e5fux4e0dux505aux7684ux51fdux6570}{%
\subsection{ä»€ä¹ˆä¹Ÿä¸åšçš„å‡½æ•°}\label{ux4ec0ux4e48ux4e5fux4e0dux505aux7684ux51fdux6570}}

æœ‰æ—¶å€™éœ€è¦å…ˆå ç”¨å‡½æ•°åï¼Œä½†æ˜¯å‡½æ•°çš„å†…å®¹æƒ³ä»¥åå†å†™ï¼Œæ­¤æ—¶å¯ä»¥å†™ä¸€ä¸ªç©ºå‡½æ•°ã€‚å‡½æ•°ä½“å†…åªéœ€è¦ä½¿ç”¨\texttt{pass}è¯­å¥ã€‚

ç‰¹åˆ«åœ°ï¼Œæ²¡æœ‰\texttt{return}è¯­å¥ï¼ˆä¾‹å¦‚ç°åœ¨è¿™ç§æƒ…å†µï¼‰ï¼Œæˆ–è€…\texttt{return}è¯­å¥ä¸è¿”å›å€¼çš„æ—¶å€™ï¼Œå‡½æ•°ä¼šè¿”å›ä¸€ä¸ª\texttt{none}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ do\_noting():}
    \ControlFlowTok{pass}

\BuiltInTok{print}\NormalTok{(do\_noting())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
None
\end{verbatim}

\hypertarget{ux5c0fux7ec3ux4e60-2}{%
\subsection{å°ç»ƒä¹ }\label{ux5c0fux7ec3ux4e60-2}}

ç»“åˆå‰é¢çš„å­¦ä¹ å†…å®¹ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  å®ç°ä¸€ä¸ªå‡½æ•°\texttt{my\_count()}ï¼Œè®¡ç®—å¹¶è¿”å›ä¸€ä¸ªåˆ—è¡¨çš„å…ƒç´ æ•°é‡ï¼Œä½†ä¸è¦ä½¿ç”¨\texttt{len()}å‡½æ•°ã€‚åº”è¯¥å¯ä»¥å¾—åˆ°ï¼š\texttt{my\_count({[}2,3,4,5{]})\ ==\ 4}
\item
  å®ç°ä¸€ä¸ªå‡½æ•°\texttt{my\_max\_len()}ï¼Œæ‰¾åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ä¸­æœ€é•¿çš„å­—ç¬¦ä¸²ï¼Œä½†ä¸è¦ä½¿ç”¨\texttt{max()}å‡½æ•°ã€‚åº”è¯¥å¯ä»¥å¾—åˆ°\texttt{my\_max\_len({[}\textquotesingle{}a\textquotesingle{},\textquotesingle{}bb\textquotesingle{},\textquotesingle{}ccc\textquotesingle{}{]})\ ==\ \textquotesingle{}ccc\textquotesingle{}}ã€‚
\end{enumerate}

\hypertarget{ux53c2ux6570}{%
\section{å‚æ•°}\label{ux53c2ux6570}}

\hypertarget{ux4f7fux7528ux53c2ux6570ux540d}{%
\subsection{ä½¿ç”¨å‚æ•°å}\label{ux4f7fux7528ux53c2ux6570ux540d}}

æŠŠå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œå¯ä»¥æŒ‰å‚æ•°çš„é¡ºåºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‚æ•°çš„åç§°

\hypertarget{ux4f8bux4f7fux7528ux53c2ux6570ux540dux79f0ux4f20ux9012ux53c2ux6570}{%
\subsection{ä¾‹ï¼šä½¿ç”¨å‚æ•°åç§°ä¼ é€’å‚æ•°}\label{ux4f8bux4f7fux7528ux53c2ux6570ux540dux79f0ux4f20ux9012ux53c2ux6570}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ print\_info(name, age):}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"å§“å: "}\NormalTok{, name)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"å¹´é¾„: "}\NormalTok{, age)}

\NormalTok{print\_info(}\StringTok{\textquotesingle{}Alex\textquotesingle{}}\NormalTok{,}\DecValTok{20}\NormalTok{) }\CommentTok{\# æŒ‰å‚æ•°é¡ºåºï¼šå§“åï¼Œå¹´é¾„}
\BuiltInTok{print}\NormalTok{ (}\StringTok{"{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}"}\NormalTok{)}
\NormalTok{print\_info(age }\OperatorTok{=} \DecValTok{21}\NormalTok{, name }\OperatorTok{=} \StringTok{"Bob"}\NormalTok{) }\CommentTok{\# æŒ‰å‚æ•°åï¼Œæ­¤æ—¶ä¸ç”¨è€ƒè™‘å‚æ•°çš„é¡ºåº}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å§“å:  Alex
å¹´é¾„:  20
------------------------
å§“å:  Bob
å¹´é¾„:  21
\end{verbatim}

\hypertarget{ux9ed8ux8ba4ux53c2ux6570}{%
\subsection{é»˜è®¤å‚æ•°}\label{ux9ed8ux8ba4ux53c2ux6570}}

å®šä¹‰å‡½æ•°çš„æ—¶å€™ï¼Œå¯ä»¥ç»™æŸäº›å‚æ•°å®šä¹‰ä¸€ä¸ªé»˜è®¤å€¼ã€‚

\textbf{é»˜è®¤å‚æ•°å¿…é¡»å®šä¹‰åœ¨æœ€åã€‚}

\hypertarget{ux4f8bux4e58ux65b9ux51fdux6570nux6b21ux65b9}{%
\subsection{ä¾‹ï¼šä¹˜æ–¹å‡½æ•°ï¼ˆnæ¬¡æ–¹ï¼‰}\label{ux4f8bux4e58ux65b9ux51fdux6570nux6b21ux65b9}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ power(x, n}\OperatorTok{=}\DecValTok{2}\NormalTok{):  }\CommentTok{\# næœ‰é»˜è®¤å€¼}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{**}\NormalTok{ n}

\BuiltInTok{print}\NormalTok{(power(}\DecValTok{5}\NormalTok{))  }\CommentTok{\# è°ƒç”¨å‡½æ•°ä¸ä¼ é€’nçš„å€¼ï¼Œä½¿ç”¨é»˜è®¤å€¼ï¼Œç»“æœä¸º25}
\BuiltInTok{print}\NormalTok{(power(}\DecValTok{3}\NormalTok{, }\DecValTok{3}\NormalTok{))  }\CommentTok{\# è°ƒç”¨å‡½æ•°ä¼ é€’nçš„å€¼ï¼Œä½¿ç”¨ä¼ é€’å€¼ï¼Œç»“æœä¸º27}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
25
27
\end{verbatim}

\hypertarget{ux6253ux5305packingux5904ux7406ux4e0dux5b9aux6570ux91cfux7684ux53c2ux6570}{%
\subsection{æ‰“åŒ…ï¼ˆpackingï¼‰ï¼šå¤„ç†ä¸å®šæ•°é‡çš„å‚æ•°}\label{ux6253ux5305packingux5904ux7406ux4e0dux5b9aux6570ux91cfux7684ux53c2ux6570}}

å‡½æ•°å¯ä»¥æ¥å—\textbf{ä»»æ„å¤šä¸ªå‚æ•°}ï¼Œä¾‹å¦‚æ±‚æœ€å¤§å€¼çš„å‡½æ•°\texttt{max()}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{max}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{2}\NormalTok{)) }
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{max}\NormalTok{(}\DecValTok{4}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
6
5
\end{verbatim}

ä½ è¦å†™ä¸€ä¸ªè¿™æ ·çš„å‡½æ•°ï¼Œé‚£ä¹ˆå¯åˆ›å»ºä¸€ä¸ªæ–°çš„å‚æ•°ï¼Œå‰é¢å¸¦ä¸€ä¸ª\texttt{*}å·ã€‚é‚£ä¹ˆä¸åœ¨å‚æ•°åˆ—è¡¨é‡Œçš„å‚æ•°ï¼Œä¼šç»„æˆä¸€ä¸ªtupleï¼Œå¹¶ä¸”ç»‘å®šå¸¦è¿™ä¸ªå¸¦\texttt{*}å·çš„å˜é‡åã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯class\_idï¼Œä»ç¬¬äºŒä¸ªå‚æ•°èµ·ï¼Œä¸å®šæ•°é‡ä¸ªå‚æ•°ï¼Œéƒ½ä¼šç»„æˆä¸€ä¸ªtupleï¼Œå¹¶å‘½åä¸º\textasciigrave{}students\textasciigrave{}(æ²¡æœ‰*)}
\KeywordTok{def}\NormalTok{ print\_students(class\_id, }\OperatorTok{*}\NormalTok{students): }
    \CommentTok{\textquotesingle{}æ‰“å°ç­çº§å·ï¼Œå’ŒåŒå­¦çš„å§“å\textquotesingle{}}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"ç­çº§:"}\NormalTok{,class\_id)}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"å­¦ç”ŸåŒ…æ‹¬:"}\NormalTok{, students) }
    
    \CommentTok{\# ä¹Ÿå¯ä»¥é€ä¸€æ‰“å°}
    \BuiltInTok{print}\NormalTok{(}\StringTok{"å­¦ç”ŸåŒ…æ‹¬ï¼š"}\NormalTok{)}
    \ControlFlowTok{for}\NormalTok{ s }\KeywordTok{in}\NormalTok{ students: }
        \BuiltInTok{print}\NormalTok{ (s)}

\NormalTok{print\_students(}\DecValTok{5}\NormalTok{ ,}\StringTok{"Alex"}\NormalTok{,}\StringTok{"Bob"}\NormalTok{,}\StringTok{"clare"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
ç­çº§: 5
å­¦ç”ŸåŒ…æ‹¬: ('Alex', 'Bob', 'clare')
å­¦ç”ŸåŒ…æ‹¬ï¼š
Alex
Bob
clare
\end{verbatim}

å®é™…ä¸Šï¼Œå¦‚æœä½ æœ‰å¯å˜å‚æ•°çš„å‡½æ•°ï¼Œå¦‚\texttt{print\_students}ï¼Œä½†æ˜¯ä½ æ‹¿åˆ°çš„æ•°æ®æ˜¯ä¸€ä¸ªListï¼Œæ€ä¹ˆåŠï¼Ÿ

åœŸåŠæ³•ï¼ŒæŠŠåˆ—è¡¨å…ƒç´ ä¸€ä¸ªä¸ªæ‹¿å‡ºæ¥ï¼Œä¼ ç»™å‡½æ•°

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{students\_list  }\OperatorTok{=}\NormalTok{ [}\StringTok{"Alex"}\NormalTok{,}\StringTok{"Bob"}\NormalTok{,}\StringTok{"clare"}\NormalTok{] }\CommentTok{\# è¿™å·²ç»æ˜¯ä¸€ä¸ªlist}

\NormalTok{print\_students(}\DecValTok{5}\NormalTok{, students\_list[}\DecValTok{0}\NormalTok{],students\_list[}\DecValTok{1}\NormalTok{],students\_list[}\DecValTok{2}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
ç­çº§: 5
å­¦ç”ŸåŒ…æ‹¬: ('Alex', 'Bob', 'clare')
å­¦ç”ŸåŒ…æ‹¬ï¼š
Alex
Bob
clare
\end{verbatim}

å½“ç„¶ï¼Œä¹Ÿç®€å•çš„åŠæ³•ï¼Œå˜é‡åœ¨ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œå‰é¢åŠ ä¸ª*ï¼Œpythonä¼šè‡ªåŠ¨å¸®ä½ æ‹†å¼€

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{students\_list  }\OperatorTok{=}\NormalTok{ [}\StringTok{"Alex"}\NormalTok{,}\StringTok{"Bob"}\NormalTok{,}\StringTok{"Clare"}\NormalTok{] }\CommentTok{\# è¿™å·²ç»æ˜¯ä¸€ä¸ªlist}

\NormalTok{print\_students(}\DecValTok{5}\NormalTok{, }\OperatorTok{*}\NormalTok{students\_list) }\CommentTok{\# è‡ªåŠ¨æŠŠstudents\_listè¿™ä¸ªListï¼Œæ‹†æˆå¤šä¸ªå…ƒç´ }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
ç­çº§: 5
å­¦ç”ŸåŒ…æ‹¬: ('Alex', 'Bob', 'Clare')
å­¦ç”ŸåŒ…æ‹¬ï¼š
Alex
Bob
Clare
\end{verbatim}

\hypertarget{ux5c0fux7ec3ux4e60-3}{%
\subsection{å°ç»ƒä¹ }\label{ux5c0fux7ec3ux4e60-3}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  åˆ©ç”¨ä¸å®šæ•°é‡å‚æ•°ï¼Œå†™ä¸€ä¸ªå‡½æ•°\texttt{my\_sum()}ï¼Œå¯ä»¥æ±‚ä»»æ„ä¸ªå˜é‡çš„å’Œã€‚æ•ˆæœåº”è¯¥å¦‚ä¸‹ï¼š
\end{enumerate}

\begin{verbatim}
my_sum(1,2,3,4) == 10
my_sum(3,4,5) == 12
\end{verbatim}

\hypertarget{ux62c6ux5305unpackingux628aux6570ux636eux7ed3ux6784ux62c6ux6563ux4f20ux7ed9ux53c2ux6570}{%
\subsection{æ‹†åŒ…ï¼ˆunpackingï¼‰ï¼šæŠŠæ•°æ®ç»“æ„æ‹†æ•£ä¼ ç»™å‚æ•°}\label{ux62c6ux5305unpackingux628aux6570ux636eux7ed3ux6784ux62c6ux6563ux4f20ux7ed9ux53c2ux6570}}

ä½ å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå‚æ•°éƒ½æœ‰æ˜ç¡®çš„å«ä¹‰ï¼Œè€Œå‡½æ•°çš„å‚æ•°ä¿å­˜åœ¨ä¸€ä¸ªListã€Tupleé‡Œï¼ˆæ¯”å¦‚ç¬¬ä¸€ä¸ªå…ƒç´ å¯¹åº”ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå…ƒç´ å¯¹åº”ç¬¬äºŒä¸ªå‚æ•°ç­‰ç­‰ï¼‰æˆ–è€…Dicté‡Œï¼ˆkeyå°±å¯¹åº”å‚æ•°åï¼‰ï¼ŒæŠŠè¿™äº›æ•°æ®ç»“æ„ä¸­çš„å…ƒç´ ï¼Œå½“å‚æ•°ä¼ ç»™å‡½æ•°ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  tupleæˆ–è€…listå‰é¢åŠ \texttt{*}
\item
  dictå‰åŠ \texttt{**}
\end{enumerate}

ç§°ä¹‹ä¸ºæ‹†åŒ…ï¼ˆunpakcingï¼‰

ä¾‹ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ add(x, y): }
    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}xæ˜¯}\SpecialCharTok{\{}\NormalTok{x}\SpecialCharTok{\}}\SpecialStringTok{ï¼Œyæ˜¯}\SpecialCharTok{\{}\NormalTok{y}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{+}\NormalTok{ y}
    
\CommentTok{\# åœŸåŠæ³•}
\NormalTok{params }\OperatorTok{=} \BuiltInTok{dict}\NormalTok{(x}\OperatorTok{=}\DecValTok{1}\NormalTok{,y}\OperatorTok{=}\DecValTok{2}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(add(params[}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{],params[}\StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{]))}


\CommentTok{\# æ‹†åŒ…  }
\NormalTok{params }\OperatorTok{=} \BuiltInTok{dict}\NormalTok{(y}\OperatorTok{=}\DecValTok{2}\NormalTok{,x}\OperatorTok{=}\DecValTok{1}\NormalTok{) }\CommentTok{\# æ³¨ï¼šå‚æ•°åä¸€ä¸€å¯¹åº”ï¼Œè€Œéé¡ºåºã€‚}
\BuiltInTok{print}\NormalTok{(add(}\OperatorTok{**}\NormalTok{params))}

\CommentTok{\# }
\NormalTok{params }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{] }\CommentTok{\# ç¬¬ä¸€ä¸ªå…ƒç´ å¯¹åº”ç¬¬ä¸€ä¸ªå‚æ•°}
\BuiltInTok{print}\NormalTok{(add(}\OperatorTok{*}\NormalTok{params))}

\NormalTok{params }\OperatorTok{=}\NormalTok{ (}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{) }\CommentTok{\# ç¬¬ä¸€ä¸ªå…ƒç´ å¯¹åº”ç¬¬ä¸€ä¸ªå‚æ•°}
\BuiltInTok{print}\NormalTok{(add(}\OperatorTok{*}\NormalTok{params))}

\CommentTok{\# å½“ç„¶ï¼Œè¿™æ ·ä¹Ÿæ˜¯ä¸€æ ·çš„}
\BuiltInTok{print}\NormalTok{(add(}\OperatorTok{*}\NormalTok{[}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
xæ˜¯1ï¼Œyæ˜¯2
3
xæ˜¯1ï¼Œyæ˜¯2
3
xæ˜¯1ï¼Œyæ˜¯2
3
xæ˜¯2ï¼Œyæ˜¯1
3
xæ˜¯1ï¼Œyæ˜¯2
3
\end{verbatim}

\begin{itemize}
\tightlist
\item
  æ³¨æ„å’Œä¸Šä¸€èŠ‚çš„ä¸åŒï¼šå®šä¹‰å‡½æ•°çš„æ—¶å€™å‚æ•°åæ˜¯å¦å¸¦æœ‰æ˜Ÿå·ï¼Ÿ
\end{itemize}

\hypertarget{ux53c2ux6570ux4f5cux4e3aux53efux53d8ux7c7bux578bux548cux4e0dux53efux53d8ux7c7bux578b}{%
\section{å‚æ•°ä½œä¸ºå¯å˜ç±»å‹å’Œä¸å¯å˜ç±»å‹}\label{ux53c2ux6570ux4f5cux4e3aux53efux53d8ux7c7bux578bux548cux4e0dux53efux53d8ux7c7bux578b}}

å‰é¢æåˆ°ï¼Œå¤šä¸ªå˜é‡åæŒ‡å‘åŒä¸€ä¸ªå¯å˜å¯¹è±¡ï¼ˆä¾‹å¦‚Listï¼ŒDictï¼‰ï¼Œé’ˆå¯¹å…¶ä¸­ä¸€ä¸ªå˜é‡çš„ä¿®æ”¹ï¼Œä¼šå¼•èµ·æ‰€æœ‰æŒ‡å‘åŒä¸€ä¸ªæ•°æ®çš„å˜é‡éƒ½å‘ç”Ÿæ”¹å˜ã€‚

æŠŠListç­‰ï¼Œä½œä¸ºå‚æ•°ä¼ é€’ä¸ªä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿæœ‰ç±»ä¼¼çš„åæœã€‚

ä¸‹ä¾‹ä¸­ï¼Œ

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æŠŠa\_listä½œä¸ºå‚æ•°xï¼Œè½¬é€’ç»™å‡½æ•°\texttt{do\_change(x)}ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°å†…éƒ¨ï¼Œå˜é‡xå’Œå¤–éƒ¨a\_listæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªæ•°æ®ï¼Œæˆ–è€…è¯´ï¼Œxæˆäº†a\_listçš„åˆ«åã€‚
\item
  æŠŠxä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ï¼Œè¿”å›åˆ°å¤–å±‚ï¼Œå¹¶èµ‹äºˆb\_listï¼Œé‚£ä¹ˆb\_list, x,
  a\_listï¼Œä¸‰ä¸ªåå­—ï¼Œå®é™…ä¸Šéƒ½æŒ‡å‘äº†å†…å­˜ä¸­çš„åŒä¸€å—æ•°æ®ã€‚
\item
  å½“ç„¶ï¼Œxåªåœ¨å‡½æ•°ä½“å†…å¯è§ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a\_list }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}apple\textquotesingle{}}\NormalTok{) }\CommentTok{\# a\_list {-}\textgreater{} [\textquotesingle{}a\textquotesingle{}, \textquotesingle{}p\textquotesingle{}, \textquotesingle{}p\textquotesingle{}, \textquotesingle{}l\textquotesingle{}, \textquotesingle{}e\textquotesingle{}]}

\KeywordTok{def}\NormalTok{ do\_change(x):}
\NormalTok{    x[}\DecValTok{0}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}B\textquotesingle{}}
    \ControlFlowTok{return}\NormalTok{ x}

\NormalTok{b\_list }\OperatorTok{=}\NormalTok{ do\_change(a\_list) }\CommentTok{\# æŠŠa\_listä½œä¸ºå‚æ•°ï¼Œåˆ™å‡½æ•°çš„å‚æ•° x {-}\textgreater{} a\_list }

\BuiltInTok{print}\NormalTok{(b\_list)}
\BuiltInTok{print}\NormalTok{(a\_list)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['B', 'p', 'p', 'l', 'e']
['B', 'p', 'p', 'l', 'e']
\end{verbatim}

åŒæ„ï¼Œå¦‚æœä½ çš„è®¾è®¡æ„å›¾å¹¶é``åŸåœ°ä¿®æ”¹''ï¼ŒåŸå˜é‡å¿…é¡»ä¿æŒä¸å˜ï¼Œåˆ™å¯ä»¥æŠŠxæ‹·è´ä¸€ä»½ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a\_list }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}apple\textquotesingle{}}\NormalTok{) }\CommentTok{\# a\_list {-}\textgreater{} [\textquotesingle{}a\textquotesingle{}, \textquotesingle{}p\textquotesingle{}, \textquotesingle{}p\textquotesingle{}, \textquotesingle{}l\textquotesingle{}, \textquotesingle{}e\textquotesingle{}]}

\KeywordTok{def}\NormalTok{ do\_change(x):}
\NormalTok{    y }\OperatorTok{=}\NormalTok{ x.copy() }\CommentTok{\# æŠŠxæ‹·è´ä¸€ä»½ï¼Œå¯¹yè¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆxå°±ä¿æŒä¸å˜äº†}
\NormalTok{    y[}\DecValTok{0}\NormalTok{] }\OperatorTok{=} \StringTok{\textquotesingle{}B\textquotesingle{}}
    \ControlFlowTok{return}\NormalTok{ y}

\NormalTok{b\_list }\OperatorTok{=}\NormalTok{ do\_change(a\_list) }\CommentTok{\# æŠŠa\_listä½œä¸ºå‚æ•°ï¼Œåˆ™å‡½æ•°çš„å‚æ•° x {-}\textgreater{} a\_list }

\BuiltInTok{print}\NormalTok{(b\_list)}
\BuiltInTok{print}\NormalTok{(a\_list)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['B', 'p', 'p', 'l', 'e']
['a', 'p', 'p', 'l', 'e']
\end{verbatim}

è‹¥ä¼ é€’çš„å‚æ•°æ˜¯ä¸å¯å˜ç±»å‹ï¼Œå¦‚intï¼Œstrç­‰ï¼Œåˆ™å¯¹å‚æ•°çš„ä¿®æ”¹ä¼šè‡ªåŠ¨å¼•å‘æ‹·è´ï¼Œæ²¡æœ‰ä¸Šè¿°é—®é¢˜ã€‚å‰é¢å·²ç»è¯´è¿‡äº†ã€‚

\hypertarget{ux5728ux63a8ux5bfcux5f0fux4e2dux4f7fux7528ux51fdux6570}{%
\section{åœ¨æ¨å¯¼å¼ä¸­ä½¿ç”¨å‡½æ•°}\label{ux5728ux63a8ux5bfcux5f0fux4e2dux4f7fux7528ux51fdux6570}}

å›å¿†åˆ—è¡¨æ¨å¯¼å¼çš„ä¸€èˆ¬å½¢å¼ï¼šé€‰å‡ºç¬¦åˆæ¡ä»¶coditionçš„iï¼Œç„¶åå¯¹iè¿›è¡ŒæŸä¸ªæ“ä½œdo\_something(i)ï¼Œæœ€åæŠŠç»“æœé›†åˆæˆä¸€ä¸ªåˆ—è¡¨

\texttt{{[}do\_something(i)\ for\ i\ in\ a\_list\ if\ condition(i){]}}

å…¶ä¸­æˆ‘ä»¬è¦å¯¹iè¿›è¡Œçš„æ“ä½œï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚

æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦æŠŠä¸€ä¸ªåˆ—è¡¨ä¸­çš„å€¼è¿›è¡Œä¸€ä¸ªå¾ˆå¤æ‚çš„è¿è¡Œï¼Œå¯ä»¥é¦–å…ˆæŠŠè¿™ä¸ªè¿ç®—å†™æˆä¸€ä¸ªå‡½æ•°ã€‚è¿™é‡Œä»¥ä¹˜ä»¥2ä¸ºä¾‹ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ do\_double(x):}
    \CommentTok{"""è¿™æ˜¯ä¸€ä¸ªè¶…çº§å¤æ‚çš„è¿è¡Œï¼Œç®—æ³•æœ‰ä¸€ä¸‡è¡Œ}
\CommentTok{    """}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{*} \DecValTok{2}

\NormalTok{do\_double(}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
6
\end{verbatim}

é‚£ä¹ˆï¼Œç”¨è¿™ä¸ªå‡½æ•°æ¥å¤„ç†åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œåˆ—è¡¨æ¨å¯¼å¼ä¼šæ¯ä¸€ä¸ªiäº¤ç»™å‡½æ•°ï¼Œç„¶åæŠŠå‡½æ•°çš„è¿”å›å€¼ç»„åˆæˆæ–°çš„åˆ—è¡¨ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}

\NormalTok{[do\_double(i) }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 4, 6, 8, 10]
\end{verbatim}

\hypertarget{ux5c0fux7ec3ux4e60-4}{%
\subsection{å°ç»ƒä¹ }\label{ux5c0fux7ec3ux4e60-4}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å†™ä¸€ä¸ªå‡½æ•°\texttt{work()}ï¼Œè¦æ±‚æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²çš„Listä½œä¸ºå‚æ•°ï¼ŒæŠŠListä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå»æ‰ç¬¬ä¸€ä¸ªå­—ç¬¦å’Œæœ€åä¸€ä¸ªå­—ç¬¦ï¼Œç„¶åè½¬ä¸ºå¤§å†™ã€‚
\end{enumerate}

åº”è¯¥çš„æ•ˆæœï¼š

\begin{verbatim}
work(['apple','banana','orange']) == ['PPL','ANAN','RANG']
\end{verbatim}

æç¤ºï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å†™ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºå¤„ç†1ä¸ªå­—ç¬¦ä¸²
\item
  ç”¨åˆ—è¡¨æ¨å¯¼å¼å¤„ç†æ•´ä¸ªåˆ—è¡¨
\item
  æŠŠä¸Šè¿°ä»£ç åŒ…è£…åœ¨\texttt{work()}ä¸­
\end{enumerate}

\hypertarget{ux53d8ux91cfux4f5cux7528ux57df}{%
\section{å˜é‡ä½œç”¨åŸŸ}\label{ux53d8ux91cfux4f5cux7528ux57df}}

ä½ åœ¨å‡½æ•°é‡Œè°ƒç”¨äº†ä¸€ä¸ªå˜é‡åï¼Œpythonä¼š``ä»é‡Œåˆ°å¤–''æ‰¾è¿™ä¸ªå˜é‡ï¼Œé¡ºåºæ˜¯LEGB

LEGBå«ä¹‰è§£é‡Šï¼šï¼ˆæš‚æ—¶ä¸ç”¨ç®¡ï¼‰

\begin{itemize}
\tightlist
\item
  L-Local(function)å³å±€éƒ¨åç§°ï¼›å‡½æ•°å†…çš„åå­—ç©ºé—´
\item
  E-Enclosing function
  localså³å‡½æ•°ä¸­åµŒå¥—å‡½æ•°çš„å¤–éƒ¨ï¼›å¤–éƒ¨åµŒå¥—å‡½æ•°çš„åå­—ç©ºé—´(ä¾‹å¦‚closure)
\item
  G-Global(module)å³å…¨å±€åç§°ï¼›å‡½æ•°å®šä¹‰æ‰€åœ¨æ¨¡å—ï¼ˆæ–‡ä»¶ï¼‰çš„åå­—ç©ºé—´
\item
  B-Builtin(Python)å³å†…ç½®åç§°ï¼›Pythonå†…ç½®æ¨¡å—çš„åå­—ç©ºé—´
\end{itemize}

\hypertarget{ux5c40ux90e8ux4f5cux7528ux57df}{%
\subsection{å±€éƒ¨ä½œç”¨åŸŸ}\label{ux5c40ux90e8ux4f5cux7528ux57df}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{10}      \CommentTok{\# å…¨å±€å˜é‡a}
\KeywordTok{def}\NormalTok{ func():}
\NormalTok{    a }\OperatorTok{=} \DecValTok{20}    \CommentTok{\# å±€éƒ¨å˜é‡aã€‚åœ¨å®šä¹‰äº†å±€éƒ¨å˜é‡aä¹‹åã€‚åé¢ä½¿ç”¨aè¿™ä¸ªå˜é‡åï¼Œå°†ä¼šé¦–å…ˆæ‰¾åˆ°è¿™ä¸ªå˜é‡ï¼ˆå³ä»é‡Œåˆ°å¤–æ‰¾ï¼‰}
    \BuiltInTok{print}\NormalTok{(a)  }\CommentTok{\# åº”è¯¥æ˜¯20}
    
\NormalTok{func()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
20
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{10}      \CommentTok{\# å…¨å±€å˜é‡a}
\KeywordTok{def}\NormalTok{ func():}
    \BuiltInTok{print}\NormalTok{(a)  }\CommentTok{\# åœ¨å‡½æ•°å†…éƒ¨ï¼Œæ²¡æœ‰å˜é‡aï¼Œé‚£ä¹ˆå°±å¾€å¤–ä¸€å±‚æ‰¾ï¼Œå› æ­¤ä¼šæ‰¾åˆ°å…¨å±€å˜é‡\textasciigrave{}a\textasciigrave{}ï¼Œåº”è¯¥ç­‰äº10}
    
\NormalTok{func()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
10
\end{verbatim}

\texttt{r\ red("æ³¨:")}ï¼šå‡½æ•°å…§éƒ¨å’Œå¤–éƒ¨å˜é‡é‡åçš„æƒ…å†µï¼Œè¦é¢å¤–å°å¿ƒã€‚å› æ­¤ç¬¬äºŒä¸ªä¾‹å­å¯èƒ½æ˜¯ä½ ``\textbf{å¿˜è®°äº†åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰a}''ï¼Œè€Œä¸æ˜¯ä½ æƒ³è¦``å¼•ç”¨å…¨å±€å˜é‡a''ï¼Œä½†æ˜¯å› ä¸ºæœ‰ä¸€ä¸ªå…¨å±€çš„å˜é‡aï¼Œæ‰€ä»¥å¿˜è®°å®šä¹‰\texttt{a}è¿™ä¸ªé—®é¢˜å¯èƒ½ä¼šè¢«éšè—ã€‚

\hypertarget{ux5168ux5c40ux4f5cux7528ux57df}{%
\subsection{å…¨å±€ä½œç”¨åŸŸ}\label{ux5168ux5c40ux4f5cux7528ux57df}}

ç‰¹åˆ«åœ°ï¼Œå‡½æ•°å†…éƒ¨çš„èµ‹å€¼è¯­å¥ï¼Œå…¶ä¸­çš„å˜é‡ä¼šè¢«pythonçœ‹ä½œä¸€ä¸ªlocalå˜é‡ï¼Œå¦‚æœå†…éƒ¨æœªå®šä¹‰ï¼Œå°±å¯èƒ½å‡ºé”™ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{100}      \CommentTok{\# å…¨å±€å˜é‡a}
\KeywordTok{def}\NormalTok{ func():}
\NormalTok{    a }\OperatorTok{=}\NormalTok{ a }\OperatorTok{+} \DecValTok{1}  \CommentTok{\# a + 1è¿™ä¸ªaç³»ç»Ÿè®¤ä¸ºæ˜¯å±€éƒ¨å˜é‡ï¼Œä½†è¿™ä¸ªå‡½æ•°æ²¡æœ‰å±€éƒ¨çš„a}
    \BuiltInTok{print}\NormalTok{(a)   }\CommentTok{\# å…¨å±€å˜é‡a}
      
\NormalTok{func()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
UnboundLocalError: local variable 'a' referenced before assignment
\end{verbatim}

æ‰€ä»¥ï¼Œå¦‚æœä½ æ˜ç¡®åœ°è¦ç”¨ä¸€ä¸ªå‡½æ•°å¤–çš„å˜é‡ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨\texttt{global}å…³é”®å­—

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \DecValTok{100}      \CommentTok{\# å…¨å±€å˜é‡a}
\KeywordTok{def}\NormalTok{ func():}
    \KeywordTok{global}\NormalTok{ a }\CommentTok{\# è¯´æ˜ï¼šaè¿™ä¸ªå˜é‡åï¼ŒæŒ‡å‘çš„æ˜¯å…¨å±€å˜é‡a}
\NormalTok{    a }\OperatorTok{=}\NormalTok{ a }\OperatorTok{+} \DecValTok{1}  
    \BuiltInTok{print}\NormalTok{(a)   }\CommentTok{\# å…¨å±€å˜é‡a}
      
\NormalTok{func()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
101
\end{verbatim}

\hypertarget{ux9012ux5f52ux7b80ux4ecbux8fdbux9636}{%
\section{é€’å½’ç®€ä»‹ï¼ˆè¿›é˜¶ï¼‰}\label{ux9012ux5f52ux7b80ux4ecbux8fdbux9636}}

é€’å½’ï¼šå‡½æ•°è‡ªå·±è°ƒç”¨è‡ªå·±è°ƒç”¨è‡ªå·±è°ƒç”¨è‡ªå·±è°ƒç”¨è‡ªå·± \ldots{}

ä¾‹å­ï¼Œé˜¶ä¹˜\(n! = n \times (n-1) \times (n-2) ... 2 \times 1\)

å¦‚ \(5! = 5 \times 4 \times 3 \times 2 \times 1\)

æ™®é€šå†™æ³•

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ f(n):}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ n}
    
    \ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{1}\NormalTok{, n): }\CommentTok{\# æ³¨æ„ï¼Œrange(1,n)ï¼Œåªåˆ° n{-}1}
\NormalTok{        result }\OperatorTok{*=}\NormalTok{ i}
    \ControlFlowTok{return}\NormalTok{ result}
 
\NormalTok{result }\OperatorTok{=}\NormalTok{ f(}\DecValTok{5}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
120
\end{verbatim}

é€’å½’çš„å†™æ³•

\(f(n) = n * f(n-1)\)

\(f(n - 1) = (n - 1) * f(n - 2)\)

\(f(n) = n * (n - 1) * f(n - 2)\)

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ f(n):}
    \ControlFlowTok{if}\NormalTok{ n }\OperatorTok{==} \DecValTok{1}\NormalTok{:}
        \ControlFlowTok{return} \DecValTok{1}          \CommentTok{\# é€’å½’ç»ˆæ­¢æ¡ä»¶}
    \ControlFlowTok{else}\NormalTok{:}
        \ControlFlowTok{return}\NormalTok{ n }\OperatorTok{*}\NormalTok{ f(n}\OperatorTok{{-}}\DecValTok{1}\NormalTok{) }\CommentTok{\# é€’å½’ï¼šè‡ªå·±è°ƒç”¨äº†è‡ªå·±}

\NormalTok{result }\OperatorTok{=}\NormalTok{ f(}\DecValTok{5}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
120
\end{verbatim}

\hypertarget{ux51fdux6570ux5f0fux7f16ux7a0bux7b80ux8ff0ux8fdbux9636}{%
\chapter{å‡½æ•°å¼ç¼–ç¨‹ç®€è¿°ï¼ˆè¿›é˜¶ï¼‰}\label{ux51fdux6570ux5f0fux7f16ux7a0bux7b80ux8ff0ux8fdbux9636}}

\hypertarget{mapux548cfilter}{%
\section{mapå’Œfilter}\label{mapux548cfilter}}

\hypertarget{map}{%
\subsection{map}\label{map}}

æœ‰ä¸€ä¸ªListï¼Œ\texttt{a\ =\ {[}1,2,3,4,5{]}}ï¼Œä½ ç°åœ¨è¦æŠŠå…¶ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä¹˜ä»¥2ï¼Œå¹¶ä¿å­˜åœ¨ä¸€ä¸ªæ–°çš„Listä¸­ã€‚ç”¨ç°æœ‰çš„çŸ¥è¯†ï¼Œå¯ä»¥è¿™æ ·

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å»ºç«‹ä¸€ä¸ªç©ºçš„Listç”¨æ¥ä¿å­˜ç»“æœ\texttt{result\ =\ {[}{]}}
\item
  å¾ªç¯\texttt{a}ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå¹¶ä¸”ä¹˜ä»¥2ï¼Œæ·»åŠ åˆ°\texttt{result}çš„æœ«ç«¯
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2, 3, 4, 5]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=}\NormalTok{ []}
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a:}
\NormalTok{    result.append(i}\OperatorTok{*}\DecValTok{2}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 4, 6, 8, 10]
\end{verbatim}

\texttt{map}å‡½æ•°ï¼Œå¯ä»¥æŠŠä¸€ä¸ªå‡½æ•°ï¼Œåº”ç”¨åˆ°Listä¸­çš„æ‰€æœ‰å…ƒç´ ä¸Šã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ do\_double(x):}
    \CommentTok{\textquotesingle{}ç¿»å€å‡½æ•°\textquotesingle{}}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{*} \DecValTok{2}

\BuiltInTok{print}\NormalTok{(do\_double(}\DecValTok{3}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
6
\end{verbatim}

æŠŠdo\_dobuleå‡½æ•°ï¼Œåº”ç”¨åˆ°åˆ—è¡¨aä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ é‡Œã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=} \BuiltInTok{map}\NormalTok{(do\_double, a) }\CommentTok{\# æŠŠdo\_dobuleå‡½æ•°ï¼Œåº”ç”¨åˆ°åˆ—è¡¨aä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ é‡Œã€‚}

\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(result))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 4, 6, 8, 10]
\end{verbatim}

ä¹Ÿå¯ç”¨åˆ—è¡¨æ¨å¯¼å¼

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=}\NormalTok{ [i }\OperatorTok{*} \DecValTok{2} \ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a]}
\BuiltInTok{print}\NormalTok{(result)}

\NormalTok{result }\OperatorTok{=}\NormalTok{ [do\_double(i) }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a]}
\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 4, 6, 8, 10]
[2, 4, 6, 8, 10]
\end{verbatim}

æŠŠaé‡Œçš„å…ƒç´ ï¼Œå…¨éƒ¨è½¬æ¢ä¸ºstr

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=} \BuiltInTok{map}\NormalTok{(}\BuiltInTok{str}\NormalTok{, a) }\CommentTok{\# æŠŠstrå‡½æ•°ï¼Œåº”ç”¨åˆ°åˆ—è¡¨aä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ é‡Œã€‚}

\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(result))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['1', '2', '3', '4', '5']
\end{verbatim}

\hypertarget{filter}{%
\subsection{filter}\label{filter}}

æœ‰ä¸€ä¸ªListï¼Œ\texttt{a\ =\ {[}1,2,3,4,5{]}}ï¼Œä½ ç°åœ¨è¦é€‰å‡ºç¬¦åˆç‰¹å®šæ¡ä»¶çš„å…ƒç´ ï¼Œä¾‹å¦‚é€‰å‡ºå…¶ä¸­çš„å¥‡æ•°ï¼Œç»„æˆä¸€ä¸ªæ–°çš„Listã€‚ç”¨å¾ªç¯åšï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}

\NormalTok{result }\OperatorTok{=}\NormalTok{ []}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a:}
  \ControlFlowTok{if}\NormalTok{ i }\OperatorTok{\%} \DecValTok{2} \OperatorTok{==} \DecValTok{1}\NormalTok{:}
\NormalTok{    result.append(i)}
      
\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 3, 5]
\end{verbatim}

å’Œmapä¸€æ ·ï¼Œå®šä¹‰ä¸€ä¸ªis\_oddå‡½æ•°ï¼Œä½œä¸ºfilterçš„è¿‡æ»¤æ¡ä»¶ï¼Œåº”è¯¥è¿”å›å¸ƒå°”å€¼(\texttt{True/False})ï¼Œä½œä¸ºæ˜¯å¦ç¬¦åˆæ¡ä»¶çš„ç»“æœã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ is\_odd(x):}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{\%} \DecValTok{2} \OperatorTok{==} \DecValTok{1}

\BuiltInTok{print}\NormalTok{(is\_odd(}\DecValTok{3}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(is\_odd(}\DecValTok{6}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
True
False
\end{verbatim}

filter(åˆ¤æ–­å‡½æ•°, List)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=} \BuiltInTok{filter}\NormalTok{(is\_odd, a)}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(result))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 3, 5]
\end{verbatim}

å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç”¨åˆ—è¡¨æ¨å¯¼å¼

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{[i }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a }\ControlFlowTok{if}\NormalTok{ is\_odd(i)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 3, 5]
\end{verbatim}

\hypertarget{ux6df7ux5408mapux548cfilter}{%
\subsection{æ··åˆmapå’Œfilter}\label{ux6df7ux5408mapux548cfilter}}

é€‰å‡ºaä¸­çš„å¥‡æ•°ï¼Œå¹¶ä¹˜ä»¥2

map å’Œ filterçš„åšæ³•

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\BuiltInTok{map}\NormalTok{(do\_double, }\BuiltInTok{filter}\NormalTok{(is\_odd, a)))}
\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 6, 10]
\end{verbatim}

åˆ—è¡¨æ¨å¯¼å¼çš„åšæ³•

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=}\NormalTok{ [do\_double(i) }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a }\ControlFlowTok{if}\NormalTok{ is\_odd(i)]}
\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 6, 10]
\end{verbatim}

è¿™å…¶å®å¯ä»¥ç†è§£ä¸ºä¸€ä¸ª``æ•°æ®æµçš„æ¦‚å¿µ''ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{a }
\CommentTok{{-}\textgreater{} filter by is\_odd()}
\CommentTok{{-}\textgreater{} map by do\_double()}
\CommentTok{{-}\textgreater{} reuslt}
\CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
'\na \n-> filter by is_odd()\n-> map by do_double()\n-> reuslt\n'
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  åˆ—è¡¨\texttt{a}é¦–å…ˆç»è¿‡filterå‡½æ•°çš„åŠ å·¥ï¼Œç„¶åå†ç»è¿‡mapå‡½æ•°çš„åŠ å·¥ï¼Œæœ€åå¾—åˆ°reusltã€‚
\item
  æ¯”å–»ï¼šä¸€å †æ°´æœ(æ•°æ®ï¼‰-\textgreater{} å‰”é™¤åçš„ï¼ˆå¤„ç†1ï¼‰-\textgreater{}
  æ¸…æ´—ï¼ˆå¤„ç†2ï¼‰-\textgreater{} å‰Šçš®ï¼ˆå¤„ç†3ï¼‰-\textgreater{}
  æ¦¨æ±ï¼ˆå¤„ç†4ï¼‰ -\textgreater{} æœæ±ï¼ˆå¤„ç†åçš„æ•°æ®ï¼‰
\end{enumerate}

æ³¨ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¤šæ•°æƒ…å†µä¸‹ï¼Œåˆ—è¡¨æ¨å¯¼å¼å’Œmap/filterå‡½æ•°å‡ ä¹å¯ä»¥ç›¸äº’æ›¿ä»£
\item
  åˆ—è¡¨æ›´åŠ ç¬¦åˆPythonçš„``é£æ ¼''
\item
  ä½†è¶…çº§å·¨å¤§Listæ—¶ï¼Œç”¨map/filteræ€§èƒ½æ›´å¥½ï¼šmap/filteræ˜¯ä¸€ä¸ªlazyï¼ˆæƒ°æ€§ï¼‰å‡½æ•°ï¼Œåªæœ‰åœ¨ä½ å¼•ç”¨å…¶ä¸­çš„å€¼æ—¶ï¼Œæ‰ä¼šæŠŠå‡½æ•°\textbf{çœŸæ­£}åº”ç”¨ä¸Šå»ã€‚
\item
  map/filterçš„ç»“æœï¼Œæœ€åè¦è½¬ä¸ºlist
\end{enumerate}

æ‰€ä»¥

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ¸…æ™°æ€§ï¼šåˆ—è¡¨æ¨å¯¼å¼ \textgreater{} map/filterå‡½æ•° \textgreater{} å¾ªç¯
\item
  æ€§èƒ½ï¼šmap/filterå‡½æ•° \textgreater{} åˆ—è¡¨æ¨å¯¼å¼ \textgreater{} å¾ªç¯
\end{enumerate}

ä»é€»è¾‘ä¸Šæ¥è®²ï¼Œåº”è¯¥æ˜¯å…ˆæœ‰\texttt{map/filer}ï¼šè¦æŠŠä¸€ä¸ªå‡½æ•°åº”ç”¨åˆ°Listä¸­çš„æ‰€æœ‰å…ƒç´ /è¿‡æ»¤å…ƒç´ ï¼Œè¿™æ˜¯ä¸ªåŸºç¡€æ€§çš„éœ€æ±‚ï¼Œå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€éƒ½æœ‰åšè¿™ä»¶äº‹çš„åŠæ³•ã€‚æˆ‘ä»¬ä¸€èˆ¬æŠŠè¿™ç§æ“ä½œç»Ÿç§°ä¸º\texttt{map/filter}ã€‚Pythonçš„åˆ—è¡¨æ¨å¯¼å¼ï¼Œå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªPythonä¼˜åŒ–ç‰ˆçš„\texttt{map/filter}ã€‚

\hypertarget{ux533fux540dux51fdux6570-lambda}{%
\subsection{åŒ¿åå‡½æ•° lambda}\label{ux533fux540dux51fdux6570-lambda}}

åœ¨æˆ‘ä»¬ä½¿ç”¨\texttt{map}ã€\texttt{filter}ï¼Œæˆ–è€…åˆ—è¡¨æ¨å¯¼å¼çš„æ—¶å€™ï¼Œå¦‚æœè¦å¯¹åˆ—è¡¨åšçš„æ“ä½œ\textbf{éå¸¸ç®€å•ã€ä¸€ç›®äº†ç„¶}ï¼Œå¹¶ä¸”å¯ä»¥\textbf{å†™è¿›ä¸€è¡Œ}ï¼ˆæ¯”å¦‚ä¹˜ä»¥äºŒï¼Œæˆ–è€…å–æœ€åä¸€ä¸ªå­—æ¯ç­‰ç­‰ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¸ç”¨ä¸“é—¨å†™ä¸€ä¸ªå‡½æ•°ï¼Œè€Œç›´æ¥æ”¾ä¸€ä¸ªåŒ¿åå‡½æ•°è¿›å»ã€‚

ä½¿ç”¨\texttt{lambda}å…³é”®å­—ï¼Œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œç›´æ¥è¿”å›è¿™ä¸ªè¡¨è¾¾å¼çš„ç»“æœï¼Œä¸ç”¨å†™\texttt{return}ã€‚

å†™æ³•ä¸€èˆ¬æ˜¯ï¼š

\texttt{lambda\ \textless{}å‚æ•°åˆ—è¡¨\textgreater{}:\ \textless{}å¯¹å‚æ•°çš„æ“ä½œ\textgreater{}}

ä¾‹å¦‚ä¸€ä¸ªåŒ¿åç‰ˆæœ¬çš„\texttt{add(a,b)}å‡½æ•°ï¼š

\texttt{lambda\ a,b\ :\ a\ +\ b}

æˆ–è€…ä¸€ä¸ªåŒ¿åçš„ç¿»å€å‡½æ•°ï¼š

\texttt{lambda\ x:\ x\ *\ 2}

ä»¥æŠŠä¸€ä¸ªåˆ—è¡¨æ‰€ä»¥å…ƒç´ ç¿»å€ä¸ºä¾‹ï¼š

ç”¨æ™®é€šå‡½æ•°ï¼šäº‹å…ˆå®šä¹‰äº†ä¸€ä¸ªdo\_doubleå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›å‚æ•°x2

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=}  \BuiltInTok{map}\NormalTok{(do\_double, a)}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(result))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 4, 6, 8, 10]
\end{verbatim}

ç”¨åŒ¿åå‡½æ•°ï¼šä¹˜ä»¥2è¿™ç±»ç®€å•æ“ä½œï¼Œç”¨åŒ¿åå‡½æ•°å³å¯ï¼Œå¯ä»¥çœä¸‹é¢„å…ˆå®šä¹‰\texttt{do\_double}å‡½æ•°ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=}  \BuiltInTok{map}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ x : x }\OperatorTok{*} \DecValTok{2}\NormalTok{,a)}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(result))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 4, 6, 8, 10]
\end{verbatim}

æ³¨ï¼š

å¯¹äºåˆå­¦è€…ï¼Œå¦‚æœä¸æ˜¯ä¸€ä¸ªè¶…çº§ç®€å•çš„æ“ä½œï¼Œå»ºè®®è¿˜æ˜¯åº”è¯¥ç”¨ä¸€ä¸ªå¯ä»¥``é¡¾åæ€ä¹‰''çš„å‡½æ•°ã€‚

\hypertarget{mapux548cfilterux7684ux7ed3ux679cux60f0ux6027}{%
\subsection{mapå’Œfilterçš„ç»“æœï¼šæƒ°æ€§}\label{mapux548cfilterux7684ux7ed3ux679cux60f0ux6027}}

å¦‚æœæˆ‘ä»¬ç›´æ¥æ‰“å°mapå’Œfilterçš„ç»“æœï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œå®ƒä»¬çš„è¿”å›å€¼ä¸æ˜¯ä¸€ä¸ªListï¼Œè€Œæ˜¯ä¸€ä¸ª\texttt{map\ object}æˆ–è€…\texttt{filter\ object}ã€‚

è¿™æ˜¯å› ä¸º\texttt{map}å’Œ\texttt{filter}ï¼Œä¸ä¼šåœ¨ä½ è°ƒç”¨\texttt{map()/filter()}å‡½æ•°çš„æ—¶å€™é©¬ä¸Šè¿›è¡Œè®¡ç®—ï¼Œè€Œæ˜¯åœ¨ä½ \textbf{è¯»å–å…¶ä¸­çš„å€¼çš„æ—¶å€™}ï¼Œæ‰è¿›è¡Œå…·ä½“è®¡ç®—ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸º``æƒ°æ€§æ±‚å€¼''ã€‚

ä¾‹å¦‚ï¼Œç”¨å‰é¢çš„Listç¿»å€çš„ä¾‹å­ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\NormalTok{result }\OperatorTok{=} \BuiltInTok{map}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ x : x }\OperatorTok{*} \DecValTok{2}\NormalTok{,a) }\CommentTok{\# å½“ä½ è°ƒç”¨mapçš„æ—¶å€™ï¼Œå¹¶æœªçœŸæ­£åœ°è¿›è¡Œè®¡ç®—}
\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<map object at 0x7f6d3c712260>
\end{verbatim}

æ‰€ä»¥ï¼Œå½“ä½ æŠŠ\texttt{map()/filter()}å‡½æ•°çš„ç»“æœæ‰“å°å‡ºæ¥çœ‹çš„æ—¶å€™ï¼Œpythonä¼šå‘Šè¯‰ä½ ï¼Œè¿™æ˜¯ä¸ªmap/filter
objectï¼Œå³map/filterå‡½æ•°çš„ç»“æœã€‚ä½†æ˜¯ï¼Œé‡Œé¢å…·ä½“çš„æ•°æ®è¿˜æ²¡è®¡ç®—å‡ºæ¥ï¼Œæ‰€ä»¥æ²¡æ³•ç›´æ¥ä½¿ç”¨

è¦ç”¨ï¼Œå¾ˆç®€å•ï¼Œç”¨\texttt{list()}å‡½æ•°è½¬æ¢ä¸ºä¸€ä¸ªåˆ—è¡¨å³å¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(result))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 4, 6, 8, 10]
\end{verbatim}

å½“ç„¶ï¼Œå¦‚æœä½ ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼ï¼Œé‚£ä¹ˆç»“æœç›´æ¥å°±æ˜¯ä¸€ä¸ªListã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=}\NormalTok{ [i }\OperatorTok{*} \DecValTok{2} \ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]]}
\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 4, 6, 8, 10]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ is\_even(x):}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{\&} \DecValTok{1} \OperatorTok{!=} \DecValTok{0}
\BuiltInTok{filter}\NormalTok{(is\_even, [}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{, }\DecValTok{6}\NormalTok{, }\DecValTok{7}\NormalTok{, }\DecValTok{8}\NormalTok{, }\DecValTok{9}\NormalTok{, }\DecValTok{10}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<filter at 0x7f6d3c712290>
\end{verbatim}

\hypertarget{ux9ad8ux9636ux51fdux6570}{%
\section{é«˜é˜¶å‡½æ•°}\label{ux9ad8ux9636ux51fdux6570}}

åœ¨pythonä¸­ï¼Œå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ï¼ˆå¤´ç­‰å‡½æ•°ï¼Œfirst-class functionï¼‰ã€‚

ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å’Œä»»ä½•å˜é‡æˆ–è€…å¯¹è±¡ä¸€æ ·ï¼Œç»‘å®šä¸€ä¸ªåå­—ï¼ˆå‡½æ•°åï¼‰ï¼Œä¹Ÿå¯ä»¥æ¢ä¸€ä¸ªåå­—ï¼ˆé‡ç»‘å®šï¼‰ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼ˆå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å¦ä¸€ä¸ªå‡½æ•°ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼ˆå‡½æ•°è¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼‰ã€‚

\hypertarget{ux51fdux6570ux662fux4e00ux7b49ux516cux6c11}{%
\subsection{å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘}\label{ux51fdux6570ux662fux4e00ux7b49ux516cux6c11}}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ add(x,y):}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{+}\NormalTok{ y}

\BuiltInTok{print}\NormalTok{(add(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
3
\end{verbatim}

å‡½æ•°å’Œå˜é‡ä¸€æ ·ï¼Œå…¶åå­—ä¹Ÿå¯ä»¥é‡æ–°ç»‘å®š.

\texttt{dda\ =\ add}ä¹‹åï¼Œ\texttt{dda}å’Œ\texttt{add}æŒ‡å‘åŒä¸€ä¸ªå‡½æ•°ï¼ˆåŠ æ³•å‡½æ•°ï¼‰ï¼Œ\texttt{dda()}ä¹Ÿå¯ä»¥æ­£å¸¸è°ƒç”¨ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{dda }\OperatorTok{=}\NormalTok{ add}

\BuiltInTok{print}\NormalTok{(dda(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
3
\end{verbatim}

\hypertarget{ux51fdux6570ux4f5cux4e3aux53c2ux6570}{%
\subsection{å‡½æ•°ä½œä¸ºå‚æ•°}\label{ux51fdux6570ux4f5cux4e3aux53c2ux6570}}

ä¾‹å¦‚mapï¼Œå¯ä»¥æŠŠä¸€ä¸ªæŒ‡å®šçš„å‡½æ•°ï¼Œåº”ç”¨åˆ°Listçš„æ¯ä¸€ä¸ªå…ƒç´ ä¸Šã€‚

\texttt{map()}å‡½æ•°çš„ç¬¬ä¸€å‚æ•°ï¼Œå°±æ˜¯ä½ è¦åº”ç”¨åˆ°Listå…ƒç´ ä¸Šçš„å‡½æ•°ï¼Œ
æ¯”å¦‚å‰ä¾‹ä¸­ä¹˜ä»¥2\texttt{do\_double}ï¼Œè¿™é‡Œæ˜¯æŠŠå‡½æ•°\texttt{do\_double}ä½œä¸ºå‚æ•°ä¼ é€’ç»™äº†\texttt{map}ã€‚ç¬¬äºŒä¸ªå‚æ•°ï¼Œå°±æ˜¯ä½ è¦å¤„ç†çš„Listã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=} \BuiltInTok{map}\NormalTok{(do\_double, [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(result))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 4, 6, 8, 10]
\end{verbatim}

\hypertarget{ux51fdux6570ux751fux6210ux5668ux8fdbux9636}{%
\subsection{``å‡½æ•°ç”Ÿæˆå™¨''ï¼ˆè¿›é˜¶ï¼‰}\label{ux51fdux6570ux751fux6210ux5668ux8fdbux9636}}

ç”¨å‚æ•°æ¥ç”Ÿæˆä¸åŒçš„å‡½æ•°ã€‚

ä¾‹å¦‚ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ±‚ä¸€ä¸ªæ•°xçš„næ¬¡æ–¹ã€‚æ˜¾ç„¶æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªè¿™æ ·çš„å‡½æ•°ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ power(x,n):}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{**}\NormalTok{ n}
\end{Highlighting}
\end{Shaded}

ä¾‹å¦‚ï¼Œ3çš„å¹³æ–¹ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(power(}\DecValTok{3}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
9
\end{verbatim}

ä¾‹å¦‚ï¼Œ2çš„3æ¬¡æ–¹ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(power(}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
8
\end{verbatim}

å¹³æ–¹ã€ä¸‰æ¬¡æ–¹ç­‰ç­‰ï¼Œéå¸¸çš„å¸¸ç”¨ï¼Œæˆ‘ä»¬æƒ³å†™ä¸ªä¸“é—¨çš„å‡½æ•°ï¼Œå¯ä»¥å°‘è¾“å…¥ä¸€ä¸ªå‚æ•°

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ square(x):}
    \ControlFlowTok{return}\NormalTok{ power(x,}\DecValTok{2}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(square(}\DecValTok{3}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
9
\end{verbatim}

åŒæ ·ï¼Œä¸‰æ¬¡æ–¹ä¹Ÿæ˜¯

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ cube(x):}
    \ControlFlowTok{return}\NormalTok{ power(x,}\DecValTok{3}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(cube(}\DecValTok{2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
8
\end{verbatim}

æˆ‘ä»¬çœ‹åˆ°ï¼Œè¿™2ä¸ªå‡½æ•°ï¼Œå‡½æ•°ä½“å‡ ä¹å®Œå…¨ä¸€æ ·ï¼Œåªæœ‰1ä¸ªåœ°æ–¹ä¸åŒï¼š2å’Œ3ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¦‚æœæŸäº›åœºåˆï¼Œ4æ¬¡æ–¹ä¹Ÿå¾ˆå¸¸ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åŸæ ·å»ºç«‹ä¸€ä¸ª4æ¬¡æ–¹å‡½æ•°ã€‚
\item
  ä½†æ˜¯ï¼Œè¿™ä¹ˆå¤šçš„å‡½æ•°ï¼Œåªæœ‰1ä¸ªåœ°æ–¹ä¸åŒï¼Œå¿…å®šæ˜¯å¯ä»¥å†å¾€ä¸ŠæŠ½è±¡ä¸€å±‚ã€‚
\end{enumerate}

è¿™ä¸ªå‡½æ•°ï¼Œå¯ä»¥æ ¹æ®ä½ ç»™çš„å‚æ•°\texttt{n}ï¼Œç”Ÿæˆå¦ä¸€ä¸ªå‡½æ•°ï¼šnæ¬¡æ–¹å‡½æ•°ç”Ÿæˆå™¨

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ make\_power\_funcion(n):}
    
    \KeywordTok{def}\NormalTok{ func(x):}
        \CommentTok{\# return power(x, n) \# ä¹Ÿæ˜¯ä¸€æ ·çš„}
        \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{**}\NormalTok{ n }
    
    \ControlFlowTok{return}\NormalTok{ func}
\end{Highlighting}
\end{Shaded}

\texttt{make\_power\_funcion}æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¿”å›å¦ä¸€ä¸ªå‡½æ•°\texttt{func}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{çº¦ç­‰äºä»¥ä¸‹ä»£ç }

\CommentTok{def func(x):}
\CommentTok{    n = 2}
\CommentTok{    return x ** n}

\CommentTok{square = func}
\CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\NormalTok{square }\OperatorTok{=}\NormalTok{ make\_power\_funcion(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cube }\OperatorTok{=}\NormalTok{ make\_power\_funcion(}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(square(}\DecValTok{3}\NormalTok{))}

\BuiltInTok{print}\NormalTok{(cube(}\DecValTok{2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
9
8
\end{verbatim}

\hypertarget{reduce-ux8fdbux9636}{%
\subsection{reduce ï¼ˆè¿›é˜¶ï¼‰}\label{reduce-ux8fdbux9636}}

\texttt{reduce}å’Œ\texttt{map}ä¸€æ ·ï¼Œä¸å•æ˜¯ä¸€ä¸ªå…·ä½“çš„å‡½æ•°ï¼ŒåŒæ—¶ä¹Ÿæ˜¯``ä¸€ç§å¸¸ç”¨çš„æ“ä½œ''ï¼Œæ‰€ä»¥æ”¾åœ¨å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œéƒ½æœ‰ç›¸åŒçš„å«ä¹‰ã€‚å› æ­¤ä¸€èˆ¬ä¼šä¸\texttt{map}å¹¶åˆ—ï¼Œå¸¸ç§°ä¹‹ä¸º\texttt{map/reduce}ã€‚

å’Œ\texttt{map}ä¸€æ ·ï¼Œ\texttt{reduce}åŒæ ·å¯ä»¥æŠŠä¸€ä¸ªå‡½æ•°åº”ç”¨åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸Šï¼ŒåŒºåˆ«åœ¨äºï¼Œä½ ä½¿ç”¨\texttt{reduce}çš„æ—¶å€™ï¼Œä½ è¦è¿ç”¨çš„å‡½æ•°ï¼Œä¾‹å¦‚\texttt{func(x,y)}ï¼Œæœ‰2ä¸ªå‚æ•°ã€‚

reduceä¼šè¿™ä¹ˆåšï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å–å‡ºä½ è¦å¤„ç†çš„åˆ—è¡¨çš„å¤´2ä¸ªå…ƒç´ ï¼ˆ\texttt{a{[}0{]}}å’Œ\texttt{a{[}1{]}}ï¼‰ï¼Œä¼ è¿›\texttt{func(a{[}0{]},\ a{[}1{]})}ä¸­ï¼Œå¹¶å¾—åˆ°ä¸€ä¸ªè¿”å›å€¼ï¼Œå¦‚\texttt{z1}
\item
  å–å‡ºåˆ—è¡¨çš„ç¬¬3ä¸ªå…ƒç´ \texttt{a{[}2{]}}ï¼Œå’Œå‰ä¸€ä¸ªç»“æœï¼Œä¸€èµ·ä¼ å…¥\texttt{func(z1,a{[}2{]})}ï¼Œå¾—åˆ°ä¸€ä¸ªè¿”å›å€¼ï¼Œå¦‚\texttt{z2}
\item
  å–å‡ºåˆ—è¡¨çš„ç¬¬4ä¸ªå…ƒç´ \texttt{a{[}3{]}}ï¼Œå’Œå‰ä¸€ä¸ªç»“æœï¼Œä¸€èµ·ä¼ å…¥\texttt{func(z2,a{[}3{]})}ï¼Œå¾—åˆ°ä¸€ä¸ªè¿”å›å€¼ï¼Œå¦‚\texttt{z3}
\item
  \ldots{}
\end{enumerate}

ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯¹ä¸€ä¸ªåˆ—è¡¨\texttt{a\ =\ {[}1,3,5,7,9{]}}ï¼Œ\texttt{reduce}ä¸€ä¸‹åº”ç”¨æˆ‘ä»¬å‰é¢å†™çš„\texttt{add()}å‡½æ•°ã€‚

æ˜¾ç„¶ï¼Œè¿™ä¸ªæ“ä½œå¤§æ¦‚æ˜¯è¿™ä¸ªè¿‡ç¨‹ã€‚

\includegraphics{images/reduce.png}

\texttt{reduce}å‡½æ•°åœ¨\texttt{functools}æ¨¡å—ä¸­ï¼Œæ¨¡å—æˆ‘ä»¬åé¢ä¼šè®²ã€‚è¦å¼•å…¥\texttt{reduce}å‡½æ•°ï¼Œä½¿ç”¨è¿™è¡Œä»£ç ï¼š

\texttt{from\ functools\ import\ reduce}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ functools }\ImportTok{import} \BuiltInTok{reduce}
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{9}\NormalTok{]}

\BuiltInTok{reduce}\NormalTok{(add,a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
25
\end{verbatim}

\hypertarget{ux95edux5305closureux8fdbux9636}{%
\subsection{é—­åŒ…Closureï¼ˆè¿›é˜¶ï¼‰}\label{ux95edux5305closureux8fdbux9636}}

ä¸€ä¸ªé—­åŒ…closureï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½†é™¤äº†å‡½æ•°ä½“æœ¬èº«ï¼ŒåŒ…å«äº†å®šä¹‰é—­åŒ…æ—¶çš„æ•°æ®ã€‚

ä¾‹å¦‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ make\_power\_funcion(n):}
    \KeywordTok{def}\NormalTok{ func(x):}
        \CommentTok{\# return power(x, n) \# ä¹Ÿæ˜¯ä¸€æ ·çš„}
        \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{**}\NormalTok{ n }
    
    \ControlFlowTok{return}\NormalTok{ func}
\end{Highlighting}
\end{Shaded}

è¿™ä¸ªä»£ç é‡Œï¼Œè°ƒç”¨\texttt{power()}å‡½æ•°ï¼Œä¼šè¿”å›å¦ä¸€ä¸ªå‡½æ•°\texttt{fun()}ã€‚

è¿™ä¸ªå‡½æ•°é‡Œé¢è°ƒç”¨äº†å˜é‡\texttt{n}ï¼Œä½†\texttt{n}ä¸åœ¨\texttt{fun()}çš„å‡½æ•°ä½“å†…ï¼Œè€Œåœ¨ä¸Šä¸€å±‚ã€‚\texttt{fun()}å‡½æ•°ï¼Œä¼šæŠŠç”Ÿäº§è‡ªå·±çš„åå¢ƒä¸­çš„å˜é‡ï¼ˆæœ¬ä¾‹ä¸­å³\texttt{n}ï¼‰ï¼Œä¹ŸåŒ…æ‹¬åœ¨é‡Œé¢ï¼š\textbf{é—­åŒ…æ˜¯ä¸€ä¸ªé™„å¸¦æ•°æ®çš„å‡½æ•°}ã€‚

è¿™æ®µä»£ç å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{square }\OperatorTok{=}\NormalTok{ make\_power\_funcion(}\DecValTok{2}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

\texttt{square}å‡½æ•°ï¼Œç›¸å½“äºä¸€ä¸ª\textbf{é™„å¸¦äº†\texttt{n=2}çš„\texttt{func()}å‡½æ•°}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{power(n\ =\ 2)}ï¼Œå…¶ä¸­\texttt{n\ =\ 2}
\item
  åœ¨\texttt{make\_power\_funcion()}å‡½æ•°çš„å†…éƒ¨ï¼Œ\texttt{func(x)}æ˜¯å¯ä»¥çœ‹è§è¿™ä¸ª\texttt{n=2}çš„
\item
  \texttt{return\ func}çš„æ—¶å€™ï¼Œä¼šæŠŠ\texttt{n=2}ï¼Œä¸€å¹¶è¿”å›åˆ°å¤–å±‚
\item
  \texttt{square\ =\ power(2)},æ­¤æ—¶æˆ‘ä»¬æŠŠ\texttt{square}è¿™ä¸ªåå­—ï¼Œç»‘å®šç»™\texttt{func}è¿™ä¸ªå‡½æ•°ï¼ˆé—­åŒ…ï¼‰ï¼Œè€Œåè€…åŒæ—¶è¿˜é™„å¸¦äº†\texttt{n=2}
\end{enumerate}

å‰é¢è®²å˜é‡ä½œç”¨åŸŸï¼Œpythonæ‰¾ä¸€ä¸ªåç§°ï¼Œæ˜¯ä»å†…åˆ°å¤–

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Lå±€éƒ¨ä½œç”¨åŸŸï¼šå³å‡½æ•°ä½“å†…ã€‚ä¾‹å¦‚æœ¬ä¾‹ä¸­\texttt{func}å‡½æ•°çš„\texttt{x}
\item
  Enclosing function
  localsï¼šå‡½æ•°ä¸­åµŒå¥—å‡½æ•°çš„å¤–éƒ¨ï¼šä¾‹å¦‚æœ¬ä¾‹ä¸­\texttt{func}å‡½æ•°çš„\texttt{n}
\item
  Gå…¨å±€ï¼šä»£ç çš„æœ€å¤–å±‚
\item
  Bå†…ç½®åç§°ï¼špythonçš„ä¸€äº›å†…ç½®çš„åç§°ï¼Œå¦‚\texttt{max}å‡½æ•°
\end{enumerate}

ç°åœ¨å¯çŸ¥ï¼ŒpythonæŸ¥æ‰¾å˜é‡åï¼Œå…ˆæ‰¾å±€éƒ¨ä½œç”¨åŸŸï¼ˆå‡½æ•°å†…éƒ¨ï¼‰ï¼Œå†æ‰¾é—­åŒ…çš„é™„å¸¦æ•°æ®ï¼Œå†æ‰¾å…¨å±€å˜é‡ï¼Œå†æ‰¾pythonçš„å†…ç½®åç§°ã€‚

\hypertarget{ux57faux672cux6570ux636eux7ed3ux6784ux8fdbux9636}{%
\chapter{åŸºæœ¬æ•°æ®ç»“æ„ï¼šè¿›é˜¶}\label{ux57faux672cux6570ux636eux7ed3ux6784ux8fdbux9636}}

å‰é¢ä»‹ç»äº†å¸¸ç”¨æ•°æ®ç»“æ„çš„æ„å»ºï¼Œè¯»å†™æ•°æ®å’Œéå†ç­‰ç­‰ï¼Œè¿™é‡Œä»‹ç»ä¸€äº›å…³äºæ•°æ®ç»“æ„çš„è¿›é˜¶ç”¨æ³•ã€‚

\hypertarget{ux5d4cux5957ux6570ux636eux7ed3ux6784}{%
\section{åµŒå¥—æ•°æ®ç»“æ„}\label{ux5d4cux5957ux6570ux636eux7ed3ux6784}}

æ•°æ®ç»“æ„å¯ä»¥ç›¸äº’åµŒå¥—ã€‚æ¯”å¦‚ListåµŒå¥—Listï¼Œåé¢æˆ‘ä»¬ä¼šçŸ¥é“è¿™æ˜¯è¡¨ç¤ºçŸ©é˜µçš„ä¸€ç§æ–¹å¼ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [[}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{],[}\DecValTok{3}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{1}\NormalTok{],[}\DecValTok{6}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{2}\NormalTok{]] }\CommentTok{\# List of List}
\NormalTok{a[}\DecValTok{0}\NormalTok{] }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2, 3]
\end{verbatim}

ListåµŒå¥—Tupleï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b }\OperatorTok{=}\NormalTok{ [(}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{,}\DecValTok{2}\NormalTok{),(}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{,}\DecValTok{3}\NormalTok{),(}\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{,}\DecValTok{1}\NormalTok{)]}
\NormalTok{b[}\DecValTok{2}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
('C', 1)
\end{verbatim}

å­—å…¸åµŒå¥— Listå’ŒTupleï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{c }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{:[}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{],}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{:(}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{),}\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{:[}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{]\}}
\NormalTok{c[}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
(3, 4, 5)
\end{verbatim}

å½“ç„¶åµŒå¥—å¯ä»¥å¤šå±‚åµŒå¥—ä¸‹å»ã€‚

åµŒå¥—çš„æ•°æ®ç»“æ„ï¼Œå…¶å–å€¼çš„æ–¹æ³•ä¹Ÿå’ŒåŸæ¥ä¸€æ ·ï¼ŒæŒ‰ç…§ç´¢å¼•æˆ–è€…keyé€çº§æ’åˆ—å³å¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a[}\DecValTok{0}\NormalTok{][}\DecValTok{1}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b[}\DecValTok{1}\NormalTok{][}\DecValTok{0}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
'B'
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{c[}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{][}\DecValTok{1}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
4
\end{verbatim}

\hypertarget{ux6392ux5e8fux4e13ux9898}{%
\section{æ’åºä¸“é¢˜}\label{ux6392ux5e8fux4e13ux9898}}

\hypertarget{ux5217ux8868}{%
\subsection{åˆ—è¡¨}\label{ux5217ux8868}}

åˆ—è¡¨çš„æ’åºå¾ˆç®€å•

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{sorted()}å‡½æ•°è¿”å›ä¸€ä¸ªæ’åºåçš„æ–°åˆ—è¡¨ï¼ŒåŸåˆ—è¡¨ä¸å˜ã€‚
\item
  åˆ—è¡¨çš„\texttt{.sort()}æ–¹æ³•ï¼Œå¯¹åŸåˆ—è¡¨è¿›è¡Œ``åŸåœ°æ’åº''ï¼Œä¸è¿”å›å€¼ï¼Œä½†åŸåˆ—è¡¨ä¼šæ”¹å˜ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{3}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{sorted}\NormalTok{(a)) }\CommentTok{\#è¿”å›æ’åºåçš„æ–°åˆ—è¡¨}
\BuiltInTok{print}\NormalTok{(a) }\CommentTok{\# æ³¨æ„sortedå‡½æ•°ä¸ä¼šæ”¹å˜a}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2, 3, 5]
[3, 2, 1, 5]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a.sort() }\CommentTok{\# åŸåœ°æ’åºï¼Œä¼šæ”¹å˜a}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2, 3, 5]
\end{verbatim}

é€†åºçš„è¯ï¼Œéœ€è¦åŠ å…¥\texttt{reverse=True}å‚æ•°ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{2}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{3}\NormalTok{]}

\BuiltInTok{print}\NormalTok{(}\BuiltInTok{sorted}\NormalTok{(a,reverse}\OperatorTok{=}\VariableTok{True}\NormalTok{)) }\CommentTok{\# é€†åºï¼Œsortedè¿”å›ä¸€ä¸ªæ’åºå¥½çš„æ–°åˆ—è¡¨ï¼Œä¸æ”¹å˜åŸå€¼}
\BuiltInTok{print}\NormalTok{(a) }\CommentTok{\# aä¿æŒä¸å˜}
\NormalTok{a.sort(reverse}\OperatorTok{=}\VariableTok{True}\NormalTok{) }\CommentTok{\# é€†åºï¼ŒåŸåœ°æ’åºï¼Œè¿™ä¸ªæ–¹æ³•ä¸è¿”å›å€¼ã€‚}
\BuiltInTok{print}\NormalTok{(a) }\CommentTok{\# aå·²ç»è¢«æ”¹å˜}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[5, 3, 2, 1]
[2, 5, 1, 3]
[5, 3, 2, 1]
\end{verbatim}

\hypertarget{ux4efbux610fux6392ux5e8fux89c4ux5219}{%
\subsection{ä»»æ„æ’åºè§„åˆ™}\label{ux4efbux610fux6392ux5e8fux89c4ux5219}}

å¯¹äºåµŒå¥—æ•°æ®ç»“æ„å’Œå­—å…¸ç­‰ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ ä»»æ„çš„æ’åºè§„åˆ™ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªåµŒå¥—çš„Listï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [[}\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{],[}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{1}\NormalTok{],[}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{6}\NormalTok{]]}
\NormalTok{a}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[['C', 1, 2], ['A', 3, 1], ['B', 2, 6]]
\end{verbatim}

æˆ‘ä»¬æƒ³æ ¹æ®æ¯ä¸ªå­Listçš„ç¬¬äºŒä¸ªå…ƒç´ æ¥æ’åºï¼Œéœ€è¦ç”¨åˆ°å‚æ•°\texttt{key}ï¼ˆä¸Šé¢ä¸¤ç§æ’åºæ–¹æ³•éƒ½é€‚ç”¨ï¼‰

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{key}å‚æ•°æ¥å—ä¸€ä¸ªå‡½æ•°
\item
  è¿™ä¸ªå‡½æ•°æ¥å—Listçš„ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ª''å¯ä»¥æ¯”è¾ƒå¤§å°çš„å€¼''ï¼ˆæ¯”å¦‚ä¸€ä¸ªæ•°å­—ï¼‰ã€‚
\end{enumerate}

æ¢å¥è¯è¯´ï¼Œä½ ç»™å‡ºä¸€ä¸ªæ’åºçš„å‡­æ®ï¼Œè¦æ„é€ ä¸€ä¸ªæ¯”è¾ƒä¸åŒå­Listå¤§å°åŠæ³•ï¼Œè¿™ä¸ªåŠæ³•çš„ç»“æœï¼Œä½“ç°åœ¨ä½ è¦ç®—å‡ºä¸€ä¸ªå¯æ¯”è¾ƒçš„å€¼ï¼Œå¦‚ä¸€ä¸ªæ•°å­—ã€‚

è½å®åˆ°æœ¬ä¾‹ï¼Œå¦‚æœåªæ˜¯æ¯”è¾ƒç¬¬äºŒä¸ªå…ƒç´ çš„å¤§å°ï¼Œåˆ™ç›´æ¥è¿”å›ç¬¬äºŒä¸ªå…ƒç´ å³å¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ get\_2nd\_item(x):}
    \ControlFlowTok{return}\NormalTok{ x[}\DecValTok{1}\NormalTok{]}

\BuiltInTok{sorted}\NormalTok{(a, key }\OperatorTok{=}\NormalTok{ get\_2nd\_item)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[['C', 1, 2], ['B', 2, 6], ['A', 3, 1]]
\end{verbatim}

ä¹Ÿå¯ä»¥é‡‡ç”¨åŒ¿åå‡½æ•°ï¼Œè§å‰é¢çš„ç« èŠ‚ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å†™æˆåŒ¿åå‡½æ•°çš„ç‰ˆæœ¬}
\BuiltInTok{sorted}\NormalTok{(a, key }\OperatorTok{=} \KeywordTok{lambda}\NormalTok{ x:x[}\DecValTok{1}\NormalTok{]) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[['C', 1, 2], ['B', 2, 6], ['A', 3, 1]]
\end{verbatim}

æœ‰å¦‚ï¼Œæ¯”å¦‚ä½ è¦æ ¹æ®
``ç¬¬2å’Œç¬¬3ä¸ªå…ƒç´ çš„å’Œ''æ¥æ’åºï¼Œä½ åªè¦æ„é€ ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›è¿™ä¸¤è€…çš„å’Œå³å¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ sum\_2\_3(x):}
    \ControlFlowTok{return}\NormalTok{ x[}\DecValTok{1}\NormalTok{]}\OperatorTok{+}\NormalTok{x[}\DecValTok{2}\NormalTok{]}

\BuiltInTok{print}\NormalTok{(a[}\DecValTok{0}\NormalTok{]) }\CommentTok{\# æµ‹è¯•ä¸€ä¸‹æ˜¯å¦æ­£å¸¸}

\BuiltInTok{sorted}\NormalTok{(a, key }\OperatorTok{=}\NormalTok{ sum\_2\_3)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['C', 1, 2]
\end{verbatim}

\begin{verbatim}
[['C', 1, 2], ['A', 3, 1], ['B', 2, 6]]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å†™æˆåŒ¿åå‡½æ•°çš„ç‰ˆæœ¬}
\BuiltInTok{sorted}\NormalTok{(a, key }\OperatorTok{=} \KeywordTok{lambda}\NormalTok{ x:x[}\DecValTok{1}\NormalTok{]}\OperatorTok{+}\NormalTok{x[}\DecValTok{2}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[['C', 1, 2], ['A', 3, 1], ['B', 2, 6]]
\end{verbatim}

\hypertarget{ux5b57ux5178ux6392ux5e8f}{%
\subsection{å­—å…¸æ’åº}\label{ux5b57ux5178ux6392ux5e8f}}

å‰é¢è¯´è¿‡ï¼Œå­—å…¸å¤§çº¦ä¹Ÿå¯ä»¥``çœ‹æˆ''ä¸€ä¸ªåµŒå¥—æ•°æ®ç»“æ„ï¼Œä»¥å‰é¢çš„å­—å…¸cä¸ºä¾‹

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{c.items()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
dict_items([('A', [1, 2, 3]), ('B', (3, 4, 5)), ('C', [2, 3, 4])])
\end{verbatim}

æ³¨æ„åˆ°valueæ˜¯ä¸€ä¸ª3ä¸ªå…ƒç´ çš„Listæˆ–è€…Tupleï¼Œæˆ‘ä»¬è¦æ ¹æ®valueçš„ç¬¬ä¸€ä¸ªå…ƒç´ æ¥æ’åºã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sorted\_items }\OperatorTok{=} \BuiltInTok{sorted}\NormalTok{(c.items(), key}\OperatorTok{=} \KeywordTok{lambda}\NormalTok{ x:x[}\DecValTok{1}\NormalTok{][}\DecValTok{0}\NormalTok{])}
\NormalTok{sorted\_items}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[('A', [1, 2, 3]), ('C', [2, 3, 4]), ('B', (3, 4, 5))]
\end{verbatim}

æ³¨æ„ï¼Œå…¶ä¸­xæ˜¯ä¸€ä¸ªå­—å…¸ä¸­çš„itemï¼Œå³ä¸€ä¸ª(key,value)å¯¹ã€‚é‚£ä¹ˆx{[}0{]}å°±æ˜¯keyï¼Œx{[}1{]}å°±æ˜¯valueï¼Œx{[}1{]}{[}0{]}å°±æ˜¯valueä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ äº†ã€‚

æ³¨æ„ä¸Šé¢å¾—åˆ°çš„æ˜¯ä¸€ä¸ªList of
Tupleï¼Œå³å•çº¯çš„åµŒå¥—æ•°æ®ç»“æ„ã€‚å¦‚æœéœ€è¦è½¬ä¸ºå­—å…¸ï¼Œè°ƒç”¨dict()å‡½æ•°å³å¯ï¼ˆç®€å•ç±»å‹è½¬æ¢ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{dict}\NormalTok{(}\BuiltInTok{sorted}\NormalTok{(c.items(), key}\OperatorTok{=} \KeywordTok{lambda}\NormalTok{ x:x[}\DecValTok{1}\NormalTok{][}\DecValTok{0}\NormalTok{]))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{'A': [1, 2, 3], 'C': [2, 3, 4], 'B': (3, 4, 5)}
\end{verbatim}

\hypertarget{ux5176ux4ed6-1}{%
\section{å…¶ä»–}\label{ux5176ux4ed6-1}}

\hypertarget{ux679aux4e3e-enumerateux51fdux6570}{%
\subsection{æšä¸¾
enumerateå‡½æ•°}\label{ux679aux4e3e-enumerateux51fdux6570}}

\texttt{enumerate()}å‡½æ•°ä¸€èˆ¬ç”¨äºéå†ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡çš„æ—¶å€™ï¼ŒåŒæ—¶è¿˜å¯ä»¥è·å¾—å¯¹åº”çš„ç´¢å¼•ã€‚

æˆ–è€…è¯´ï¼Œä½ éå†ä¸€ä¸ªa\_list =
{[}`a',`b',`c'{]}çš„æ—¶å€™ï¼Œè¿˜æƒ³è·å¾—å½“å‰å€¼æ˜¯``ç¬¬å‡ ä¸ª''ï¼Œæˆ‘ä»¬ç”¨ä»¥ä¸‹å¾ªç¯

\texttt{for\ i,value\ in\ enumerate(a\_list):}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a\_list }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}apple\textquotesingle{}}\NormalTok{)}

\ControlFlowTok{for}\NormalTok{ i,value }\KeywordTok{in} \BuiltInTok{enumerate}\NormalTok{(a\_list):}
    \BuiltInTok{print}\NormalTok{(i,value) }\CommentTok{\# æ­¤æ—¶ï¼Œiå°±è¡¨ç¤ºéå†è¿‡ç¨‹ä¸­çš„ç´¢å¼•}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0 a
1 p
2 p
3 l
4 e
\end{verbatim}

æ˜¾ç„¶ï¼Œå’Œå­—å…¸\texttt{.items()}ç±»ä¼¼ï¼Œ\texttt{enumerate(a\_list)}ä¹Ÿæ˜¯è·å¾—å¯ä»¥
\texttt{{[}(index,\ value),\ (index,\ value),\ ...{]}}çš„åºåˆ—ã€‚

æ³¨ï¼š\texttt{enumerate(a\_list)}è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œå½“ä½ è¦å…·ä½“è®¿é—®é‡Œé¢çš„å€¼çš„æ—¶å€™ï¼Œæ‰ä¼šä¸´æ—¶ç”ŸæˆæŸä¸ª\texttt{(index,value)}ï¼Œå¦‚æœè¦æ‰“å°å‡ºæ¥çœ‹ï¼Œéœ€è¦è½¬ä¸ºListã€‚ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥è½¬ä¸ºå­—å…¸ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŠŠa\_listï¼Œè½¬ä¸ºå¸¦æœ‰ç´¢å¼•çš„list}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(}\BuiltInTok{enumerate}\NormalTok{(a\_list)))}

\CommentTok{\# æŠŠa\_listï¼Œè½¬ä¸ºä»¥indexä¸ºkeyçš„å­—å…¸}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{dict}\NormalTok{(}\BuiltInTok{enumerate}\NormalTok{(a\_list)))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[(0, 'a'), (1, 'p'), (2, 'p'), (3, 'l'), (4, 'e')]
{0: 'a', 1: 'p', 2: 'p', 3: 'l', 4: 'e'}
\end{verbatim}

è¿›ä¸€æ­¥ï¼Œå¯ä»¥è·å¾—``æŸä¸ªå…ƒç´ çš„ç´¢å¼•''ï¼Œæ¯”å¦‚é—®'p'æ˜¯å‡ å·å…ƒç´ ï¼Ÿ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a\_list }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}apple\textquotesingle{}}\NormalTok{)}
\NormalTok{[i }\ControlFlowTok{for}\NormalTok{ i,value }\KeywordTok{in} \BuiltInTok{enumerate}\NormalTok{(a\_list) }\ControlFlowTok{if}\NormalTok{ value }\OperatorTok{==} \StringTok{\textquotesingle{}p\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1, 2]
\end{verbatim}

\hypertarget{zipux51fdux6570}{%
\subsection{zipå‡½æ•°}\label{zipux51fdux6570}}

æŠŠå‡ ä¸ªåºåˆ—ç»“æ„ï¼Œæ¯ä¸ªå…ƒç´ å¯¹ä½ç»„åˆï¼Œå½¢æˆä¸€ä¸ªTupleï¼Œå†ç»„æˆä¸€ä¸ªListã€‚

æ³¨æ„ï¼šzipä»¥æœ€çŸ­çš„å…ƒç´ ä¸ºä¸»ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{list1}\OperatorTok{=}\NormalTok{ (}\StringTok{\textquotesingle{}a\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}b\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}c\textquotesingle{}}\NormalTok{)}
\NormalTok{list2 }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{, }\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{, }\DecValTok{4}\NormalTok{]}

\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(}\BuiltInTok{zip}\NormalTok{(list1,list2)))}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(}\BuiltInTok{zip}\NormalTok{(list1,list2,list1))) }\CommentTok{\# å¯ä»¥ç»„åˆä¸æ­¢2ä¸ªåºåˆ—}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[('a', 1), ('b', 2), ('c', 3)]
[('a', 1, 'a'), ('b', 2, 'b'), ('c', 3, 'c')]
\end{verbatim}

ç¨å¾®å‘æ•£ä¸€ä¸‹ï¼Œè¿™ä¸å°±æ˜¯ä¸€ä¸ªDictçš„ç»“æ„å—ï¼Ÿæ‰€ä»¥å¯ä»¥ç›´æ¥è½¬ä¸ºå­—å…¸ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{dict}\NormalTok{(}\BuiltInTok{zip}\NormalTok{(list1,list2))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{'a': 1, 'b': 2, 'c': 3}
\end{verbatim}

å½“ç„¶ä¹Ÿå¯ä»¥å¤šåºåˆ—å¾ªç¯

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{for}\NormalTok{ i,j }\KeywordTok{in} \BuiltInTok{zip}\NormalTok{(list1,list2):}
    \BuiltInTok{print}\NormalTok{(i,j)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
a 1
b 2
c 3
\end{verbatim}

å›å¿†å‡½æ•°çš„æ‹†åŒ…æ“ä½œï¼Œæˆ‘æŠŠä¸€ä¸ªListï¼ˆç­‰ï¼‰ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œå‰é¢åŠ ä¸€ä¸ª*ï¼Œå°±ä¼šè‡ªåŠ¨æŠŠListä¸­çš„å…ƒç´ é€ä¸€æ‹†å‡ºæ¥ï¼Œä¼ é€’ç»™å‡½æ•°ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ add(a,b):}
    \ControlFlowTok{return}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b}

\NormalTok{add(}\OperatorTok{*}\NormalTok{[}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{]) }\CommentTok{\# å¯¹[1,2]è¿›è¡Œæ‹†åŒ…ï¼šæŒ‰é¡ºåºä¼ é€’ç»™aå’Œb}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
3
\end{verbatim}

å¯¹äºzipå‡½æ•°ä¹Ÿå¯ä»¥è¿™æ ·åšï¼Œæ¯”å¦‚ä½ æœ‰ä¸€ä¸ªåºåˆ—

\texttt{a\_list\ =\ {[}(1,\ \textquotesingle{}one\textquotesingle{}),\ (2,\ \textquotesingle{}two\textquotesingle{}),\ (3,\ \textquotesingle{}three\textquotesingle{}){]}}

ä½ å¸Œæœ›ç¬¬ä¸€ä½çš„å…ƒç´ ç»„æˆåºåˆ—ï¼Œç¬¬äºŒä½çš„å…ƒç´ ç»„æˆä¸€ä¸ªåºåˆ—\ldots.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a\_list }\OperatorTok{=}\NormalTok{ [(}\DecValTok{1}\NormalTok{, }\StringTok{\textquotesingle{}one\textquotesingle{}}\NormalTok{), (}\DecValTok{2}\NormalTok{, }\StringTok{\textquotesingle{}two\textquotesingle{}}\NormalTok{), (}\DecValTok{3}\NormalTok{, }\StringTok{\textquotesingle{}three\textquotesingle{}}\NormalTok{)]}
\BuiltInTok{list}\NormalTok{(}\BuiltInTok{zip}\NormalTok{(}\OperatorTok{*}\NormalTok{a\_list))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[(1, 2, 3), ('one', 'two', 'three')]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x,y }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\BuiltInTok{zip}\NormalTok{(}\OperatorTok{*}\NormalTok{a\_list)) }\CommentTok{\# å¦‚æœè¦èµ‹å€¼çš„è¯ï¼Œå¯ä»¥è¿™ä¹ˆå†™}
\end{Highlighting}
\end{Shaded}

\hypertarget{popux51fdux6570}{%
\subsection{popå‡½æ•°}\label{popux51fdux6570}}

\texttt{pop()}å‡½æ•°ç”¨äº``è¿”å›å¹¶ç§»é™¤ä¸€ä¸ªå…ƒç´ ''ï¼Œè¿‘ä¼¼ç†è§£å°±æ˜¯æŠŠé˜Ÿå°¾çš„ä¸€ä¸ªå…ƒç´ ``æ‹¿å‡ºæ¥''ã€‚

å¯¹äºListï¼Œé»˜è®¤æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆé˜Ÿå°¾ï¼‰ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}apple\textquotesingle{}}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(a.pop()) }\CommentTok{\# è·å–æœ€åä¸ªå…ƒç´ ï¼Œå¹¶åˆ é™¤ã€‚}
\BuiltInTok{print}\NormalTok{(a) }\CommentTok{\# æœ€åä¸€ä¸ªå…ƒç´ å·²ç»åˆ é™¤}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
e
['a', 'p', 'p', 'l']
\end{verbatim}

ä¹Ÿå¯ä»¥æŒ‡å®šindexï¼Œæ¯”å¦‚æ‹¿å‡º1å·å…ƒç´ ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(a.pop(}\DecValTok{1}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
p
['a', 'p', 'l']
\end{verbatim}

å¯¹äºDicï¼Œéœ€è¦æŒ‡å®škeyï¼Œpop()ä¼šè¿”å›valueï¼Œå¹¶ç§»é™¤è¿™ä¸ªkeyã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}a\textquotesingle{}}\NormalTok{: }\DecValTok{1}\NormalTok{, }\StringTok{\textquotesingle{}b\textquotesingle{}}\NormalTok{: }\DecValTok{2}\NormalTok{, }\StringTok{\textquotesingle{}c\textquotesingle{}}\NormalTok{: }\DecValTok{3}\NormalTok{\}}

\BuiltInTok{print}\NormalTok{(b.pop(}\StringTok{\textquotesingle{}b\textquotesingle{}}\NormalTok{)) }\CommentTok{\# è·å–\textquotesingle{}b\textquotesingle{}å¯¹åº”çš„valueï¼Œå¹¶åˆ é™¤\textquotesingle{}b\textquotesingle{}ã€‚}
\BuiltInTok{print}\NormalTok{(b) }\CommentTok{\# \textquotesingle{}b\textquotesingle{}å·²ç»åˆ é™¤}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2
{'a': 1, 'c': 3}
\end{verbatim}

\hypertarget{ux66f4ux591aux7ec3ux4e60-1}{%
\section{æ›´å¤šç»ƒä¹ }\label{ux66f4ux591aux7ec3ux4e60-1}}

ä»¥ä¸‹æ˜¯åŒå­¦çš„å§“åï¼Œå­¦å·å’Œè€ƒè¯•åˆ†æ•°çš„æ•°æ®

\begin{verbatim}
names = ["Alice", "Bob", "Clare"]
ids = [101,102,103]
scores = [85, 92, 78]
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ„å»ºä¸€ä¸ªå­—å…¸dataï¼Œå…¶ä¸­keyæ˜¯åå­—ï¼Œvalueæ˜¯å¦ä¸€ä¸ªå­—å…¸keyå’Œvalueæ˜¯idå’Œscoreä»¥åŠå¯¹åº”çš„å€¼ã€‚
\end{enumerate}

æ„å»ºå‡ºæ¥å¤§æ¦‚æ˜¯è¿™æ ·ï¼š
\texttt{\{\textquotesingle{}Alice\textquotesingle{}:\ \{\textquotesingle{}id\textquotesingle{}:\ 1,\ \textquotesingle{}score\textquotesingle{}:\ 85\},\ \ ...\}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\item
  å¯¹dataæŒ‰åˆ†æ•°æ’åºï¼Œé«˜åˆ†çš„åœ¨å‰é¢ã€‚
\item
  æ‰¾å‡ºåˆ†æ•°æœ€é«˜çš„åŒå­¦ï¼Œæ‰“å°``åˆ†æ•°æœ€é«˜çš„åŒå­¦æ˜¯: ??? ï¼Œå­¦å·æ˜¯???ï¼Œåˆ†æ•°æ˜¯ï¼š
  ???ã€‚''
\end{enumerate}

\hypertarget{ux5206ux6790ux8fc7ux7a0bux8303ux4f8b}{%
\chapter{åˆ†æè¿‡ç¨‹èŒƒä¾‹}\label{ux5206ux6790ux8fc7ux7a0bux8303ux4f8b}}

\hypertarget{ux6570ux636eux6d41ux5982ux4f55ux7ec4ux7ec7ux4f60ux7684ux4ee3ux7801}{%
\section{æ•°æ®æµï¼šå¦‚ä½•ç»„ç»‡ä½ çš„ä»£ç }\label{ux6570ux636eux6d41ux5982ux4f55ux7ec4ux7ec7ux4f60ux7684ux4ee3ux7801}}

å¦‚ä½•è®¾è®¡çš„ä¸€ä¸ªåˆ†æè¿‡ç¨‹ï¼Ÿæˆ‘ä»¬ç»§ç»­ç”¨å‰é¢æ¦¨æ±æœºçš„ä¾‹å­ã€‚

æŠŠä¸€ä¸ªè‹¹æœå˜æˆè‹¹æœæ±ï¼Œå‡å®šè¦3ä¸ªæ­¥éª¤ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å‰Šçš®
\item
  åˆ‡å—
\item
  æ¦¨æ±
\end{enumerate}

å¦‚æœæˆ‘ä»¬æŠŠæ¯ä¸ªè¿‡ç¨‹çœ‹æˆä¸€ä¸ªå‡½æ•°ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š

\begin{verbatim}
å‰Šäº†çš®çš„è‹¹æœ = å‰Šçš®(è‹¹æœ) 
è‹¹æœå— = åˆ‡å—(å‰Šäº†çš®çš„è‹¹æœ) 
è‹¹æœæ± = æ¦¨æ±(è‹¹æœå—) 
\end{verbatim}

æˆ‘ä»¬æ¢ä¸€ä¸ªæ–¹å¼å¯èƒ½çœ‹å¾—æ›´æ¸…æ¥šä¸€ç‚¹ï¼š

\begin{verbatim}

è‹¹æœ â”€â”
å‰Šçš®(è‹¹æœ) â”€â”€â”€â”€â”€â”€â”€â”
        åˆ‡å—(å‰Šäº†çš®çš„è‹¹æœ) â”€â”€â”€â”€â”€â”
                        æ¦¨æ±(è‹¹æœå—) â”€â”€â” 
                                    è‹¹æœæ±
\end{verbatim}

å…¶ä¸­æ¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œæ¯”å¦‚å‰Šçš®ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯èƒ½æ˜¯æ— æ•°ä»£ç ç»„æˆçš„æ¨¡å—ã€‚
æˆ‘ä»¬ç¼–å†™åˆ†ææµç¨‹çš„æ•´ä½“ï¼Œä»¥åŠæ¯ä¸€ä¸ªæ¨¡å—å†…éƒ¨ï¼Œä¹Ÿæ˜¯å‘ˆç°åŒæ ·çš„ç»“æ„ã€‚

å¦‚æœæœ‰å‚æ•°å‘¢ï¼Ÿæ¯”å¦‚åˆ‡å—çš„æ—¶å€™åˆ‡æˆ5å—ï¼Œç”¨æ¦¨æ±çš„æ—¶å€™ç”¨3æ¡£é€Ÿåº¦ï¼š

å¯ä»¥æŠŠæ•°æ®æµï¼ˆè‹¹æœ -\textgreater{} å‰Šäº†çš®çš„è‹¹æœ -\textgreater{}
è‹¹æœå—ï¼‰æ”¾åœ¨ç¬¬1ä¸ªå‚æ•°ä½ï¼Œå¤„ç†æ•°æ®çš„å‚æ•°æ”¾åœ¨ç¬¬äºŒä¸ªå‚æ•°ä½ä»¥åï¼š

\begin{verbatim}
è‹¹æœ â”€â”
å‰Šçš®(è‹¹æœ) â”€â”€â”€â”€â”€â”€â”€â”
      åˆ‡å—(å‰Šäº†çš®çš„è‹¹æœ, 5å—, ... ) â”€â”€â”€â”€â”€â”
                                  æ¦¨æ±(è‹¹æœå—, 3æ¡£è½¬é€Ÿ, ...) â”€â”€â” 
                                                            è‹¹æœæ±
\end{verbatim}

å› æ­¤ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  åˆ†æçš„æµç¨‹ä¸€èˆ¬å‘ˆç°ä¸€ç§æ•°æ®æµçš„ç»“æ„ï¼š
  æ¯ä¸€ä¸ªæ­¥éª¤ï¼Œæœ‰ä¸Šæ¸¸æ•°æ®çš„æµå…¥ï¼ˆå‚æ•°ï¼‰ï¼Œå½¢æˆæ–°çš„æ•°æ®ï¼ˆè¿”å›å€¼ï¼‰ï¼Œæˆä¸ºä¸‹æ¸¸æ•°æ®æµå…¥ï¼ˆå‚æ•°ï¼‰ã€‚
\item
  å¦‚æœå†™æˆå‡½æ•°ï¼Œï¼ˆ\textbf{æ¨èä½†éå¿…é¡»}ï¼‰ç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥æ˜¯æ•°æ®ï¼Œå¤„ç†æ•°æ®çš„å‚æ•°å¯ä»¥æ”¾åœ¨ç¬¬äºŒä½ä¹‹åã€‚
  å¦‚æœæ‰€æœ‰çš„å‡½æ•°éƒ½å‘ˆç°è¿™ç§ç»“æ„ï¼Œä½ å°±ä¼šå½¢æˆä¸€ç›´æ•°æ®æµçš„ç›´è§‰ã€‚
\item
  æ¯ä¸ªåŠŸèƒ½æ¨¡å—ï¼ˆ\textbf{å°½é‡}ï¼‰å†™æˆçº¯å‡½æ•°ï¼šä»å‚æ•°ä¸­æ¥å—è¾“å…¥ï¼ˆä¸è¯»å–å…¨å±€å˜é‡ï¼Œé¿å…è¢«æ„å¤–æ”¹å˜ï¼‰ï¼Œ
  è¿”å›æ–°çš„æ•°æ®ï¼ˆå°½é‡ä½†ä¸ç›´æ¥æ”¹å˜å‡½æ•°ä½“å¤–çš„äº‹ç‰©ï¼‰ï¼Œè¯¦è§å‰é¢çš„å‡½æ•°å¼ç¼–ç¨‹ã€‚
\end{enumerate}

\hypertarget{ux4eceux6570ux636eux5f00ux59cb}{%
\section{ä»æ•°æ®å¼€å§‹}\label{ux4eceux6570ux636eux5f00ux59cb}}

ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦ä¸€ä¸ªç¨‹åºæ¥å¤„ç†ç­çº§åŒå­¦çš„ä¿¡æ¯ã€‚æ¯ä¸ªåŒå­¦èµ·ç æœ‰è¿™å‡ ä¸ªä¿¡æ¯ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å­¦å·
\item
  å§“å
\item
  ä¸“ä¸š
\item
  ç­çº§å·
\end{enumerate}

è¡¨ç¤º1ä¸ªåŒå­¦ï¼š

ç”¨ç°åœ¨æ‰€å­¦çš„ä¿¡æ¯ï¼ˆäººçš„å±æ€§ï¼‰ï¼Œä¸€èˆ¬å¯ä»¥è¡¨ç¤ºæˆkey:valueç»“æ„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨å­—å…¸dictæ¥è¡¨ç¤ºä»»ä½•ä¸€ä¸ªåŒå­¦ã€‚
ï¼ˆå½“ç„¶æ–¹æ³•å¾ˆå¤šï¼Œåé¢ä¼šå­¦åˆ°ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{student\_1 }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}student\_id\textquotesingle{}}\NormalTok{:}\DecValTok{2021001}\NormalTok{, }\StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{:}\StringTok{\textquotesingle{}Alex\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}major\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}finance\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{:}\DecValTok{1}\NormalTok{\}}
\NormalTok{student\_2 }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}student\_id\textquotesingle{}}\NormalTok{:}\DecValTok{2021002}\NormalTok{, }\StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{:}\StringTok{\textquotesingle{}Bob\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}major\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}finance\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{:}\DecValTok{1}\NormalTok{\}}
\NormalTok{student\_3 }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}student\_id\textquotesingle{}}\NormalTok{:}\DecValTok{2021003}\NormalTok{, }\StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{:}\StringTok{\textquotesingle{}Clare\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}major\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}accounting\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{:}\DecValTok{2}\NormalTok{\}}


\BuiltInTok{print}\NormalTok{(student\_1[}\StringTok{\textquotesingle{}student\_id\textquotesingle{}}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(student\_2[}\StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(student\_3[}\StringTok{\textquotesingle{}major\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2021001
Bob
accounting
\end{verbatim}

è¡¨ç¤ºæ‰€æœ‰åŒå­¦ï¼š

ç»„ç»‡ä¸€å †åŒç±»æ•°æ®ï¼šListï¼ˆæˆ–è€…å¦ä¸€ä¸ªDictï¼Œå¦‚æœéœ€è¦ä¸€ä¸ªç´¢å¼•å¦‚å­¦å·ï¼Œè§ä½œä¸šï¼‰ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Listç‰ˆæœ¬}

\NormalTok{students\_info }\OperatorTok{=}\NormalTok{ [}
\NormalTok{  student\_1,}
\NormalTok{  student\_2,}
\NormalTok{  student\_3}
\NormalTok{]}

\BuiltInTok{print}\NormalTok{(students\_info)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[{'student_id': 2021001, 'name': 'Alex', 'major': 'finance', 'class_id': 1}, {'student_id': 2021002, 'name': 'Bob', 'major': 'finance', 'class_id': 1}, {'student_id': 2021003, 'name': 'Clare', 'major': 'accounting', 'class_id': 2}]
\end{verbatim}

\hypertarget{ux6dfbux52a0ux529fux80fd}{%
\section{æ·»åŠ åŠŸèƒ½}\label{ux6dfbux52a0ux529fux80fd}}

\hypertarget{ux67e5ux627e}{%
\subsection{æŸ¥æ‰¾}\label{ux67e5ux627e}}

æ˜¾ç„¶æŒ‰æ¡ä»¶æŸ¥æ‰¾æ˜¯å¿…é¡»æœ‰çš„åŠŸèƒ½ã€‚

ä¾‹å¦‚ï¼šåœ¨æ•°æ®ä¸­æ‰¾ä¸€ä½åå«Alexçš„åŒå­¦ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ—¢ç„¶students\_infoæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œé‚£æˆ‘ä»¬å°±ç”¨åˆ—è¡¨æ¨å¯¼å¼ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=}\NormalTok{ [s }\ControlFlowTok{for}\NormalTok{ s }\KeywordTok{in}\NormalTok{ students\_info }\ControlFlowTok{if}\NormalTok{ s[}\StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \StringTok{"Alex"}\NormalTok{]}

\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[{'student_id': 2021001, 'name': 'Alex', 'major': 'finance', 'class_id': 1}]
\end{verbatim}

æ³¨æ„ï¼šåˆ—è¡¨æ¨å¯¼å¼çš„ç»“æœï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå³ä½¿å…¶ä¸­åªæœ‰1ä¸ªå…ƒç´ ã€‚çœ‹æ‰“å°çš„æœ€2è¾¹æ˜¯ä¸­æ‹¬å·ã€‚

é‚£ä¹ˆæœ‰å¤šå°‘ä¸ªåŒå­¦å«Alex?

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{len}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
1
\end{verbatim}

é‚£æˆ‘ä»¬å¯ä»¥è·å¾—Alexçš„ä¿¡æ¯ï¼Œä¾‹å¦‚å­¦å·å’Œä¸“ä¸š

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(result[}\DecValTok{0}\NormalTok{][}\StringTok{\textquotesingle{}student\_id\textquotesingle{}}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(result[}\DecValTok{0}\NormalTok{][}\StringTok{\textquotesingle{}major\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2021001
finance
\end{verbatim}

æŒ‰äººåæŸ¥æ‰¾ï¼Œæ˜¯ä¸€ä¸ªç‰¹åˆ«å¸¸ç”¨çš„åŠŸèƒ½ï¼Œé‚£æˆ‘ä»¬æŠŠè¿™ä¸ªåŠŸèƒ½å†™æˆä¸€ä¸ªå‡½æ•°ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ find\_students\_by\_name(data, name):}
    \CommentTok{"""}
\CommentTok{    æŒ‰å§“åæŸ¥æ‰¾åŒå­¦ã€‚}

\CommentTok{    å‚æ•°:}
\CommentTok{        data: ä¿å­˜æ‰€æœ‰åŒå­¦ä¿¡æ¯çš„æ•°æ®List[dict]}
\CommentTok{        name: ç›®æ ‡çš„å§“å}
\CommentTok{    è¿”å›å€¼:}
\CommentTok{        return: è¿”å›åŒååŒå­¦çš„Listã€‚å¦‚æœæ‰¾ä¸åˆ°åˆ™è¿”å›[]ã€‚}
\CommentTok{    """}
\NormalTok{    result }\OperatorTok{=}\NormalTok{ [s }\ControlFlowTok{for}\NormalTok{ s }\KeywordTok{in}\NormalTok{ data }\ControlFlowTok{if}\NormalTok{ s[}\StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{ name]}
    \ControlFlowTok{return}\NormalTok{ result}

\NormalTok{result }\OperatorTok{=}\NormalTok{ find\_students\_by\_name(students\_info,}\StringTok{"Alex"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[{'student_id': 2021001, 'name': 'Alex', 'major': 'finance', 'class_id': 1}]
\end{verbatim}

ä¸ºä»€ä¹ˆè¦æŠŠä¸€ä¸ªè¿‡ç¨‹å†™æˆä¸€ä¸ªå‡½æ•°ï¼Ÿ

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¸¸ç”¨ï¼šdon't repeat
  yourselfã€‚å¸¸ç”¨çš„ä»£ç æ¨èåŒ…è£…èµ·æ¥ï¼Œèµ·ä¸€ä¸ªé¡¾åæ€ä¹‰çš„åå­—ã€‚
\item
  å¤æ‚çš„ä»£ç ï¼šç¼–å†™è‰¯å¥½çš„å‡½æ•°ï¼Œå¯ä»¥è®©ä½ å…³æ³¨äºæ¥å£å’ŒåŠŸèƒ½ï¼ˆå‡½æ•°åã€å‚æ•°ã€è¿”å›å€¼ï¼‰ï¼šä½ æŒ‰ä¸€ä¸‹é¥æ§ï¼Œç”µè§†æœºå°±ä¼šå¼€ï¼Œä¸­é—´çš„è¿‡ç¨‹ä½ å®Œå…¨ä¸æƒ³çŸ¥é“ã€‚
\end{enumerate}

\hypertarget{ux7ec3ux4e60ux6309ux5b66ux53f7ux67e5ux627e}{%
\subsection{ç»ƒä¹ ï¼šæŒ‰å­¦å·æŸ¥æ‰¾}\label{ux7ec3ux4e60ux6309ux5b66ux53f7ux67e5ux627e}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æŒ‰å­¦å·æŸ¥æ‰¾ï¼Œä½†å­¦å·æ˜¯å”¯ä¸€çš„ï¼Œå› æ­¤é€»è¾‘ä¸Šåªèƒ½æœ‰ä¸€ä¸ªæ•°æ®ã€‚
\item
  å› æ­¤ï¼Œè·å¾—çš„æ•°æ®ä¹‹åï¼Œä¸è¿”å›åˆ—è¡¨ï¼Œåªè¿”å›ä»£è¡¨å­¦ç”Ÿçš„dictã€‚
\item
  å¦‚æœå­¦å·æœ‰é‡å¤ï¼Œæ‰“å°ä¸€ä¸ªè­¦å‘Šä¿¡æ¯ï¼š``å­¦å·æœ‰é‡å¤ï¼è¯·æ£€æŸ¥ï¼''
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ find\_student\_by\_id(data, student\_id):}
  \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{  æŒ‰å­¦å·æŸ¥æ‰¾åŒå­¦}
\CommentTok{  \textquotesingle{}\textquotesingle{}\textquotesingle{}}
  \ControlFlowTok{pass} \CommentTok{\# è¿™éƒ¨åˆ†ç”±ä½ å®Œæˆ}

\NormalTok{result }\OperatorTok{=}\NormalTok{ find\_student\_by\_id(students\_info, }\DecValTok{2021002}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(result)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
None
\end{verbatim}

\hypertarget{ux7b80ux5355ux7edfux8ba1}{%
\subsection{ç®€å•ç»Ÿè®¡}\label{ux7b80ux5355ux7edfux8ba1}}

ç»Ÿè®¡ä¸€ä¸‹ï¼Œé‡‘èä¸“ä¸šæœ‰å¤šå°‘äººï¼Ÿ

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å…ˆç­›é€‰ï¼ˆåˆ©ç”¨ä¸Šé¢çš„çŸ¥è¯†ï¼‰
\item
  å†ç®—æ•°
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{finance\_students }\OperatorTok{=}\NormalTok{ [s }\ControlFlowTok{for}\NormalTok{ s }\KeywordTok{in}\NormalTok{ students\_info }\ControlFlowTok{if}\NormalTok{ s[}\StringTok{\textquotesingle{}major\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \StringTok{\textquotesingle{}finance\textquotesingle{}}\NormalTok{]}

\BuiltInTok{len}\NormalTok{(finance\_students)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2
\end{verbatim}

å½“ç„¶ï¼Œä¹Ÿå¯ä»¥å†™ä¸ª2å‡½æ•°ï¼šåŒæ ·ï¼Œå…ˆæŸ¥æ‰¾ï¼Œåœ¨ç»Ÿè®¡

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ find\_students\_by\_major(data, major):}
  \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{  æŒ‰ä¸“ä¸šæŸ¥æ‰¾åŒå­¦}
\CommentTok{  \textquotesingle{}\textquotesingle{}\textquotesingle{}}
\NormalTok{  result }\OperatorTok{=}\NormalTok{ [s }\ControlFlowTok{for}\NormalTok{ s }\KeywordTok{in}\NormalTok{ data }\ControlFlowTok{if}\NormalTok{ s[}\StringTok{\textquotesingle{}major\textquotesingle{}}\NormalTok{] }\OperatorTok{==}\NormalTok{ major]}
  \ControlFlowTok{return}\NormalTok{ result}

\KeywordTok{def}\NormalTok{ count\_by\_major(data, majoy):}
  \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{  è®¡ç®—ä¸“ä¸šçš„åŒå­¦äººæ•°}
\CommentTok{  \textquotesingle{}\textquotesingle{}\textquotesingle{}}
\NormalTok{  class\_size }\OperatorTok{=} \BuiltInTok{len}\NormalTok{(find\_students\_by\_major(data,majoy))}
  \ControlFlowTok{return}\NormalTok{ class\_size}

\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}é‡‘èä¸“ä¸šäººæ•°:\textquotesingle{}}\NormalTok{, count\_by\_major(students\_info, }\StringTok{\textquotesingle{}finance\textquotesingle{}}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}ä¼šè®¡ä¸“ä¸šäººæ•°:\textquotesingle{}}\NormalTok{, count\_by\_major(students\_info, }\StringTok{\textquotesingle{}accounting\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
é‡‘èä¸“ä¸šäººæ•°: 2
ä¼šè®¡ä¸“ä¸šäººæ•°: 1
\end{verbatim}

å°ç»“ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ``ä¸€ä½åŒå­¦''çš„ä¿¡æ¯å¯ä»¥ç”¨å­—å…¸Dictï¼šå¯ä»¥ç”¨\texttt{student\_id}ç­‰æ ‡ç­¾ï¼Œæ¥è·å–è¯¥åŒå­¦ä¿¡æ¯ã€‚
\item
  ``æ‰€æœ‰åŒå­¦''çš„ä¿¡æ¯å¯ä»¥ç”¨åˆ—è¡¨Listï¼šæ‰€æœ‰åŒå­¦ï¼Œå¯ä»¥çœ‹ä½œä¸€ä¸ªæœ‰åºçš„é˜Ÿåˆ—ï¼Œè‡ªç„¶å¯ä»¥é‡‡ç”¨Listã€‚å¤§é‡çš„åˆ—è¡¨æ“ä½œï¼Œä¾¿äºæˆ‘ä»¬è¿›è¡ŒæŸ¥æ‰¾ã€ç­›é€‰ã€ç»Ÿè®¡ç­‰ç­‰ã€‚
\item
  å¸¸ç”¨çš„æ“ä½œï¼Œå¯ä»¥å†™æˆå‡½æ•°ã€‚æ—¢ä¾¿äºä½¿ç”¨ï¼Œåˆå¯ä»¥é€šè¿‡å‡½æ•°åå¾—çŸ¥æ“ä½œçš„æ„å›¾ï¼Œä¸€ç›®äº†ç„¶ã€‚
\item
  å‡½æ•°åï¼Œåº”è¯¥é¡¾åæ€ä¹‰ã€‚å‡½æ•°ä½“çš„å¼€å¤´ï¼Œå¿…é¡»å†™å‡½æ•°çš„è¯´æ˜ï¼Œå¦‚ä½œç”¨ï¼Œç®—æ³•ç­‰ã€‚
\end{enumerate}

\hypertarget{ux7efcux5408ux7ec3ux4e60}{%
\section{ç»¼åˆç»ƒä¹ }\label{ux7efcux5408ux7ec3ux4e60}}

æœ¬ç« çš„å†…å®¹ï¼Œæœ¬è´¨ä¸Šæ˜¯é’ˆå¯¹ä¸€äº›åŸºç¡€çš„ä¿¡æ¯ï¼ˆä¸‰ä¸ªåŒå­¦çš„ä¿¡æ¯ï¼‰ï¼Œæ„é€ å‡ºæ•°æ®ç»“æ„ï¼ˆList-Dictï¼‰ï¼Œå¹¶ä¸”æ·»åŠ å¤„ç†æ•°æ®çš„åŠŸèƒ½ï¼ˆå„ç§å‡½æ•°ï¼‰ã€‚

ä»¥ä¸‹ç»ƒä¹ ï¼Œè¦æ±‚ä½ \textbf{ç»§ç»­}è¿™ä¸ªè¿‡ç¨‹ï¼šåœ¨ä¸Šè¿°å†…å®¹çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ æ–°çš„ä¿¡æ¯å’Œæ–°çš„åŠŸèƒ½ã€‚

\hypertarget{ux6dfbux52a0pythonux8bfeux5206ux6570}{%
\subsection{æ·»åŠ pythonè¯¾åˆ†æ•°}\label{ux6dfbux52a0pythonux8bfeux5206ux6570}}

é—®é¢˜ï¼šæŒ‰å­¦å·\texttt{student\_id}ï¼Œæ·»åŠ åŒå­¦çš„pythonè¯¾åˆ†æ•°\texttt{python\_score}

çŸ¥è¯†ç‚¹ï¼šListå’ŒDictçš„èµ‹å€¼ï¼Œå¾ªç¯æˆ–è€…åˆ—è¡¨æ¨å¯¼å¼

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å†™ä¸€ä¸ªæ‰‹åŠ¨ç‰ˆ
\item
  å†™ä¸€ä¸ªå‡½æ•°ç‰ˆ
\end{enumerate}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& student\_id & name & python\_score \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2021001 & Alex & 86 \\
1 & 2021002 & Bob & 59 \\
2 & 2021003 & Clare & 92 \\
\end{longtable}

æ€è·¯ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ``ä¸€ä¸ªåŒå­¦''çš„ä¿¡æ¯ï¼Œæ˜¯ä»¥dictçš„å½¢å¼ä¿å­˜ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ç»™dictæ·»æ–°çš„key-valueã€‚
\item
  å›å¿†ï¼šListå’ŒDictéƒ½æ˜¯å¯å˜å¯¹è±¡ï¼Œä½ å¯ä»¥ç›´æ¥å¯¹Listä¸­çš„Dictä¸­çš„keyèµ‹å€¼ï¼
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ set\_python\_score(data, student\_id, score):}
  \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{  è®¾ç½®pythonè¯¾çš„åˆ†æ•°}
\CommentTok{  \textquotesingle{}\textquotesingle{}\textquotesingle{}}
  \ControlFlowTok{pass} \CommentTok{\# è¿™é‡Œç”±ä½ å®Œæˆ}

\NormalTok{set\_python\_score(students\_info,}\DecValTok{2021001}\NormalTok{,}\DecValTok{90}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{ux7b80ux5355ux7edfux8ba1-1}{%
\subsection{ç®€å•ç»Ÿè®¡}\label{ux7b80ux5355ux7edfux8ba1-1}}

é—®é¢˜ï¼šç»Ÿè®¡pythonè¯¾çš„æ‰€æœ‰åŒå­¦çš„å¹³å‡åˆ†ï¼Œä»¥åŠåˆ†ç­çº§çš„å¹³å‡åˆ†ã€‚

çŸ¥è¯†ç‚¹ï¼šå¾ªç¯æˆ–è€…åˆ—è¡¨æ¨å¯¼å¼ï¼Œç´¯åŠ ï¼Œç®€å•è®¡ç®—

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ‰‹åŠ¨ç‰ˆ
\item
  å‡½æ•°ç‰ˆ
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ get\_avg\_python\_score(data):}
  \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{  ç»Ÿè®¡pythonè¯¾çš„å¹³å‡åˆ†}
\CommentTok{  \textquotesingle{}\textquotesingle{}\textquotesingle{}}
  \ControlFlowTok{pass} \CommentTok{\# è¿™é‡Œç”±ä½ å®Œæˆ}

\KeywordTok{def}\NormalTok{ get\_avg\_python\_score\_by\_class(data,  class\_id):}
  \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{  æŒ‰ç­çº§ï¼Œç»Ÿè®¡pythonè¯¾çš„å¹³å‡åˆ†}
\CommentTok{  \textquotesingle{}\textquotesingle{}\textquotesingle{}}
  \ControlFlowTok{pass} \CommentTok{\# è¿™é‡Œç”±ä½ å®Œæˆ}
\end{Highlighting}
\end{Shaded}

\hypertarget{ux7531ux5206ux6570ux83b7ux5f97ux8bc4ux7ea7}{%
\subsection{ç”±åˆ†æ•°è·å¾—è¯„çº§}\label{ux7531ux5206ux6570ux83b7ux5f97ux8bc4ux7ea7}}

é—®é¢˜ï¼šæŒ‰ç…§åˆ†æ•°ï¼Œç»™åŒå­¦æ·»åŠ ä¸€ä¸ª\texttt{rank}çš„å˜é‡ã€‚

çŸ¥è¯†ç‚¹ï¼š\texttt{if}æ¡ä»¶åˆ¤æ–­ï¼ŒListå’ŒDictçš„èµ‹å€¼

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  90åˆ†+ï¼Œ``A''
\item
  80åˆ†+ï¼Œ``B''
\item
  70åˆ†+ï¼Œ``C''
\item
  60åˆ†+ï¼Œ``D''
\item
  ä¸è¶³60åˆ†ï¼Œ``E''
\end{enumerate}

\hypertarget{ux5224ux65adux662fux5426ux53caux683c}{%
\subsection{åˆ¤æ–­æ˜¯å¦åŠæ ¼}\label{ux5224ux65adux662fux5426ux53caux683c}}

é—®é¢˜ï¼šæŒ‰ç…§åˆ†æ•°ï¼Œç»™åŒå­¦æ·»åŠ ä¸€ä¸ª\texttt{pass}çš„å˜é‡ã€‚60åˆ†ä»¥ä¸Šä¸ºåŠæ ¼

çŸ¥è¯†ç‚¹ï¼š\texttt{if}æ¡ä»¶åˆ¤æ–­ï¼ŒListå’ŒDictçš„èµ‹å€¼ï¼Œå¸ƒå°”å€¼

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ‰‹åŠ¨ç‰ˆ
\item
  å‡½æ•°ç‰ˆ
\item
  ç»Ÿè®¡åŠæ ¼ç‡
\end{enumerate}

\hypertarget{ux4fe1ux606fux8f93ux51fa}{%
\subsection{ä¿¡æ¯è¾“å‡º}\label{ux4fe1ux606fux8f93ux51fa}}

é—®é¢˜ï¼šä»¥å­—ç¬¦ä¸²çš„å½¢å¼ï¼Œè¾“å‡ºæŸä¸€ä¸ªåŒå­¦çš„ä¿¡æ¯ï¼ˆé€šè¿‡å­¦å·ï¼‰

çŸ¥è¯†ç‚¹ï¼šå¾ªç¯æˆ–åˆ—è¡¨æ¨å¯¼å¼ï¼Œå­—ç¬¦ä¸²æ“ä½œã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¾“å‡ºçš„ç»“æœç±»ä¼¼ï¼š ``å­¦å·ï¼š ???? ï¼› å§“åï¼š??? ï¼› ç­çº§ ??? \ldots{}
  \ldots{}''ã€‚å…¶ä¸­ï¼Œç­çº§ä¿¡æ¯è¦è¾“å‡º''ä¸“ä¸š ç­çº§å·''çš„å½¢å¼ï¼Œå¦‚``é‡‘è 5ç­''
\item
  æ‰‹åŠ¨ç‰ˆ
\item
  å‡½æ•°ç‰ˆ
\item
  å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å‡ºä¸åŠæ ¼çš„åŒå­¦çš„ä¿¡æ¯
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ print\_by\_student\_id(data, student\_id):}
  \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{  æ‰“å°åŒå­¦ä¿¡æ¯}
\CommentTok{  \textquotesingle{}\textquotesingle{}\textquotesingle{}}
  \ControlFlowTok{pass} \CommentTok{\# è¿™é‡Œç”±ä½ å®Œæˆ}

\KeywordTok{def}\NormalTok{ print\_failed(data):}
  \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{  æ‰“å°ä¸åŠæ ¼çš„åŒå­¦çš„ä¿¡æ¯}
\CommentTok{  \textquotesingle{}\textquotesingle{}\textquotesingle{}}
  \ControlFlowTok{pass} \CommentTok{\# è¿™é‡Œç”±ä½ å®Œæˆ}
\end{Highlighting}
\end{Shaded}

\hypertarget{ux6a21ux5757}{%
\chapter{æ¨¡å—}\label{ux6a21ux5757}}

ä¸€ä¸ª\texttt{.py}æ–‡ä»¶ï¼Œå°±æ˜¯ä¸€ä¸ªæ¨¡å—moduleï¼Œé‡Œé¢çš„å‡½æ•°ã€å˜é‡ç­‰ç­‰ï¼Œå¯ä»¥è¢«å…¶ä»–ä»£ç æ‰€è°ƒç”¨ã€‚
ï¼ˆä¸€ä¸ªæœ‰å¤šä¸ª\texttt{.py}æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œä½†æ˜¯è¿™é‡Œç•¥è¿‡ï¼‰

å†™ä»»ä½•ä¸€ä¸ªç¨‹åºä¹‹å‰ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šå°½é‡è°ƒç”¨ç”¨åˆ«äººå†™å¥½çš„ä»£ç ï¼ˆåˆ«äººå†™å¥½çš„ä¸ç”¨ç™½ä¸ç”¨ï¼‰ï¼Œè¿™äº›ä»£ç ä¸€èˆ¬ä¹Ÿæ˜¯ç”¨æ¨¡å—çš„å½¢å¼ç»„ç»‡ã€‚åŒ…æ‹¬æˆ‘ä»¬åé¢ä¸»è¦ç”¨åˆ°çš„æ•°æ®åˆ†æä¸‰ä»¶å¥—ã€‚

\hypertarget{ux5f15ux5165ux6a21ux5757}{%
\section{å¼•å…¥æ¨¡å—}\label{ux5f15ux5165ux6a21ux5757}}

Pythonä½œä¸ºä¸€ä¸ªå‘å±•äº†å¾ˆå¤šå¹´çš„æµè¡Œçš„å˜æˆè¯­è¨€ï¼Œè‡ªå¸¦éå¸¸å¤šçš„æ¨¡å—ã€‚æˆ‘ä»¬å®‰è£…çš„Anacondaï¼Œä¹Ÿæ ¼å¤–æŠŠå¾ˆå¤šæ•°æ®åˆ†æã€ç§‘å­¦è®¡ç®—ç­‰ç­‰çš„æ¨¡å—æ‰“åŒ…åœ¨ä¸€èµ·ã€‚

ä¾‹å¦‚ç”¨äºæ•°å­¦è¿ç®—çš„\texttt{math}ï¼Œè¿™æ˜¯Pythonè‡ªå¸¦çš„æ¨¡å—ï¼Œå…¶ä¸­æœ‰å¤§é‡æ•°å­¦å‡½æ•°ï¼ˆé¡¾åæ€ä¹‰ï¼‰ï¼Œä¾‹å¦‚å¼€å¹³æ–¹æ ¹\texttt{sqrt}å°±åœ¨å…¶ä¸­ã€‚

\hypertarget{importux8bedux8a00}{%
\subsection{importè¯­è¨€}\label{importux8bedux8a00}}

å¼•å…¥æ¨¡å—ä¹Ÿå¾ˆç®€å•

\begin{verbatim}
import <æ¨¡å—å>
import <æ¨¡å—å> as <ç®€ç§°>
\end{verbatim}

æ³¨æ„ï¼šåªè¦importä¸€æ¬¡ï¼Œå³å¯ä¸€ç›´ä½¿ç”¨ï¼Œå› æ­¤ä¸€èˆ¬æˆ‘ä»¬å¯ä»¥æ”¾åœ¨ä»£ç çš„æœ€å‰é¢ã€‚

æˆ‘ä»¬å¯ä»¥ç”¨\texttt{\textless{}æ¨¡å—å\textgreater{}.\textless{}å‡½æ•°å/å˜é‡å\textgreater{}}æ¥è°ƒç”¨é‡Œé¢çš„å‡½æ•°æˆ–è€…å˜é‡ï¼Œä¾‹å¦‚æˆ‘ä»¬è¦è°ƒç”¨\texttt{math}æ¨¡å—ä¸‹çš„å¹³æ–¹æ ¹\texttt{sqrt()}ã€‚

æ­¤æ—¶ï¼Œæ¨¡å—å†…éƒ¨çš„æ‰€æœ‰ä¸œè¥¿ï¼ˆå‡½æ•°ã€å˜é‡ç­‰ï¼‰ï¼Œéƒ½å¿…é¡»é€šè¿‡\texttt{\textless{}æ¨¡å—å\textgreater{}.}æ¥è°ƒç”¨ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ math }\CommentTok{\# å¼•å…¥æ¨¡å—}
\BuiltInTok{print}\NormalTok{(math.sqrt(}\DecValTok{4}\NormalTok{)) }\CommentTok{\# è°ƒç”¨æ¨¡å—å†…éƒ¨çš„ä¸€ä¸ªå‡½æ•°sqrt()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2.0
\end{verbatim}

æˆ–è€…\texttt{math}ä¸­çš„åœ†å‘¨ç‡ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(math.pi)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
3.141592653589793
\end{verbatim}

ä¹Ÿå¯ä»¥é‡‡ç”¨ç®€ç§°æˆ–è€…ç¼©å†™ï¼Œæ¯”å¦‚æˆ‘ä»¬åé¢ç”¨åˆ°çš„Numpyï¼Œä¹ æƒ¯ä¸Šç¼©å†™æˆnp

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np }
\BuiltInTok{print}\NormalTok{(np.sqrt(}\DecValTok{4}\NormalTok{)) }\CommentTok{\# Numpyä¹Ÿæœ‰è‡ªå·±çš„å¼€æ–¹å‡½æ•°ï¼åé¢ä¼šè®²}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2.0
\end{verbatim}

\hypertarget{ux5f15ux5165ux5230ux5f53ux524dux540dux5b57ux7a7aux95f4}{%
\subsection{å¼•å…¥åˆ°å½“å‰åå­—ç©ºé—´}\label{ux5f15ux5165ux5230ux5f53ux524dux540dux5b57ux7a7aux95f4}}

è¿™ç§æ–¹æ³•è®©æ¨¡å—å†…éƒ¨çš„å‡½æ•°æˆ–è€…å˜é‡åï¼Œç›´æ¥å‡ºç°åœ¨å½“å‰åå­—ç©ºé—´ä¸­ï¼ˆè°ƒç”¨çš„ä½¿ç”¨ä¸ç”¨å†æŒ‚ç€æ¨¡å—çš„åå­—ï¼‰ã€‚å¦‚æœè¿™ä¸ªæ¨¡å—ä¸‹çš„æŸäº›ä¸œè¥¿ç‰¹åˆ«å¸¸ç”¨ï¼Œè¿™æ ·å¯ä»¥å°‘æ‰“ä¸€äº›å­—ã€‚

\begin{verbatim}
from <æ¨¡å—å> import <å‡½æ•°/å˜é‡å> as ç®€ç§°
\end{verbatim}

è¿˜æ˜¯å¼•å…¥mathä¸­çš„å¼€å¹³æ–¹å‡½æ•°\texttt{sqrt}ï¼Œå¯èƒ½ä½ çš„ä»£ç ä¸­ä½¿ç”¨ç‰¹åˆ«å¤šï¼Œæ‰€ä»¥æ‡’å¾—æ‰“\texttt{math.sqrt()}ï¼Œåªæƒ³æ‰“\texttt{sqrt()}

åŒæ ·ï¼Œimportä¸€æ¬¡ï¼Œåç»­å³å¯ä¸€ç›´ä½¿ç”¨ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ math }\ImportTok{import}\NormalTok{ sqrt}
\BuiltInTok{print}\NormalTok{(sqrt(}\DecValTok{9}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(sqrt(}\DecValTok{4}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
3.0
2.0
\end{verbatim}

è¿˜å¯ä»¥ä¸€æ¬¡æ€§å¼•å…¥æ¨¡å—ä¸‹çš„æ‰€æœ‰åå­—

\begin{verbatim}
from <æ¨¡å—å> import *
\end{verbatim}

è¿™æ ·ä½ å¼•ç”¨æ¨¡å—ä¸‹çš„æ‰€æœ‰å¯¹è±¡ï¼Œéƒ½ä¸å¿…é€šè¿‡æ¨¡å—åæ¥è°ƒç”¨ã€‚

\textbf{æ³¨æ„ï¼š}
è¿™ç§æ–¹å¼ä¸€èˆ¬ä¸æ¨èã€‚ä¸€ä¸ªæ¨¡å—é‡Œé¢å¯èƒ½æœ‰å¤§é‡å‡½æ•°å’Œå­æ¨¡å—ã€‚é™¤éä½ å¾ˆæ˜ç™½è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œå¦åˆ™å¼•å…¥å¤§é‡çš„ä½ å¯èƒ½ç”¨ä¸åˆ°ï¼Œç”šè‡³ä¸çŸ¥é“å­˜åœ¨çš„ä¸œè¥¿ï¼Œä¸æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚

\hypertarget{pythonux90e8ux5206ux5e38ux7528ux6a21ux5757}{%
\section{Pythonéƒ¨åˆ†å¸¸ç”¨æ¨¡å—}\label{pythonux90e8ux5206ux5e38ux7528ux6a21ux5757}}

æ³¨æ„ï¼Œè¿™é‡Œåªæ˜¯å¸¸ç”¨æ¨¡å—çš„å†°å±±ä¸€è§’ã€‚é™¤äº†ä¸€äº›æ•…åæ€æ„çš„å‡½æ•°æ¯”å¦‚sqrt()ï¼Œä¸€èˆ¬æ˜¯ä¸ç”¨åˆ»æ„è®°å¿†ã€‚

\hypertarget{math}{%
\subsection{math}\label{math}}

å¸¸ç”¨çš„æ•°å­¦æ¨¡å—

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# éƒ¨åˆ†mathæ¨¡å—çš„å‡½æ•°}
\ImportTok{import}\NormalTok{ math}

\CommentTok{\# math.ceil(x): è¿”å›å¤§äºæˆ–ç­‰äº x çš„æœ€å°æ•´æ•°ã€‚}
\BuiltInTok{print}\NormalTok{(math.ceil(}\FloatTok{4.2}\NormalTok{))  }\CommentTok{\# è¾“å‡º 5}

\CommentTok{\# math.floor(x): è¿”å›å°äºæˆ–ç­‰äº x çš„æœ€å¤§æ•´æ•°ã€‚}
\BuiltInTok{print}\NormalTok{(math.floor(}\FloatTok{4.8}\NormalTok{))  }\CommentTok{\# è¾“å‡º 4}

\CommentTok{\# math.fabs(x): è¿”å› x çš„ç»å¯¹å€¼ã€‚}
\BuiltInTok{print}\NormalTok{(math.fabs(}\OperatorTok{{-}}\DecValTok{5}\NormalTok{))  }\CommentTok{\# è¾“å‡º 5.0}

\CommentTok{\# math.exp(x): è¿”å› e\^{}xã€‚}
\BuiltInTok{print}\NormalTok{(math.exp(}\DecValTok{1}\NormalTok{))  }\CommentTok{\# è¾“å‡º e}

\CommentTok{\# math.log(x[, base]): è¿”å› x çš„è‡ªç„¶å¯¹æ•°ï¼ˆåº•ä¸º eï¼‰æˆ–æŒ‡å®šåº•æ•°çš„å¯¹æ•°ã€‚}
\BuiltInTok{print}\NormalTok{(math.log(}\DecValTok{8}\NormalTok{, }\DecValTok{2}\NormalTok{))  }\CommentTok{\# è¾“å‡º 3.0}

\CommentTok{\# math.pow(x, y): è¿”å› x\^{}yã€‚}
\BuiltInTok{print}\NormalTok{(math.}\BuiltInTok{pow}\NormalTok{(}\DecValTok{2}\NormalTok{, }\DecValTok{3}\NormalTok{))  }\CommentTok{\# è¾“å‡º 8.0}

\CommentTok{\# math.sqrt(x): è¿”å› x çš„å¹³æ–¹æ ¹ã€‚}
\BuiltInTok{print}\NormalTok{(math.sqrt(}\DecValTok{16}\NormalTok{))  }\CommentTok{\# è¾“å‡º 4.0}

\CommentTok{\# math.sin(x): è¿”å› xï¼ˆå¼§åº¦ï¼‰çš„æ­£å¼¦ã€‚}
\BuiltInTok{print}\NormalTok{(math.sin(math.pi }\OperatorTok{/} \DecValTok{2}\NormalTok{))  }\CommentTok{\# è¾“å‡º 1.0}

\CommentTok{\# math.cos(x): è¿”å› xï¼ˆå¼§åº¦ï¼‰çš„ä½™å¼¦ã€‚}
\BuiltInTok{print}\NormalTok{(math.cos(}\DecValTok{0}\NormalTok{))  }\CommentTok{\# è¾“å‡º 1.0}


\CommentTok{\# math.pi: åœ†å‘¨ç‡ Ï€ã€‚}
\BuiltInTok{print}\NormalTok{(math.pi)  }\CommentTok{\# è¾“å‡º 3.141592653589793}

\CommentTok{\# math.e: è‡ªç„¶æ•° eã€‚}
\BuiltInTok{print}\NormalTok{(math.e)  }\CommentTok{\# è¾“å‡º 2.718281828459045}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
5
4
5.0
2.718281828459045
3.0
8.0
4.0
1.0
1.0
3.141592653589793
2.718281828459045
\end{verbatim}

\hypertarget{osux6a21ux5757}{%
\subsection{osæ¨¡å—}\label{osux6a21ux5757}}

å’Œæ“ä½œç³»ç»Ÿäº¤äº’ï¼Œå¤„ç†æ–‡ä»¶ç­‰ç­‰

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ os}
\CommentTok{\# è·å¾—å½“å‰ç›®å½•}
\BuiltInTok{print}\NormalTok{(}\StringTok{"å½“å‰å·¥ä½œç›®å½•æ˜¯ï¼š"}\NormalTok{, os.getcwd())}

\CommentTok{\# è·å¾—å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨}
\BuiltInTok{print}\NormalTok{(}\StringTok{"å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨ï¼š"}\NormalTok{, os.listdir())}

\CommentTok{\# æµ‹è¯•ä¸€ä¸ªè·¯å¾„ï¼ˆå¯ä»¥æ˜¯æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼‰æ˜¯å¦å­˜åœ¨}
\BuiltInTok{print}\NormalTok{(os.path.exists(}\StringTok{\textquotesingle{}æŸä¸ªæ–‡ä»¶.txt\textquotesingle{}}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\hypertarget{datetimeux6a21ux5757}{%
\subsection{datetimeæ¨¡å—}\label{datetimeux6a21ux5757}}

ç”¨æ¥å¤„ç†æ—¥æœŸå’Œæ—¶é—´

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# datetimeæ¨¡å—çš„ä¸€äº›å¸¸è§ç”¨æ³•}

\ImportTok{import}\NormalTok{ datetime}

\CommentTok{\# datetime.datetime.now(): è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´ã€‚}
\NormalTok{now }\OperatorTok{=}\NormalTok{ datetime.datetime.now()}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"å½“å‰çš„æ—¥æœŸæ˜¯å’Œæ—¶é—´æ˜¯: }\SpecialCharTok{\{}\NormalTok{now}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)  }\CommentTok{\# è¾“å‡ºå½“å‰æ—¥æœŸå’Œæ—¶é—´}

\CommentTok{\# datetime.date.today(): è·å–å½“å‰æ—¥æœŸã€‚}
\NormalTok{today }\OperatorTok{=}\NormalTok{ datetime.date.today()}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"å½“å‰çš„æ—¥æœŸæ˜¯: }\SpecialCharTok{\{}\NormalTok{today}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)  }\CommentTok{\# è¾“å‡ºå½“å‰æ—¥æœŸ}

\CommentTok{\# datetime.timedelta(): è¡¨ç¤ºæ—¶é—´é—´éš”ã€‚}
\CommentTok{\# åˆ›å»ºä¸€ä¸ªæ—¶é—´é—´éš”å¯¹è±¡ï¼Œè¡¨ç¤º1å¤©å’Œ5åˆ†é’Ÿã€‚}
\NormalTok{delta }\OperatorTok{=}\NormalTok{ datetime.timedelta(days}\OperatorTok{=}\DecValTok{1}\NormalTok{, minutes}\OperatorTok{=}\DecValTok{5}\NormalTok{)}

\CommentTok{\# æ—¶é—´åŠ å‡}
\NormalTok{future }\OperatorTok{=}\NormalTok{ now }\OperatorTok{+}\NormalTok{ delta  }\CommentTok{\# å½“å‰æ—¶é—´åŠ ä¸Šæ—¶é—´é—´éš”}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"1å¤©05åˆ†é’Ÿåçš„æ—¶é—´æ˜¯: }\SpecialCharTok{\{}\NormalTok{future}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)  }\CommentTok{\# è¾“å‡ºæœªæ¥çš„æ—¥æœŸå’Œæ—¶é—´}

\NormalTok{past }\OperatorTok{=}\NormalTok{ now }\OperatorTok{{-}}\NormalTok{ delta  }\CommentTok{\# å½“å‰æ—¶é—´å‡å»æ—¶é—´é—´éš”}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"1å¤©05åˆ†é’Ÿä¹‹å‰çš„æ—¶é—´æ˜¯: }\SpecialCharTok{\{}\NormalTok{past}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)  }\CommentTok{\# è¾“å‡ºè¿‡å»çš„æ—¥æœŸå’Œæ—¶é—´}

\CommentTok{\# datetime.datetime.strftime(): æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´ã€‚}
\NormalTok{formatted\_date }\OperatorTok{=}\NormalTok{ now.strftime(}\StringTok{"\%Y{-}\%m{-}}\SpecialCharTok{\%d}\StringTok{ \%H:\%M:\%S"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"æ—¶é—´æ ¼å¼åŒ–ï¼ˆæ³¨æ„ä¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰: }\SpecialCharTok{\{}\NormalTok{formatted\_date}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)  }\CommentTok{\# è¾“å‡ºæ ¼å¼åŒ–åçš„æ—¥æœŸå’Œæ—¶é—´}

\CommentTok{\# datetime.datetime.strptime(): ä»å­—ç¬¦ä¸²è§£ææ—¥æœŸå’Œæ—¶é—´ã€‚}
\NormalTok{parsed\_date }\OperatorTok{=}\NormalTok{ datetime.datetime.strptime(}\StringTok{"2022{-}01{-}01 12:34:56"}\NormalTok{, }\StringTok{"\%Y{-}\%m{-}}\SpecialCharTok{\%d}\StringTok{ \%H:\%M:\%S"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"ä»å­—ç¬¦ä¸²è§£æå‡ºæ—¥æœŸå’Œæ—¶é—´: }\SpecialCharTok{\{}\NormalTok{parsed\_date}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)  }\CommentTok{\# è¾“å‡ºä»å­—ç¬¦ä¸²è§£æå‡ºçš„æ—¥æœŸå’Œæ—¶é—´}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å½“å‰çš„æ—¥æœŸæ˜¯å’Œæ—¶é—´æ˜¯: 2023-12-20 06:58:32.028762
å½“å‰çš„æ—¥æœŸæ˜¯: 2023-12-20
1å¤©05åˆ†é’Ÿåçš„æ—¶é—´æ˜¯: 2023-12-21 07:03:32.028762
1å¤©05åˆ†é’Ÿä¹‹å‰çš„æ—¶é—´æ˜¯: 2023-12-19 06:53:32.028762
æ—¶é—´æ ¼å¼åŒ–ï¼ˆæ³¨æ„ä¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰: 2023-12-20 06:58:32
ä»å­—ç¬¦ä¸²è§£æå‡ºæ—¥æœŸå’Œæ—¶é—´: 2022-01-01 12:34:56
\end{verbatim}

æ³¨æ„ï¼šä¸Šè¿°ä¾‹å­ä¹Ÿè¡¨æ˜äº†ï¼Œdatetimeçš„å¯¹è±¡å’Œä¸€ä¸ªåŒ…å«äº†æ—¥æœŸçš„å­—ç¬¦ä¸²æ˜¯ä¸åŒçš„ã€‚ç±»æ¯”å°±æ˜¯æ•°å­—\texttt{1}å’Œå­—ç¬¦ä¸²\texttt{"1"}çš„åŒºåˆ«ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  datetimeï¼ˆæ—¥æœŸæ—¶é—´ï¼‰å¯ä»¥è·å¾—è¡¨è¾¾çš„æ—¥æœŸï¼Œæ—¶é—´ç­‰ç­‰ï¼Œå¯ä»¥å’Œdeltaï¼ˆæ—¶é—´é—´éš”ï¼‰ç›¸äº’åŠ å‡
\item
  æ—¥æœŸå­—ç¬¦ä¸²åªæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ã€‚
\item
  å¦‚æœè¦å¯¹æ—¥æœŸå­—ç¬¦ä¸²è¿›è¡Œæ—¶é—´è¿ç®—ï¼Œéœ€è¦è§£ææˆdatetimeï¼Œå†è¿ç®—ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ä¸Šè¿°èŒƒä¾‹ä»ä¸‹å¾€ä¸Šçš„åº”ç”¨ã€‚
\end{enumerate}

\hypertarget{ux5efaux7acbux4f60ux81eaux5df1ux7684ux6a21ux5757}{%
\section{å»ºç«‹ä½ è‡ªå·±çš„æ¨¡å—}\label{ux5efaux7acbux4f60ux81eaux5df1ux7684ux6a21ux5757}}

è¦å®Œæˆä¸€ä¸ªç‰¹å®šçš„é¡¹ç›®ï¼Œä½ å¯èƒ½è¦å†™ä¸è®¡å…¶æ•°ä»£ç ï¼Œæ²¡æœ‰ç†ç”±æŠŠè¿™ä¹ˆå¤šä»£ç éƒ½æ”¾åœ¨ä¸€ä¸ª\texttt{.py}æ–‡ä»¶ä¸‹ã€‚

ä¸€èˆ¬å¯ä»¥æŠŠç›¸å…³çš„ä»£ç æ”¾åœ¨ä¸€ä¸ª\texttt{.py}æ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨å…¶ä»–æ–‡ä»¶é‡Œç”¨æ¨¡å—çš„æ–¹å¼è°ƒç”¨ã€‚

ä¾‹å¦‚ï¼Œæˆ‘ä»¬å‰é¢å†™è¿‡ä¸€ä¸ª\texttt{add}å‡½æ•°ï¼Œå¯ä»¥æŠŠ2ä¸ªæ•°ç›¸åŠ ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ add(x,y):}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{+}\NormalTok{ y}

\BuiltInTok{print}\NormalTok{(add(}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
3
\end{verbatim}

ä¹Ÿå†™è¿‡ä¸€ä¸ªç¿»å€å‡½æ•°

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ do\_double(x):}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{*} \DecValTok{2}

\BuiltInTok{print}\NormalTok{(do\_double(}\DecValTok{2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
4
\end{verbatim}

è¿™2ä¸ªå‡½æ•°ï¼Œæ˜¾ç„¶éƒ½å¯ä»¥å½’ç±»ä¸ºè®¡ç®—å‡½æ•°ï¼Œæˆ‘ä»¬æŠŠä¸­2ä¸ªå‡½æ•°æ”¾åˆ°ä¸€ä¸ªä¸“é—¨çš„æ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚\texttt{my\_calc.py}

ä½ è¿˜å¯ä»¥ä¿å­˜å˜é‡ï¼Œä¾‹å¦‚\texttt{my\_pi\ =\ 3.14}

æ–°å»ºä¸€ä¸ªæ–‡ä»¶\texttt{my\_calc.py}ï¼ŒæŠŠä¸€ä¸‹å†…å®¹æ”¾è¿›å»ï¼Œå­˜ç›˜ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ add(x,y):}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{+}\NormalTok{ y}

\KeywordTok{def}\NormalTok{ do\_double(x):}
    \ControlFlowTok{return}\NormalTok{ x }\OperatorTok{*} \DecValTok{2}

\NormalTok{my\_pi }\OperatorTok{=} \FloatTok{3.14}
\end{Highlighting}
\end{Shaded}

åœ¨æˆ‘ä»¬åç»­çš„ä»»åŠ¡ä¸­ï¼Œå¦‚æœè¦è°ƒç”¨è¿™2ä¸ªå‡½æ•°ï¼Œæˆ–è€…ä½ è‡ªå·±å˜é‡\texttt{my\_pi}ï¼Œå°±å¯ä»¥ç”¨\texttt{Â·}import`

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ my\_calc}

\BuiltInTok{print}\NormalTok{(my\_calc.add(}\DecValTok{3}\NormalTok{,}\DecValTok{2}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(my\_calc.my\_pi)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
5
3.14
\end{verbatim}

å½“ç„¶ï¼Œå¦‚ç®€ç§°ã€ç›´æ¥å¯¼å…¥åç§°ç­‰ç­‰ï¼Œå’Œå‰è¿°ä¸€æ ·ã€‚

ä»¥åï¼Œä½ å°±å¯ä»¥æŒ‰ç…§ä½ è‡ªå·±é€»è¾‘ï¼Œå¦‚åŒç±»çš„å‡½æ•°ã€æ•°æ®ï¼Œå®Œå…¨ç‰¹å®šä»»åŠ¡éœ€è¦çš„ç»„ä»¶ç­‰ç­‰ï¼Œæ¥ç»„ç»‡è‡ªå·±çš„æ¨¡å—ã€‚

æŒ‰é€»è¾‘æŠŠä½ çš„ä»£ç åˆ†ç±»ç»„ç»‡ï¼Œæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚

\hypertarget{ux5305package}{%
\section{åŒ…package}\label{ux5305package}}

å¤šä¸ªæ¨¡å—å¯ä»¥ç»„æˆä¸€ä¸ªåŒ…ã€‚ï¼ˆç•¥ï¼‰

\hypertarget{ux9762ux5411ux5bf9ux8c61ux521dux6b65}{%
\chapter{é¢å‘å¯¹è±¡åˆæ­¥}\label{ux9762ux5411ux5bf9ux8c61ux521dux6b65}}

\begin{tcolorbox}[enhanced jigsaw, opacityback=0, left=2mm, coltitle=black, leftrule=.75mm, bottomtitle=1mm, arc=.35mm, opacitybacktitle=0.6, bottomrule=.15mm, breakable, colbacktitle=quarto-callout-note-color!10!white, toprule=.15mm, toptitle=1mm, colframe=quarto-callout-note-color-frame, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colback=white]

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  éœ€è¦è®²åŸºæœ¬æ¦‚å¿µ
\item
  æ—¶é—´å……è¶³å¯ä»¥è®²ç»§æ‰¿å’Œé‡è½½ç­‰
\end{enumerate}

\end{tcolorbox}

å‰é¢æˆ‘ä»¬è®²è¿‡ï¼Œåº”è¯¥å¦‚ä½•è®¾è®¡ä½ çš„æ•°æ®ç»“æ„ï¼Œå¦‚ä½•æŠŠæ“ä½œæ•°æ®çš„æ–¹æ³•å†™æˆå‡½æ•°ã€‚

åœ¨å‰é¢çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„æ•°æ®æ˜¯æš´éœ²çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ“ä½œæ•°æ®ï¼ˆæ¯”å¦‚å¯ä»¥ç›´æ¥æŠŠè€ƒè¯•æˆç»©è®¾æˆ1000åˆ†ï¼‰ã€‚ä½†ç°å®ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€å¸Œæœ›æŠŠæ•°æ®åŒ…è£…èµ·æ¥ï¼Œé¿å…ç›´æ¥æ“ä½œæ•°æ®ï¼Œè€Œæ˜¯å¸Œæœ›``ä½¿ç”¨æŒ‡å®šçš„æ–¹æ³•ï¼ˆæ¥å£ï¼‰æ¥æ“ä½œæ•°æ®''ã€‚

è¿™é‡Œä»‹ç»``é¢å‘å¯¹è±¡object orientedï¼ˆç®€ç§°OOï¼‰''çš„ç¼–ç¨‹èŒƒå¼/é£æ ¼ã€‚

\hypertarget{ux6982ux5ff5}{%
\section{æ¦‚å¿µ}\label{ux6982ux5ff5}}

\hypertarget{ux5c01ux88c5}{%
\subsection{å°è£…}\label{ux5c01ux88c5}}

\textbf{ä¸»è¦ç›®æ ‡}å°è£…æ€§ï¼šä¸è¦ç›´æ¥æ“ä½œæ•°æ®ï¼Œè¦é€šè¿‡æ¥å£æ¥æ“ä½œæ•°æ®ã€‚

æ•°æ®å’Œæ“ä½œæ•°æ®çš„æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰ç»‘å®šåœ¨ä¸€èµ·ï¼Œå¹¶ä¸”å¯¹å¤–åªç•™æŒ‡å®šçš„æ•°æ®æ¥å£ã€‚

è¿™æ„å‘³ç€ï¼Œä½ å¯¹æ•°æ®çš„æ“ä½œï¼Œåªèƒ½é€šè¿‡ç‰¹å®šçš„æ¥å£æ¥å¤„ç†ï¼Œè€Œä¸èƒ½ï¼ˆæœ‰æ—¶å€™å¯ä»¥ï¼Œä½†ä¸åº”è¯¥ï¼‰ï¼Œè¶Šè¿‡æ¥å£ï¼Œç›´æ¥å¤„ç†æ•°æ®ã€‚

æ¯”å¦‚ï¼šçœ‹ç”µè§†

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¦å¤„ç†çš„æ•°æ®æ˜¯ç”µè§†çš„ä¿¡å·ï¼Œå¤„ç†çš„ç»“æœæ˜¯ç”»é¢å’Œå£°éŸ³ã€‚
\item
  æ“ä½œçš„æ¥å£ï¼Œæ˜¯ç”µè§†çš„å±å¹•ã€å–‡å­ã€æŒ‰é’®å’Œé¥æ§ç­‰ã€‚ä½ ä¸èƒ½ï¼ˆæœ€å°‘ä¸åº”è¯¥ï¼‰ï¼ŒæŠŠç”µè§†æ‹†å¼€ï¼Œç”¨å…¶ä»–è®¾å¤‡ç›´æ¥æ§åˆ¶å’Œå¤„ç†ç”µè§†çš„ä¿¡å·ã€‚
\item
  æŠŠæ•°æ®å’Œæ“ä½œçš„æ–¹æ³•ç»‘å®šï¼Œå¹¶ä¸”æŠŠæ•°æ®åŒå¤–ç•Œéš”ç¦»å¼€æ¥ï¼Œç§°ä¹‹ä¸º``å°è£…''ã€‚
\end{enumerate}

\hypertarget{ux62bdux8c61ux6027ux7c7bux548cux5bf9ux8c61}{%
\subsection{æŠ½è±¡æ€§ï¼šç±»å’Œå¯¹è±¡}\label{ux62bdux8c61ux6027ux7c7bux548cux5bf9ux8c61}}

æ‰€è°“çš„ç±»Classï¼šçº¦ç­‰äºç±»å‹ã€‚æ¯”å¦‚åœ¨pythonä¸­ï¼Œæ•°å­—\texttt{1,2,3,4,5}æ˜¯``æ•´å‹''ï¼Œ\texttt{\textquotesingle{}apple\textquotesingle{}}æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½ æ˜¯ä¸€ä¸ªå¤§å­¦ç”Ÿç­‰ç­‰ã€‚å…¶ä¸­ï¼Œ``æ•´å½¢''ï¼Œ``å­—ç¬¦ä¸²''ï¼Œ``å¤§å­¦ç”Ÿ''ï¼Œéƒ½å¯ä»¥è§†ä¸ºæŸäº›ä¸ªä½“çš„``ç±»å‹''ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸º``ç±»''ã€‚

æ‰€è°“å¯¹è±¡Objectï¼šå°±æ˜¯ä¸€ä¸ªå…·ä½“çš„``ä¸ªä½“''ã€‚æ¯”å¦‚``Alexæ˜¯ä¸€ä¸ªå¤§å­¦ç”Ÿ''ï¼Œ``Bobæ˜¯ä¸€ä¸ªå¤§å­¦ç”Ÿ''ã€‚é‚£ä¹ˆ``å¤§å­¦ç”Ÿ''æ˜¯ä¸€ä¸ªç±»ï¼ˆç±»å‹ï¼‰ï¼ŒAlexå’ŒBobåˆ™æ˜¯ä¸€ä¸ªå…·ä½“çš„å¤§å­¦ç”Ÿçš„ä¸ªä½“ã€‚``å¤§å­¦ç”Ÿ''è¿™ä¸ªæ¦‚å¿µï¼ŒæŠŠAlexå’ŒBobä½œä¸ºå¤§å­¦ç”Ÿæ‰€åº”è¯¥å…·æœ‰çš„ç‰¹å¾ï¼Œç»™æŠ½è±¡å’Œæå–äº†ã€‚

ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œè¯´æ˜ç±»å’Œå¯¹è±¡çš„å…³ç³»ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç±»Classï¼šæœˆé¥¼çš„æ¨¡å­ï¼ŒæŠ½è±¡çš„``å­¦ç”Ÿ''æ¦‚å¿µ
\item
  å¯¹è±¡Objectï¼šä¸€ä¸ªä¸ªå…·ä½“æœˆé¥¼ï¼Œä¸€ä¸ªä¸ªå…·ä½“çš„åŒå­¦ï¼Œå¦‚Alexå’ŒBob
\end{enumerate}

\hypertarget{ux7c7b}{%
\section{ç±»}\label{ux7c7b}}

æˆ‘ä»¬ç”¨é¢å‘å¯¹è±¡çš„èŒƒå¼æ¥æ¼”ç¤ºæˆ‘ä»¬çš„åŒå­¦ä¿¡æ¯ç³»ç»Ÿï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å®šä¹‰äººçš„æ•°æ®ï¼ˆå‚¨å­˜äººçš„ä¿¡æ¯ï¼‰
\item
  å®šä¹‰äººçš„æ–¹æ³•ï¼ˆè®¿é—®äººçš„æ•°æ®çš„æ¥å£ï¼‰
\item
  å®šä¹‰ç¾¤ä½“çš„æ•°æ®
\item
  å®šä¹‰ç¾¤ä½“çš„æ–¹æ³•
\end{enumerate}

\hypertarget{ux6570ux636eux4ebaux7c7bux7684ux5b9aux4e49}{%
\subsection{æ•°æ®ï¼š``äºº''ç±»çš„å®šä¹‰}\label{ux6570ux636eux4ebaux7c7bux7684ux5b9aux4e49}}

è¦å®Œæˆæˆ‘ä»¬çš„åŒå­¦ä¿¡æ¯ç³»ç»Ÿï¼Œæˆ‘ä»¬é¦–å…ˆä»åŒå­¦çš„å®šä¹‰å¼€å§‹ã€‚åŒå­¦é¦–å…ˆæ˜¯ä¸ªäººã€‚

æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç±»ï¼Œ\texttt{Person}ï¼Œäººã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å®šä¹‰ä¸€ä¸ªPersonç±»ï¼Œé¦–å­—æ¯å¤§å†™ï¼Œæš‚æ—¶ä»€ä¹ˆå†…å®¹éƒ½ä¸æ·»åŠ }
\KeywordTok{class}\NormalTok{ Person:}
    \ControlFlowTok{pass}
\end{Highlighting}
\end{Shaded}

åˆ›å»º2ä¸ªåŒå­¦çš„å®ä¾‹ã€‚ä½œä¸ºä¸ªåŒå­¦çš„äººçš„å±æ€§ï¼Œæˆ‘ä»¬èµ·ç è¦çŸ¥é“ä»–ä»¬çš„å§“åã€å‡ºç”Ÿæ—¥æœŸå’Œæ€§åˆ«ã€‚

ä»€ä¹ˆæ˜¯åˆ›å»ºå®ä¾‹ï¼Ÿç”¨æœˆé¥¼çš„æ¨¡å­ï¼ˆç±»ï¼‰ï¼Œæ•²å‡ºä¸€ä¸ªä¸ªæœˆé¥¼ï¼ˆå®ä¾‹å¯¹è±¡ï¼‰ï¼šå…·ä½“çš„æœˆé¥¼ï¼Œå°±æ˜¯æœˆé¥¼ç±»çš„å®ä¾‹ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p1 }\OperatorTok{=}\NormalTok{ Person() }\CommentTok{\# åˆ›å»ºä¸€ä¸ªPersonçš„å®ä¾‹ï¼Œçœ‹èµ·æ¥å’Œè°ƒç”¨å‡½æ•°ç±»ä¼¼}
\NormalTok{p1.name }\OperatorTok{=} \StringTok{\textquotesingle{}Alex\textquotesingle{}}  \CommentTok{\# è®¿é—®å±æ€§ï¼šç›´æ¥èµ‹å€¼å³å¯ã€‚}
\NormalTok{p1.birth\_year }\OperatorTok{=} \StringTok{\textquotesingle{}2000\textquotesingle{}}
\NormalTok{p1.gender }\OperatorTok{=} \StringTok{\textquotesingle{}female\textquotesingle{}}

\NormalTok{p2 }\OperatorTok{=}\NormalTok{ Person() }
\NormalTok{p2.name }\OperatorTok{=} \StringTok{\textquotesingle{}Bob\textquotesingle{}}  
\NormalTok{p2.birth\_year }\OperatorTok{=} \StringTok{\textquotesingle{}2001\textquotesingle{}}
\CommentTok{\# åˆ»æ„é—æ¼äº†Bobçš„genderå±æ€§çš„è®¾å®š}
\end{Highlighting}
\end{Shaded}

å½“ç„¶ï¼Œè®¿é—®æ•°æ®ä¹Ÿå¾ˆç®€å•,\texttt{å¯¹è±¡.å±æ€§}å³å¯

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"ç¬¬1ä½åŒå­¦çš„åå­—æ˜¯}\SpecialCharTok{\{}\NormalTok{p1}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"ç¬¬2ä½åŒå­¦çš„åå­—æ˜¯}\SpecialCharTok{\{}\NormalTok{p2}\SpecialCharTok{.}\NormalTok{name}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
ç¬¬1ä½åŒå­¦çš„åå­—æ˜¯Alex
ç¬¬2ä½åŒå­¦çš„åå­—æ˜¯Bob
\end{verbatim}

\hypertarget{ux65b9ux6cd5ux5982ux4f55ux64cdux4f5cux6570ux636e}{%
\subsection{æ–¹æ³•ï¼šå¦‚ä½•æ“ä½œæ•°æ®}\label{ux65b9ux6cd5ux5982ux4f55ux64cdux4f5cux6570ux636e}}

å‰é¢æˆ‘ä»¬æŠŠ3ä¸ªæ•°æ®ï¼Œå°è£…åœ¨ä¸€ä¸ªç±»é‡Œã€‚è¿™é‡Œè€ƒè™‘å¦‚ä½•æ“ä½œè¿™3ä¸ªæ•°æ®ã€‚

äººç±»å¯ä»¥åš''è·‘''è¿™ä¸ªåŠ¨ä½œã€‚æˆ‘ä»¬å¯ä»¥æŠŠè·‘è¿™ä»¶äº‹ï¼Œå®šä¹‰ä¸ºä¸€ä¸ªç±»çš„``æ–¹æ³•''ï¼ˆæˆå‘˜å‡½æ•°ï¼‰

Pythonä¸­ï¼Œå®ä¾‹æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¿…é¡»æ˜¯\texttt{self}ï¼Œç‰¹è´¨å…·ä½“çš„å¯¹è±¡``è‡ªå·±''ï¼Œå¦‚``Alex''æˆ–è€…``è¿™ä¸ªæœˆé¥¼''ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Person:}
    \KeywordTok{def}\NormalTok{ run(}\VariableTok{self}\NormalTok{):}
        \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{        è¿™æ˜¯å®šä¹‰åœ¨ä¸€ä¸ªç±»é‡Œçš„å‡½æ•°ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ–¹æ³•methodâ€}
\CommentTok{        \textquotesingle{}\textquotesingle{}\textquotesingle{}}
        \BuiltInTok{print}\NormalTok{(}\VariableTok{self}\NormalTok{.name }\OperatorTok{+} \StringTok{" is running!"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

æ³¨æ„: \texttt{self.name}å°±æ˜¯ ``æˆ‘çš„nameå±æ€§''ã€‚

æˆ‘ä»¬åˆ©ç”¨Personç±»ï¼Œå¯ä»¥``å®ä¾‹åŒ–''ï¼ˆåŠ¨è¯ï¼‰ä¸€ä¸ªå…·ä½“çš„äººp1ï¼šå¯ä»¥ç±»æ¯”ç”¨æœˆé¥¼çš„æ¨¡å…·ï¼Œåšä¸€ä¸ªå…·ä½“çš„æœˆé¥¼å‡ºæ¥ã€‚

å› ä¸ºæˆ‘ä»¬åœ¨Personé‡Œå®šä¹‰äº†Personç±»å¯ä»¥åšçš„ä¸€ä¸ªåŠ¨ä½œrunï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªPersonçš„å®ä¾‹ï¼Œä¾‹å¦‚p1,å°±éƒ½å¯ä»¥run()äº†

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p1 }\OperatorTok{=}\NormalTok{ Person() }\CommentTok{\# ç”¨Personç±»ï¼Œç”Ÿæˆä¸€ä¸ªå…·ä½“çš„å¯¹è±¡p1}
\NormalTok{p1.name }\OperatorTok{=} \StringTok{\textquotesingle{}Alex\textquotesingle{}}
\NormalTok{p1.run() }\CommentTok{\# å¯¹äºp1è¿™ä¸ªå¯¹è±¡ï¼Œè°ƒç”¨run()æ–¹æ³•ï¼}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Alex is running!
\end{verbatim}

ç±»æ¯”ï¼šæŸä¸ªå¯¹è±¡åšäº†æŸä»¶äº‹ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\NormalTok{a.pop() }\CommentTok{\# â€œæ‹¿å‡ºâ€æœ€åä¸€ä¸ªå…ƒç´ ã€‚}
\CommentTok{\# æ³¨æ„å¯ä»¥ç±»æ¯” a.pop() å’Œp1.run()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
5
\end{verbatim}

å…¶ä¸­ï¼šaæ˜¯ä¸ªåˆ—è¡¨ï¼ˆçš„å®ä¾‹ï¼‰

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  aä¸­å…·æœ‰æ•°æ®ï¼š1,2,3,4,5
\item
  aä¸­æ“ä½œæ•°æ®çš„æ–¹æ³•ï¼š.pop()
\item
  a.pop()ï¼šaä½¿ç”¨äº†æ–¹æ³•pop()æ¥æ“ä½œè‡ªå·±çš„æ•°æ®ã€‚
\end{enumerate}

\hypertarget{ux6b63ux5f0fux7684ux4f8bux5b50}{%
\subsection{æ­£å¼çš„ä¾‹å­}\label{ux6b63ux5f0fux7684ux4f8bux5b50}}

å¯¹äºä»»ä½•ç±»ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ª``æ„é€ æ–¹æ³•''\texttt{\_\_init\_\_()}ï¼Œå‰åæ˜¯2ä¸ªä¸‹åˆ’çº¿ã€‚å…¶ä¸­æ”¾å…¥æˆ‘ä»¬ç”¨äºåˆå§‹åŒ–è¿™ä¸ªç±»çš„å‚æ•°ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦ç”¨è¿™ä¸ªäººçš„åŸºæœ¬ä¿¡æ¯ï¼Œæ¥æ„é€ è¿™ä¸ªç±»ã€‚

å®ä¾‹æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯\texttt{self}ï¼ŒæŒ‡ä»£çš„æ˜¯``è¿™ä¸ªå…·ä½“çš„å¯¹è±¡''ã€‚ä½ å¯ä»¥é€è¿‡\texttt{self}å¼•ç”¨è‡ªèº«çš„ä¿¡æ¯ã€‚

ä¸€ä¸ªäººï¼Œåº”è¯¥å…·æœ‰3æ ·ä¿¡æ¯ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å§“å
\item
  å‡ºç”Ÿå¹´ä»½
\item
  æ€§åˆ«
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Person:}
    \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{    â€˜äººâ€™ç±»}
\CommentTok{    \textquotesingle{}\textquotesingle{}\textquotesingle{}}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, birth\_year, gender):}
        \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{        æ„é€ æ–¹æ³•ã€‚ç”¨å¤–éƒ¨ä¿¡æ¯ï¼ˆå‚æ•°ï¼‰ï¼Œæ¥åˆå§‹åŒ–è¿™ä¸ªç±»ã€‚}
\CommentTok{        \textquotesingle{}\textquotesingle{}\textquotesingle{}}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name }
        \CommentTok{\# æŠŠå‚æ•°é‡Œçš„nameå˜é‡ï¼Œèµ‹å€¼ç»™æœ¬å¯¹è±¡(ä¸€ä¸ªä¸ªå…·ä½“çš„äººï¼Œæ¯”å¦‚p1)çš„nameå±æ€§}
        \VariableTok{self}\NormalTok{.birth\_year }\OperatorTok{=}\NormalTok{ birth\_year}
        \VariableTok{self}\NormalTok{.gender }\OperatorTok{=}\NormalTok{ gender}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p1 }\OperatorTok{=}\NormalTok{ Person(}\StringTok{\textquotesingle{}Alex\textquotesingle{}}\NormalTok{,}\DecValTok{2000}\NormalTok{,}\StringTok{\textquotesingle{}female\textquotesingle{}}\NormalTok{)}
\NormalTok{p2 }\OperatorTok{=}\NormalTok{ Person(}\StringTok{\textquotesingle{}Bob\textquotesingle{}}\NormalTok{,}\DecValTok{2001}\NormalTok{,}\StringTok{\textquotesingle{}male\textquotesingle{}}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(p1.name)}
\BuiltInTok{print}\NormalTok{(p2.birth\_year)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Alex
2001
\end{verbatim}

å¯ä»¥è¿™ä¹ˆè¯´

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  p1æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯Personç±»çš„ä¸€ä¸ªå®ä¾‹ï¼ˆä¾‹å¦‚ï¼Œ``ä½ ''æ˜¯``äººç±»''çš„ä¸€ä¸ªå®ä¾‹ï¼‰
\item
  Personè¿™ä¸ªç±»ï¼Œæœ‰3ä¸ªå±æ€§ï¼Œnameï¼Œbirth\_yearï¼Œgender
\end{enumerate}

å…¶ä¸­ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{self}ï¼ŒæŒ‡çš„æ˜¯è¿™ä¸ªå…·ä½“çš„å¯¹è±¡è‡ªå·±ã€‚ç”¨æœˆé¥¼çš„ä¾‹å­ï¼Œå³\texttt{self}æŒ‡çš„æ˜¯å…·ä½“çš„``è¿™ä¸ªæœˆé¥¼''ã€‚ç”¨åŒå­¦çš„ä¾‹å­ï¼Œå°±æ˜¯\texttt{p1}è¿™ä¸ªäººã€‚
\item
  \texttt{self.name\ =\ name}ï¼Œç­‰å·åé¢æ˜¯å‚æ•°ä¸­çš„\texttt{name}ï¼Œå³å¤–ç•Œä¼ å…¥çš„nameå˜é‡ï¼Œæœ¬ä¾‹ä¸­ï¼Œå³\texttt{Person(\textquotesingle{}Alex\textquotesingle{},\ ...)}ä¸­çš„\texttt{\textquotesingle{}Alex\textquotesingle{}}ã€‚ç­‰å·å·¦ä¾§ï¼Œ\texttt{self.name}ï¼Œå³è¿™ä¸ªè¿™ä¸ªå…·ä½“çš„å¯¹è±¡ï¼ˆå…·ä½“çš„äººï¼‰ï¼Œå¥¹çš„\texttt{name}å±æ€§ã€‚è¿™å¥è¯çš„æ„æ€æ˜¯ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªç±»åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå¤–ç•Œä¼ å…¥çš„\texttt{name}å˜é‡ï¼Œèµ‹å€¼ç»™è¿™ä¸ªç±»çš„æˆå‘˜\texttt{name}ï¼ˆå³\texttt{self.name}ï¼‰ã€‚
\item
  å…¶ä½™èµ‹å€¼ï¼Œä¹Ÿæ˜¯åŒæ ·çš„é“ç†ã€‚æˆ‘ä»¬è¦å˜é‡çš„æˆå‘˜ï¼Œç”¨å¤–éƒ¨çš„ä¿¡æ¯å®Œæˆåˆå§‹åŒ–ã€‚
\end{enumerate}

è¿™ä¹ˆåšæœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿä¾‹å¦‚ï¼Œå¯ä»¥åšåˆå§‹æ•°æ®çš„éªŒè¯ã€‚

ä¾‹å¦‚ï¼š\texttt{birth\_year}åº”è¯¥æ˜¯ä¸ª4ä½æ•°çš„æ•´å‹ï¼Œè€Œä¸æ˜¯å…¶ä»–ã€‚

æ³¨ï¼šè¿™é‡Œåªæ˜¯ç®€å•åœ°æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œå¹¶ä¸”åœæ­¢åˆå§‹åŒ–è¿‡ç¨‹ã€‚å…³äº``å¼‚å¸¸å¤„ç†''çš„å…·ä½“å†…å®¹ï¼Œè¿™é‡Œä»ç•¥ã€‚

æŠ›å‡ºä¸€ä¸ªç±»å‹å¼‚å¸¸

\begin{Shaded}
\begin{Highlighting}[]
\ControlFlowTok{raise} \PreprocessorTok{TypeError}\NormalTok{(}\StringTok{\textquotesingle{}é”™è¯¯ï¼šbirth\_yearåº”è¯¥æ˜¯ä¸€ä¸ªæ•´å½¢\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Person:}

    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, birth\_year, gender):}

        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        
        \ControlFlowTok{if} \BuiltInTok{type}\NormalTok{(birth\_year) }\OperatorTok{!=} \BuiltInTok{int}\NormalTok{:}
            \ControlFlowTok{raise} \PreprocessorTok{TypeError}\NormalTok{(}\StringTok{\textquotesingle{}é”™è¯¯ï¼šbirth\_yearåº”è¯¥æ˜¯ä¸€ä¸ªæ•´å½¢\textquotesingle{}}\NormalTok{)}
        \ControlFlowTok{else}\NormalTok{:}
            \VariableTok{self}\NormalTok{.birth\_year }\OperatorTok{=}\NormalTok{ birth\_year}

        \VariableTok{self}\NormalTok{.gender }\OperatorTok{=}\NormalTok{ gender}
    
\NormalTok{p1 }\OperatorTok{=}\NormalTok{ Person(}\StringTok{\textquotesingle{}Alex\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2000\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}female\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
TypeError: é”™è¯¯ï¼šbirth_yearåº”è¯¥æ˜¯ä¸€ä¸ªæ•´å½¢
\end{verbatim}

\hypertarget{ux65b9ux6cd5}{%
\subsection{æ–¹æ³•}\label{ux65b9ux6cd5}}

æˆ‘ä»¬æŠŠä¸€ä¸ªç±»é‡Œé¢å®šä¹‰çš„å‡½æ•°ï¼ˆä¸è®ºæ˜¯æ“ä½œå†…éƒ¨è¿˜æ˜¯å¤–éƒ¨çš„æ•°æ®ï¼‰ï¼Œç§°ä¹‹ä¸ºæ–¹æ³•''method''ã€‚

æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦æ‰“å°åŒå­¦çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªæ–¹æ³•\texttt{print\_info}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Person:}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, birth\_year, gender):}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        \ControlFlowTok{if} \BuiltInTok{type}\NormalTok{(birth\_year) }\OperatorTok{!=} \BuiltInTok{int}\NormalTok{:}
            \ControlFlowTok{raise} \PreprocessorTok{TypeError}\NormalTok{(}\StringTok{\textquotesingle{}é”™è¯¯ï¼šbirth\_yearåº”è¯¥æ˜¯ä¸€ä¸ªæ•´å½¢\textquotesingle{}}\NormalTok{)}
        \ControlFlowTok{else}\NormalTok{:}
            \VariableTok{self}\NormalTok{.birth\_year }\OperatorTok{=}\NormalTok{ birth\_year}
        \VariableTok{self}\NormalTok{.gender }\OperatorTok{=}\NormalTok{ gender}

    \KeywordTok{def}\NormalTok{ print\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}å§“å:}\SpecialCharTok{\{\}}\StringTok{ï¼Œæ€§åˆ«ï¼š}\SpecialCharTok{\{\}}\StringTok{ï¼Œå‡ºç”Ÿå¹´ä»½ï¼š}\SpecialCharTok{\{\}}\StringTok{\textquotesingle{}}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\VariableTok{self}\NormalTok{.name,}\VariableTok{self}\NormalTok{.gender,}
        \VariableTok{self}\NormalTok{.birth\_year))}
    
\NormalTok{p1 }\OperatorTok{=}\NormalTok{ Person(}\StringTok{\textquotesingle{}Alex\textquotesingle{}}\NormalTok{,}\DecValTok{2000}\NormalTok{,}\StringTok{\textquotesingle{}female\textquotesingle{}}\NormalTok{)}

\NormalTok{p1.print\_info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å§“å:Alexï¼Œæ€§åˆ«ï¼šfemaleï¼Œå‡ºç”Ÿå¹´ä»½ï¼š2000
\end{verbatim}

è¦åšä¸€ä¸ªç®€å•çš„è®¡ç®—ï¼Œæ¯”å¦‚è·å¾—å¹´é¾„ã€‚å› ä¸ºå¹´é¾„æ¯å¹´éƒ½å˜åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä»Šå¹´çš„å¹´ä»½ï¼Œå‡å»å‡ºç”Ÿæ—¥æœŸï¼Œé‚£å°±ä¸ä¼šé”™ã€‚

è·å¾—ä»Šå¤©çš„æ—¥æœŸï¼Œå’Œå¹´ä»½

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ date}

\NormalTok{today }\OperatorTok{=}\NormalTok{ date.today()}
\BuiltInTok{print}\NormalTok{(today)}
\BuiltInTok{print}\NormalTok{(today.year)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2023-12-20
2023
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ date}

\KeywordTok{class}\NormalTok{ Person:}

    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, birth\_year, gender):}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        \ControlFlowTok{if} \BuiltInTok{type}\NormalTok{(birth\_year) }\OperatorTok{!=} \BuiltInTok{int}\NormalTok{:}
            \ControlFlowTok{raise} \PreprocessorTok{TypeError}\NormalTok{(}\StringTok{\textquotesingle{}é”™è¯¯ï¼šbirth\_yearåº”è¯¥æ˜¯ä¸€ä¸ªæ•´å½¢\textquotesingle{}}\NormalTok{)}
        \ControlFlowTok{else}\NormalTok{:}
            \VariableTok{self}\NormalTok{.birth\_year }\OperatorTok{=}\NormalTok{ birth\_year}
        \VariableTok{self}\NormalTok{.gender }\OperatorTok{=}\NormalTok{ gender}

    \KeywordTok{def}\NormalTok{ print\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}å§“å: }\SpecialCharTok{\{\}}\StringTok{ï¼Œæ€§åˆ«: }\SpecialCharTok{\{\}}\StringTok{ï¼Œå‡ºç”Ÿå¹´ä»½:}\SpecialCharTok{\{\}}\StringTok{\textquotesingle{}}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\VariableTok{self}\NormalTok{.name, }\VariableTok{self}\NormalTok{.gender, }\VariableTok{self}\NormalTok{.birth\_year))}

    \KeywordTok{def}\NormalTok{ get\_age(}\VariableTok{self}\NormalTok{):}
\NormalTok{        this\_year }\OperatorTok{=}\NormalTok{ date.today().year}
        \ControlFlowTok{return}\NormalTok{ this\_year }\OperatorTok{{-}} \VariableTok{self}\NormalTok{.birth\_year}
    
\NormalTok{p1 }\OperatorTok{=}\NormalTok{ Person(}\StringTok{\textquotesingle{}Alex\textquotesingle{}}\NormalTok{, }\DecValTok{2000}\NormalTok{, }\StringTok{\textquotesingle{}female\textquotesingle{}}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(p1.get\_age())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
23
\end{verbatim}

æ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘ä»¬æ‰“å°ä¸ªäººä¿¡æ¯ï¼Œå°±å¯ä»¥æŠŠå¹´é¾„æ›¿ä»£æ‰å‡ºç”Ÿæ—¥æœŸã€‚

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ datetime }\ImportTok{import}\NormalTok{ date}

\KeywordTok{class}\NormalTok{ Person:}

    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, birth\_year, gender):}
        \VariableTok{self}\NormalTok{.name }\OperatorTok{=}\NormalTok{ name}
        
        \ControlFlowTok{if} \BuiltInTok{type}\NormalTok{(birth\_year) }\OperatorTok{!=} \BuiltInTok{int}\NormalTok{:}
            \ControlFlowTok{raise} \PreprocessorTok{TypeError}\NormalTok{(}\StringTok{\textquotesingle{}é”™è¯¯ï¼šbirth\_yearåº”è¯¥æ˜¯ä¸€ä¸ªæ•´å½¢\textquotesingle{}}\NormalTok{)}
        \ControlFlowTok{else}\NormalTok{:}
            \VariableTok{self}\NormalTok{.birth\_year }\OperatorTok{=}\NormalTok{ birth\_year}

        \VariableTok{self}\NormalTok{.gender }\OperatorTok{=}\NormalTok{ gender}

    \KeywordTok{def}\NormalTok{ format\_info(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \StringTok{\textquotesingle{}å§“å: }\SpecialCharTok{\{\}}\StringTok{ï¼Œæ€§åˆ«: }\SpecialCharTok{\{\}}\StringTok{ï¼Œå¹´é¾„: }\SpecialCharTok{\{\}}\StringTok{\textquotesingle{}}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\VariableTok{self}\NormalTok{.name,}\VariableTok{self}\NormalTok{.gender,}\VariableTok{self}\NormalTok{.get\_age())}
        
    \KeywordTok{def}\NormalTok{ print\_info(}\VariableTok{self}\NormalTok{):}
        \BuiltInTok{print}\NormalTok{(}\VariableTok{self}\NormalTok{.format\_info())}

    \KeywordTok{def}\NormalTok{ get\_age(}\VariableTok{self}\NormalTok{):}
\NormalTok{        this\_year }\OperatorTok{=}\NormalTok{ date.today().year}
        \ControlFlowTok{return}\NormalTok{ this\_year }\OperatorTok{{-}} \VariableTok{self}\NormalTok{.birth\_year}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p1 }\OperatorTok{=}\NormalTok{ Person(}\StringTok{\textquotesingle{}Alex\textquotesingle{}}\NormalTok{, }\DecValTok{2000}\NormalTok{, }\StringTok{\textquotesingle{}female\textquotesingle{}}\NormalTok{)}

\NormalTok{p1.print\_info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å§“å: Alexï¼Œæ€§åˆ«: femaleï¼Œå¹´é¾„: 23
\end{verbatim}

\hypertarget{ux7ec3ux4e60-3}{%
\subsection{ç»ƒä¹ }\label{ux7ec3ux4e60-3}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ·»åŠ ä¸€ä¸ªå±æ€§``å‡ºç”Ÿçœä»½ï¼ˆæˆ–ç›´è¾–å¸‚ï¼‰''\texttt{birth\_area}ï¼Œå¹¶ä¿®æ”¹æ„é€ æ–¹æ³•ï¼Œä»¥æ·»åŠ è¿™ä¸ªå˜é‡ã€‚
\item
  æ·»åŠ ä¸€ä¸ªæ–¹æ³•\texttt{is\_from\_gd()}ï¼Œè¿”å›è¯¥åŒå­¦çš„æ˜¯å¦æ¥è‡ªå¹¿ä¸œï¼ˆæ³¨æ„ï¼Œè¿™ä¸€è¿”å›çš„æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼‰ã€‚
\end{enumerate}

\hypertarget{ux7ee7ux627f}{%
\section{ç»§æ‰¿}\label{ux7ee7ux627f}}

æˆ‘ä»¬è¦åšä¸€ä¸ªåŒå­¦ä¿¡æ¯ç³»ç»Ÿï¼Œæˆ‘ä»¬å¤„ç†çš„æ•°æ®å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ª``åŒå­¦''ã€‚

``åŒå­¦''æ˜¯``äºº''ã€‚äººæœ‰çš„å±æ€§ï¼Œç”Ÿæ—¥ï¼ŒåŒå­¦éƒ½ä¼šæœ‰ã€‚

ä½†``åŒå­¦''æ¯”``äºº''å¤šäº†ä¸€äº›å±æ€§ï¼Œä¾‹å¦‚åŒå­¦æœ‰``å­¦å·''è¿™å±æ€§ã€‚

å› æ­¤ï¼Œå¦‚ä½•è¡¨ç¤º``åŒå­¦''è¿™ä¸ªç±»å‹ï¼Ÿæˆ‘ä»¬å¯ä»¥ç”¨``ç»§æ‰¿''ï¼šè¯´ï¼Œ``åŒå­¦''ç±»ï¼Œç»§æ‰¿äº†``äºº''ç±»ï¼Œé‚£ä¹ˆäººæœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼ŒåŒå­¦éƒ½æœ‰ï¼Œå¹¶ä¸”å¯ä»¥æ·»åŠ å…ˆå±æ€§ç­‰ã€‚

ä¸€ä¸ªåŒå­¦åº”æœ‰çš„ä¿¡æ¯

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å§“å
\item
  å‡ºç”Ÿå¹´ä»½
\item
  æ€§åˆ«
\item
  å­¦å·
\end{enumerate}

å‰ä¸‰ä¸ªåœ¨``äºº''å·²æœ‰ï¼Œå…¶ä¸­å­¦å·æ˜¯``äºº''ç±»æ‰€æ²¡æœ‰çš„ã€‚

æ„é€ æ–¹æ³•ï¼ˆåˆå§‹åŒ–ï¼‰ï¼Œä¾ç„¶å’Œå‰é¢ä¸€æ ·

å®šä¹‰ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å£°æ˜ï¼ŒStudentç±»ï¼Œ``ç»§æ‰¿''è‡ªPersonç±»ï¼Œå› æ­¤å³ä½¿ä½ ä»€ä¹ˆä»£ç ä¹Ÿä¸å†™ï¼ŒStudentä¹Ÿæœ‰Personç±»çš„ä¸€åˆ‡åŠŸèƒ½ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Student(Person):  }\CommentTok{\# å£°æ˜Studentç±»â€œç»§æ‰¿â€è‡ªPersonç±»}
    \ControlFlowTok{pass}

\NormalTok{x }\OperatorTok{=}\NormalTok{ Student(}\StringTok{\textquotesingle{}Alex\textquotesingle{}}\NormalTok{,}\DecValTok{2000}\NormalTok{,}\StringTok{\textquotesingle{}female\textquotesingle{}}\NormalTok{)}
\NormalTok{x.print\_info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å§“å: Alexï¼Œæ€§åˆ«: femaleï¼Œå¹´é¾„: 23
\end{verbatim}

æˆ‘ä»¬ç°åœ¨å¤„ç†Studentç±»æ¯”Personç±»æ‰©å±•çš„å†…å®¹ï¼šstudent\_idã€‚

æˆ‘ä»¬é‡å†™æ„é€ æ–¹æ³•ï¼Œæ·»åŠ ä¸€ä¸ª\texttt{student\_id}å˜é‡

\begin{verbatim}
def __init__(self, name, birth_year, gender, student_id)ï¼š
\end{verbatim}

æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨çˆ¶ç±»Personä¸­çš„æ„é€ æ–¹æ³•ï¼Œå·²ç»æœ‰åˆå§‹åŒ–ä¿¡æ¯å¤„ç†çš„ä»£ç ï¼Œä¾‹å¦‚æ£€éªŒå‡ºç”Ÿå¹´é¾„æ˜¯å¦æ˜¯ä¸€ä¸ªæ•´å½¢ã€‚

æˆ‘ä»¬å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼ŒæŠŠ\texttt{name,\ birth\_year,\ gender}ä¼ é€’ç»™Personç±»æ¥å¤„ç†ï¼ŒStudentç±»åªå¤„ç†æ–°çš„éƒ¨åˆ†ï¼Œå³\texttt{student\_id}ã€‚

å¼•ç”¨çˆ¶ç±»æ˜¯\texttt{super()}ï¼Œå¼•ç”¨çˆ¶ç±»ä¸­çš„æ–¹æ³•æ˜¯\texttt{super().æ–¹æ³•å}

æ˜¾ç„¶ï¼Œæˆ‘ä»¬è¦ç”¨çˆ¶ç±»ç°æˆçš„æ„é€ æ–¹æ³•ï¼Œå°±æ˜¯\texttt{super().\_\_init\_\_(è¦ä¼ é€’çš„å‚æ•°)}

ç„¶åï¼Œæˆ‘ä»¬åªè¦å†™æ–°çš„åŠŸèƒ½ï¼šæ£€éªŒå­¦å·ï¼Œå¹¶ä¿å­˜

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Student(Person):}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, birth\_year, gender, student\_id):}
        \BuiltInTok{super}\NormalTok{().}\FunctionTok{\_\_init\_\_}\NormalTok{(name, birth\_year, gender)}
        
        \ControlFlowTok{if} \BuiltInTok{type}\NormalTok{(student\_id) }\OperatorTok{!=} \BuiltInTok{int}\NormalTok{:}
            \ControlFlowTok{raise} \PreprocessorTok{TypeError}\NormalTok{(}\StringTok{\textquotesingle{}é”™è¯¯ï¼šstudent\_idåº”è¯¥æ˜¯ä¸€ä¸ªæ•´å½¢\textquotesingle{}}\NormalTok{)}
        \ControlFlowTok{else}\NormalTok{:}
            \VariableTok{self}\NormalTok{.student\_id }\OperatorTok{=}\NormalTok{ student\_id}
\end{Highlighting}
\end{Shaded}

å½“ç„¶ï¼ŒStudentç±»ç»§æ‰¿è‡ªçˆ¶ç±»Personï¼Œé‚£ä¹ˆPersonä¸­çš„æ–¹æ³•ï¼Œæ¯”å¦‚print\_info()ï¼ŒStudentç±»è‡ªç„¶ä¹Ÿæ˜¯å…·å¤‡çš„ï¼Œ
å¯ä»¥ç›´æ¥ä½¿ç”¨

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ Student(}\StringTok{"Alex"}\NormalTok{,}\DecValTok{2000}\NormalTok{,}\StringTok{"female"}\NormalTok{,}\DecValTok{2021001}\NormalTok{)}
\NormalTok{x.print\_info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å§“å: Alexï¼Œæ€§åˆ«: femaleï¼Œå¹´é¾„: 23
\end{verbatim}

\hypertarget{ux91cdux8f7d}{%
\section{é‡è½½}\label{ux91cdux8f7d}}

åŒå­¦ç±»ï¼Œå¤šäº†å­¦å·çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬æƒ³ï¼Œæ‰“å°ä¿¡æ¯\texttt{print\_info()}çš„æ—¶å€™ï¼Œä¹Ÿè¦æ‰“å°å­¦å·ã€‚

è¿™å°±æ¶‰åŠåˆ°ï¼Œæˆ‘ä»¬è¦æ”¹å†™\texttt{print\_info()}ã€‚æ”¹å†™ä¸€ä¸ªçˆ¶ç±»ä¸­å·²æœ‰çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º``é‡è½½''ã€‚

ä¸€ä¸ªåŸå§‹çš„æƒ³æ³•ï¼šæˆ‘ä»¬å®Œå…¨é‡æ–°å†™ä¸€ä¸ª\texttt{print\_info()}ã€‚

ä½†åœ¨æˆ‘ä»¬åŸå§‹çš„è®¾è®¡ä¸­ï¼Œ\texttt{print\_info()}ï¼Œä»…ä»…æ˜¯æ‰“å°\texttt{format\_info()}çš„ç»“æœï¼Œæ‰€ä»¥å…¶å®ï¼Œæˆ‘ä»¬è¦æ”¹é€ çš„æ˜¯\texttt{format\_info()}

æŠŠå­¦å·ä¿¡æ¯ï¼Œæ·»åŠ åˆ°å…¶ä¸­ã€‚

\texttt{print\_info()}ä¼šè‡ªåŠ¨è°ƒç”¨å­ç±»ä¸­å®šä¹‰çš„æ–°çš„\texttt{format\_info()}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Student(Person):}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, birth\_year, gender, student\_id):}
        
        \BuiltInTok{super}\NormalTok{().}\FunctionTok{\_\_init\_\_}\NormalTok{(name, birth\_year, gender)}
        
        \ControlFlowTok{if} \BuiltInTok{type}\NormalTok{(student\_id) }\OperatorTok{!=} \BuiltInTok{int}\NormalTok{:}
            \ControlFlowTok{raise} \PreprocessorTok{TypeError}\NormalTok{(}\StringTok{\textquotesingle{}é”™è¯¯ï¼šstudent\_idåº”è¯¥æ˜¯ä¸€ä¸ªæ•´å½¢\textquotesingle{}}\NormalTok{)}
        \ControlFlowTok{else}\NormalTok{:}
            \VariableTok{self}\NormalTok{.student\_id }\OperatorTok{=}\NormalTok{ student\_id}

    \KeywordTok{def}\NormalTok{ format\_info(}\VariableTok{self}\NormalTok{):}
\NormalTok{        info }\OperatorTok{=} \StringTok{\textquotesingle{}å­¦å·ï¼š}\SpecialCharTok{\{\}}\StringTok{ï¼Œå§“å: }\SpecialCharTok{\{\}}\StringTok{ï¼Œæ€§åˆ«: }\SpecialCharTok{\{\}}\StringTok{ï¼Œå¹´é¾„: }\SpecialCharTok{\{\}}\StringTok{\textquotesingle{}}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\VariableTok{self}\NormalTok{.student\_id,}
        \VariableTok{self}\NormalTok{.name,}\VariableTok{self}\NormalTok{.gender,}\VariableTok{self}\NormalTok{.get\_age())}
        \ControlFlowTok{return}\NormalTok{ info}

\NormalTok{x }\OperatorTok{=}\NormalTok{ Student(}\StringTok{"Alex"}\NormalTok{,}\DecValTok{2000}\NormalTok{,}\StringTok{"female"}\NormalTok{,}\DecValTok{2021001}\NormalTok{)}
\NormalTok{x.print\_info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å­¦å·ï¼š2021001ï¼Œå§“å: Alexï¼Œæ€§åˆ«: femaleï¼Œå¹´é¾„: 23
\end{verbatim}

è¿›ä¸€æ­¥ï¼Œçˆ¶ç±»Personçš„\texttt{format\_info()}ä¸­åšå·¥ä½œï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ©ç”¨èµ·æ¥ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨\texttt{super().format\_info()}ï¼Œè·å¾—Personç‰ˆæœ¬çš„å­—ç¬¦ä¸²ä¿¡æ¯ï¼Œ``å§“å:
xxx \ldots{}''

ç„¶åï¼ŒæŠŠå­¦å·ä¿¡æ¯å­—ç¬¦ä¸²\texttt{\textquotesingle{}å­¦å·ï¼š\{\}ï¼Œ\textquotesingle{}.format(self.student\_id)},ç”¨\texttt{+}å·æ‹¼æ¥åˆ°å‰é¢å³å¯ã€‚

\begin{verbatim}
'å­¦å·ï¼š{}ï¼Œ'.format(self.student_id)  +  super().format_info()
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Student(Person):}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, birth\_year, gender, student\_id):}
        
        \BuiltInTok{super}\NormalTok{().}\FunctionTok{\_\_init\_\_}\NormalTok{(name, birth\_year, gender)}
        
        \ControlFlowTok{if} \BuiltInTok{type}\NormalTok{(student\_id) }\OperatorTok{!=} \BuiltInTok{int}\NormalTok{:}
            \ControlFlowTok{raise} \PreprocessorTok{TypeError}\NormalTok{(}\StringTok{\textquotesingle{}é”™è¯¯ï¼šstudent\_idåº”è¯¥æ˜¯ä¸€ä¸ªæ•´å½¢\textquotesingle{}}\NormalTok{)}
        \ControlFlowTok{else}\NormalTok{:}
            \VariableTok{self}\NormalTok{.student\_id }\OperatorTok{=}\NormalTok{ student\_id}

    \KeywordTok{def}\NormalTok{ format\_info(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \StringTok{\textquotesingle{}å­¦å·ï¼š}\SpecialCharTok{\{\}}\StringTok{ï¼Œ\textquotesingle{}}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\VariableTok{self}\NormalTok{.student\_id) }\OperatorTok{+} \BuiltInTok{super}\NormalTok{().format\_info()}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p1 }\OperatorTok{=}\NormalTok{ Student(}\StringTok{"Alex"}\NormalTok{,}\DecValTok{2000}\NormalTok{,}\StringTok{"female"}\NormalTok{,}\DecValTok{2021001}\NormalTok{)}
\NormalTok{p1.print\_info()}

\NormalTok{p2 }\OperatorTok{=}\NormalTok{ Student(}\StringTok{"Bob"}\NormalTok{,}\DecValTok{2001}\NormalTok{,}\StringTok{"male"}\NormalTok{,}\DecValTok{2021002}\NormalTok{)}
\NormalTok{p2.print\_info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å­¦å·ï¼š2021001ï¼Œå§“å: Alexï¼Œæ€§åˆ«: femaleï¼Œå¹´é¾„: 23
å­¦å·ï¼š2021002ï¼Œå§“å: Bobï¼Œæ€§åˆ«: maleï¼Œå¹´é¾„: 22
\end{verbatim}

ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨Pythonè‡ªå¸¦çš„print()å‡½æ•°ï¼Œæ¥æ‰“å°æˆ‘ä»¬å¯¹è±¡çš„ä¿¡æ¯ã€‚

æˆ‘ä»¬æŠŠè¦è¾“å‡ºçš„ä¿¡æ¯ï¼Œå†™è¿›ä¸€ä¸ª\texttt{\_\_str\_\_(self)}æ–¹æ³•ä¸­ï¼Œå’Œæ„é€ æ–¹æ³•ä¸€æ ·ï¼Œå‰å2ä¸ªä¸‹åˆ’çº¿ã€‚

è¿™æ ·ï¼Œæˆ‘ä»¬è°ƒç”¨print(x)çš„æ—¶å€™ï¼Œå°±ä¼šæ‰“å°å‡ºx.\_\_str\_\_()è¿™ä¸ªæ–¹æ³•æ‰€è¿”å›ä¸­ä¿¡æ¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Student(Person):}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, name, birth\_year, gender, student\_id):}
        
        \BuiltInTok{super}\NormalTok{().}\FunctionTok{\_\_init\_\_}\NormalTok{(name, birth\_year, gender)}
        
        \ControlFlowTok{if} \BuiltInTok{type}\NormalTok{(student\_id) }\OperatorTok{!=} \BuiltInTok{int}\NormalTok{:}
            \ControlFlowTok{raise} \PreprocessorTok{TypeError}\NormalTok{(}\StringTok{\textquotesingle{}é”™è¯¯ï¼šstudent\_idåº”è¯¥æ˜¯ä¸€ä¸ªæ•´å½¢\textquotesingle{}}\NormalTok{)}
        \ControlFlowTok{else}\NormalTok{:}
            \VariableTok{self}\NormalTok{.student\_id }\OperatorTok{=}\NormalTok{ student\_id}

    \KeywordTok{def}\NormalTok{ format\_info(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \StringTok{\textquotesingle{}å­¦å·ï¼š}\SpecialCharTok{\{\}}\StringTok{ï¼Œ\textquotesingle{}}\NormalTok{.}\BuiltInTok{format}\NormalTok{(}\VariableTok{self}\NormalTok{.student\_id) }\OperatorTok{+} \BuiltInTok{super}\NormalTok{().format\_info()}
    
    \KeywordTok{def} \FunctionTok{\_\_str\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \VariableTok{self}\NormalTok{.format\_info()}
\end{Highlighting}
\end{Shaded}

æˆ‘ä»¬ç”¨print\_info()æ–¹æ³•ï¼Œå’Œç›´æ¥ç”¨print()å‡½æ•°ï¼Œéƒ½å¯ä»¥æ‰“å°å‡ºæœ‰å…³ä¿¡æ¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p1 }\OperatorTok{=}\NormalTok{ Student(}\StringTok{"Alex"}\NormalTok{,}\DecValTok{2000}\NormalTok{,}\StringTok{"female"}\NormalTok{,}\DecValTok{2021001}\NormalTok{)}
\NormalTok{p1.print\_info()}

\BuiltInTok{print}\NormalTok{(p1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å­¦å·ï¼š2021001ï¼Œå§“å: Alexï¼Œæ€§åˆ«: femaleï¼Œå¹´é¾„: 23
å­¦å·ï¼š2021001ï¼Œå§“å: Alexï¼Œæ€§åˆ«: femaleï¼Œå¹´é¾„: 23
\end{verbatim}

\hypertarget{ux5e74ux7ea7ux540cux5b66ux7684ux96c6ux5408}{%
\section{å¹´çº§ï¼šåŒå­¦çš„é›†åˆ}\label{ux5e74ux7ea7ux540cux5b66ux7684ux96c6ux5408}}

æˆ‘ä»¬è¦åšä¸€ä¸ªå¹´çº§ç±»Gradeï¼Œä»¥è¡¨ç¤ºå…¨å¹´çº§åŒå­¦çš„ä¿¡æ¯ã€‚å¦‚ä½•è®¾è®¡ï¼Ÿ

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å‚¨å­˜æ‰€æœ‰åŒå­¦çš„ä¿¡æ¯ï¼Œä¾ç„¶å¯ä»¥é‡‡ç”¨åˆ—è¡¨\texttt{List}ã€‚
\item
  è¿˜å¯ä»¥ä¿å­˜è¿™ä¸ªå¹´çº§çš„å…¶ä»–ç‰¹å¾ï¼Œä¾‹å¦‚å…¥å­¦å¹´ä»½ï¼Œä»¥åŠæ‰€åœ¨æ ¡åŒºç­‰
\end{enumerate}

å› ä¸ºåŒå­¦çš„æ•°é‡å¾ˆå¤šï¼Œæˆ‘ä»¬ç”¨å…¥å­¦å¹´ä»½å’Œæ‰€åœ¨æ ¡åŒºæ¥åˆå§‹åŒ–Gradeå¯¹è±¡ï¼Œç„¶åå†æ·»åŠ åŒå­¦ã€‚å› æ­¤ï¼Œæ„é€ æ–¹æ³•ä¸­åªæœ‰yearå’Œcampusã€‚

æ³¨æ„ï¼Œè™½ç„¶æ„é€ æ–¹æ³•æ²¡æœ‰ä»å¤–éƒ¨è·å¾—åŒå­¦çš„ä¿¡æ¯ï¼Œä½†æ˜¯ä¾ç„¶å¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Grade:}
    \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{    å¹´çº§ç±»ï¼Œç”¨äºå¤„ç†å…¨å¹´çº§åŒå­¦çš„ä¿¡æ¯}
\CommentTok{    \textquotesingle{}\textquotesingle{}\textquotesingle{}}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, year, campus):}
        \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{        æ„é€ æ–¹æ³•}
\CommentTok{        \textquotesingle{}\textquotesingle{}\textquotesingle{}}
        \VariableTok{self}\NormalTok{.student\_list }\OperatorTok{=}\NormalTok{ [] }\CommentTok{\#åŒå­¦ä¿¡æ¯çš„Listï¼Œåˆå§‹åŒ–æˆç©ºåˆ—è¡¨}
        \VariableTok{self}\NormalTok{.year }\OperatorTok{=}\NormalTok{ year}
        \VariableTok{self}\NormalTok{.campus }\OperatorTok{=}\NormalTok{ campus}
\end{Highlighting}
\end{Shaded}

æµ‹è¯•ä¸€ä¸‹

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{grade\_2021 }\OperatorTok{=}\NormalTok{ Grade(}\DecValTok{2021}\NormalTok{,}\StringTok{\textquotesingle{}ç™½äº‘æ ¡åŒº\textquotesingle{}}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(grade\_2021.year)}
\BuiltInTok{print}\NormalTok{(grade\_2021.campus)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2021
ç™½äº‘æ ¡åŒº
\end{verbatim}

å…ˆç”¨åŒå­¦çš„ä¿¡æ¯ï¼Œåˆ›å»ºå‡ ä¸ªStudentå¯¹è±¡ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p1 }\OperatorTok{=}\NormalTok{ Student(}\StringTok{\textquotesingle{}Alex\textquotesingle{}}\NormalTok{,}\DecValTok{2001}\NormalTok{,}\StringTok{\textquotesingle{}female\textquotesingle{}}\NormalTok{,}\DecValTok{2021001}\NormalTok{)}
\NormalTok{p2 }\OperatorTok{=}\NormalTok{ Student(}\StringTok{\textquotesingle{}Bob\textquotesingle{}}\NormalTok{,}\DecValTok{2001}\NormalTok{,}\StringTok{\textquotesingle{}male\textquotesingle{}}\NormalTok{,}\DecValTok{2021002}\NormalTok{)}
\NormalTok{p3 }\OperatorTok{=}\NormalTok{ Student(}\StringTok{\textquotesingle{}Clare\textquotesingle{}}\NormalTok{,}\DecValTok{2001}\NormalTok{,}\StringTok{\textquotesingle{}female\textquotesingle{}}\NormalTok{,}\DecValTok{2021003}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

æ·»åŠ åŒå­¦åˆ°å¹´çº§

æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠæ•°æ®æ·»åŠ åˆ°grade\_2021çš„å†…éƒ¨ï¼ˆè™½ç„¶ä¸€èˆ¬ä¸å»ºè®®å¦‚æ­¤ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{grade\_2021.student\_list.append(p1)}
\NormalTok{grade\_2021.student\_list.append(p2)}
\NormalTok{grade\_2021.student\_list.append(p3)}

\BuiltInTok{print}\NormalTok{(grade\_2021.student\_list[}\DecValTok{0}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å­¦å·ï¼š2021001ï¼Œå§“å: Alexï¼Œæ€§åˆ«: femaleï¼Œå¹´é¾„: 22
\end{verbatim}

åŒæ„ï¼Œç›´æ¥æ“ä½œåº•å±‚æ•°æ®ï¼Œå¯èƒ½æœ‰æ•°æ®é”™è¯¯çš„é£é™©ï¼Œä¾‹å¦‚é‡å¤æ·»åŠ åŒå­¦ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è€ƒè™‘ç”¨å†™ä¸€ä¸ªæ–¹æ³•\texttt{add\_student}æ¥è¿›è¡Œæ·»åŠ ã€‚ä»¥åŠä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥è¿”å›åŒå­¦çš„æ•°é‡ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Grade:}
    \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{    å¹´çº§ç±»ï¼Œç”¨äºå¤„ç†å…¨å¹´çº§åŒå­¦çš„ä¿¡æ¯}
\CommentTok{    \textquotesingle{}\textquotesingle{}\textquotesingle{}}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, year, campus):}
        \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{        æ„é€ æ–¹æ³•}
\CommentTok{        \textquotesingle{}\textquotesingle{}\textquotesingle{}}
        \VariableTok{self}\NormalTok{.student\_list }\OperatorTok{=}\NormalTok{ [] }\CommentTok{\#åŒå­¦ä¿¡æ¯çš„Listï¼Œåˆå§‹åŒ–æˆç©ºåˆ—è¡¨}
        \VariableTok{self}\NormalTok{.year }\OperatorTok{=}\NormalTok{ year}
        \VariableTok{self}\NormalTok{.campus }\OperatorTok{=}\NormalTok{ campus}
    
    \KeywordTok{def}\NormalTok{ add\_student(}\VariableTok{self}\NormalTok{,student):}
        \VariableTok{self}\NormalTok{.student\_list.append(student)}
    
    \KeywordTok{def}\NormalTok{ get\_grade\_size(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \BuiltInTok{len}\NormalTok{(}\VariableTok{self}\NormalTok{.student\_list)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{grade\_2021 }\OperatorTok{=}\NormalTok{ Grade(}\DecValTok{2021}\NormalTok{, }\StringTok{\textquotesingle{}ç™½äº‘æ ¡åŒº\textquotesingle{}}\NormalTok{)}

\NormalTok{grade\_2021.add\_student(p1)}
\NormalTok{grade\_2021.add\_student(p2)}
\NormalTok{grade\_2021.add\_student(p3)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(grade\_2021.get\_grade\_size())}
\BuiltInTok{print}\NormalTok{(grade\_2021.student\_list[}\DecValTok{0}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
3
å­¦å·ï¼š2021001ï¼Œå§“å: Alexï¼Œæ€§åˆ«: femaleï¼Œå¹´é¾„: 22
\end{verbatim}

å½“ç„¶ï¼Œæ•°æ®éªŒè¯æ˜¯æˆ‘ä»¬ç›®æ ‡ä¹‹ä¸€ã€‚æ¯”å¦‚ï¼Œå­¦å·æ˜¯ä¸èƒ½é‡å¤çš„ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Grade:}
    \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{    å¹´çº§ç±»ï¼Œç”¨äºå¤„ç†å…¨å¹´çº§åŒå­¦çš„ä¿¡æ¯}
\CommentTok{    \textquotesingle{}\textquotesingle{}\textquotesingle{}}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, year, campus):}
        \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{        æ„é€ æ–¹æ³•}
\CommentTok{        \textquotesingle{}\textquotesingle{}\textquotesingle{}}
        \VariableTok{self}\NormalTok{.student\_list }\OperatorTok{=}\NormalTok{ [] }\CommentTok{\#åŒå­¦ä¿¡æ¯çš„Listï¼Œåˆå§‹åŒ–æˆç©ºåˆ—è¡¨}
        \VariableTok{self}\NormalTok{.year }\OperatorTok{=}\NormalTok{ year}
        \VariableTok{self}\NormalTok{.campus }\OperatorTok{=}\NormalTok{ campus}
    
    \KeywordTok{def}\NormalTok{ add\_student(}\VariableTok{self}\NormalTok{, student):}
\NormalTok{        all\_student\_id }\OperatorTok{=}\NormalTok{ [s.student\_id }\ControlFlowTok{for}\NormalTok{ s }\KeywordTok{in} \VariableTok{self}\NormalTok{.student\_list ]}
        
        \ControlFlowTok{if}\NormalTok{ student.student\_id }\KeywordTok{in}\NormalTok{ all\_student\_id:}
            \ControlFlowTok{raise} \PreprocessorTok{ValueError}\NormalTok{(}\StringTok{"é”™è¯¯ï¼å­¦å·é‡å¤ï¼š"} \OperatorTok{+}\NormalTok{ student.}\FunctionTok{\_\_str\_\_}\NormalTok{())}
        
        \VariableTok{self}\NormalTok{.student\_list.append(student)}
      
    \KeywordTok{def}\NormalTok{ get\_grade\_size(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \BuiltInTok{len}\NormalTok{(}\VariableTok{self}\NormalTok{.student\_list)}
\end{Highlighting}
\end{Shaded}

æµ‹è¯•ä¸€ä¸‹é‡å¤æ·»åŠ 

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{grade\_2021 }\OperatorTok{=}\NormalTok{ Grade(}\DecValTok{2021}\NormalTok{, }\StringTok{\textquotesingle{}ç™½äº‘æ ¡åŒº\textquotesingle{}}\NormalTok{)}

\NormalTok{grade\_2021.add\_student(p1)}
\NormalTok{grade\_2021.add\_student(p1)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
ValueError: é”™è¯¯ï¼å­¦å·é‡å¤ï¼šå­¦å·ï¼š2021001ï¼Œå§“å: Alexï¼Œæ€§åˆ«: femaleï¼Œå¹´é¾„: 20
\end{verbatim}

æ·»åŠ äº†åŒå­¦ï¼Œå¾—æœ‰æŸ¥æ‰¾åŠŸèƒ½

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{class}\NormalTok{ Grade:}
    \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{    å¹´çº§ç±»ï¼Œç”¨äºå¤„ç†å…¨å¹´çº§åŒå­¦çš„ä¿¡æ¯}
\CommentTok{    \textquotesingle{}\textquotesingle{}\textquotesingle{}}
    \KeywordTok{def} \FunctionTok{\_\_init\_\_}\NormalTok{(}\VariableTok{self}\NormalTok{, year, campus):}
        \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\CommentTok{        æ„é€ æ–¹æ³•}
\CommentTok{        \textquotesingle{}\textquotesingle{}\textquotesingle{}}
        \VariableTok{self}\NormalTok{.student\_list }\OperatorTok{=}\NormalTok{ [] }\CommentTok{\#åŒå­¦ä¿¡æ¯çš„Listï¼Œåˆå§‹åŒ–æˆç©ºåˆ—è¡¨}
        \VariableTok{self}\NormalTok{.year }\OperatorTok{=}\NormalTok{ year}
        \VariableTok{self}\NormalTok{.campus }\OperatorTok{=}\NormalTok{ campus}
    
    \KeywordTok{def}\NormalTok{ add\_student(}\VariableTok{self}\NormalTok{, student):}
\NormalTok{        all\_student\_id }\OperatorTok{=}\NormalTok{ [s.student\_id }\ControlFlowTok{for}\NormalTok{ s }\KeywordTok{in} \VariableTok{self}\NormalTok{.student\_list ]}
        
        \ControlFlowTok{if}\NormalTok{ student.student\_id }\KeywordTok{in}\NormalTok{ all\_student\_id:}
            \ControlFlowTok{raise} \PreprocessorTok{ValueError}\NormalTok{(}\StringTok{"é”™è¯¯ï¼å­¦å·é‡å¤ï¼š"} \OperatorTok{+}\NormalTok{ student.}\FunctionTok{\_\_str\_\_}\NormalTok{())}
        
        \VariableTok{self}\NormalTok{.student\_list.append(student)}

    \KeywordTok{def}\NormalTok{ get\_grade\_size(}\VariableTok{self}\NormalTok{):}
        \ControlFlowTok{return} \BuiltInTok{len}\NormalTok{(}\VariableTok{self}\NormalTok{.student\_list)}
    
    \KeywordTok{def}\NormalTok{ find\_student\_by\_id(}\VariableTok{self}\NormalTok{,student\_id):}
\NormalTok{        result }\OperatorTok{=}\NormalTok{ [s }\ControlFlowTok{for}\NormalTok{ s }\KeywordTok{in} \VariableTok{self}\NormalTok{.student\_list }\ControlFlowTok{if}\NormalTok{ s.student\_id }\OperatorTok{==}\NormalTok{ student\_id]}
        \ControlFlowTok{if} \BuiltInTok{len}\NormalTok{(result) }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{:}
            \ControlFlowTok{return}\NormalTok{ result[}\DecValTok{0}\NormalTok{]}
        \ControlFlowTok{else}\NormalTok{:}
            \ControlFlowTok{return} \VariableTok{None}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{grade\_2021 }\OperatorTok{=}\NormalTok{ Grade(}\DecValTok{2021}\NormalTok{,}\StringTok{\textquotesingle{}ç™½äº‘æ ¡åŒº\textquotesingle{}}\NormalTok{)}

\NormalTok{grade\_2021.add\_student(p1)}
\NormalTok{grade\_2021.add\_student(p2)}
\NormalTok{grade\_2021.add\_student(p3)}
\end{Highlighting}
\end{Shaded}

æ‰¾ä¸ªäººçœ‹çœ‹

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ grade\_2021.find\_student\_by\_id(}\DecValTok{2021001}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
å­¦å·ï¼š2021001ï¼Œå§“å: Alexï¼Œæ€§åˆ«: femaleï¼Œå¹´é¾„: 22
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ grade\_2021.find\_student\_by\_id(}\DecValTok{2021009}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
None
\end{verbatim}

\part{ç¬¬2éƒ¨åˆ† æ•°æ®å¤„ç†ä¸ç»˜å›¾}

æ•°æ®å¤„ç†éƒ¨åˆ†ï¼Œæˆ‘ä»¬ç”¨å·¥å…·å’ŒPythonåŸºç¡€ç¨æœ‰ä¸€ç‚¹ä¸åŒã€‚

PythonåŸºç¡€éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨æŸä¸€ä¸ª\texttt{.py}æ–‡ä»¶ä¸Šå·¥ä½œã€‚
\texttt{.py}æ–‡ä»¶æ˜¯Pythonçš„æºä»£ç æ–‡ä»¶ï¼Œæˆ–è€…è¯´è„šæœ¬æ–‡ä»¶ï¼Œ
è¿™ä¸ªæ–‡ä»¶æœ¬èº«å¯ä»¥ç”±Pythonçš„è§£é‡Šå™¨è¿›è¡Œä»å¤´åˆ°å°¾çš„æ‰§è¡Œï¼ˆä¹Ÿæ˜¯æœ€åŸºæœ¬çš„æ‰§è¡Œæ–¹å¼ï¼Œè§ç¬¬ä¸€éƒ¨åˆ†çš„ç¬¬2ç« ``Pythonç¨‹åºçš„æ‰§è¡Œ''ï¼‰ã€‚
ä¹Ÿå¯ä»¥åœ¨VSCODEä¸­ï¼ŒæŒ‰Cellæ‰§è¡Œæ¥è¿›è¡Œäº’åŠ¨æ‰§è¡Œï¼ˆè¿è¡Œä¸€éƒ¨åˆ†ä»£ç ï¼Œçœ‹ä¸€éƒ¨ç»“æœï¼‰ã€‚

å¯¹äºåˆ†æç±»çš„å·¥ä½œï¼Œæ˜¾ç„¶äº’åŠ¨æ‰§è¡Œæ›´åŠ æ–¹ä¾¿ï¼Œæ­£å¦‚æˆ‘ä»¬çš„ä¸¤æ¬¡å¤§ä½œä¸šã€‚

åœ¨æ•°æ®åˆ†æçš„åœºåˆï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨Notebookæ–¹å¼å·¥ä½œã€‚

æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜ä¸º\texttt{.ipynb}ï¼Œæ¯”å¦‚\texttt{001.ipynb}ï¼ŒVSCODEå°±ä¼šå¯åŠ¨Jupyter
Notebookæ¨¡å¼ã€‚

è¿™ä¸ªæ¨¡å¼çš„ç‰¹ç‚¹æ˜¯

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ¯ä¸ªcellè¿è¡Œçš„ç»“æœï¼Œä¼šç›´æ¥æ˜¾ç¤ºåœ¨è¿™ä¸ªcellçš„ä¸‹æ–¹ã€‚
\item
  åªæœ‰äº’åŠ¨è¿è¡Œæ–¹å¼ï¼Œä¸èƒ½åœ¨å¤–éƒ¨ä½¿ç”¨Pythonè§£é‡Šå™¨è¿è¡Œã€‚
\end{enumerate}

æ³¨æ„ï¼š

vscdoeï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰åªçœ‹æ‰©å±•åæ¥åŒºåˆ†ä¸¤è€…ï¼š
æ–‡ä»¶åæ˜¯\texttt{.py}ç»“å°¾ï¼Œä½ å°±æ˜¯åœ¨ç¼–è¾‘ä¸€ä¸ªpythonçš„æºä»£ç æ–‡ä»¶ï¼›
æ–‡ä»¶åæ˜¯\texttt{.ipynb}ç»“å°¾ï¼Œä½ å°±æ˜¯åœ¨ç¼–è¾‘ä¸€ä¸ªJupyter Notebookæ–‡ä»¶ã€‚

ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä¸¤è€…éƒ½å¯ä»¥å®Œæˆåˆ†æç±»çš„å·¥ä½œã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  å¦‚æœä½ è¦cellçš„è¿è¡Œç»“æœæ˜¾ç¤ºåœ¨cellä¸‹æ–¹ï¼Œ ä½ å°±é€‰æ‹©Jupyter Notebookã€‚
\item
  å¦‚æœä½ å¸Œæœ›è¿™ä¸ªæ–‡ä»¶ä¸­çš„ä»£ç å¯ä»¥è¢«å…¶ä»–ç¨‹åºï¼ˆå¦ä¸€ä¸ª\texttt{.py}æ–‡ä»¶ï¼Œæˆ–è€…Jupyter
  Notebookï¼‰è°ƒç”¨ï¼Œé€‰æ‹©\texttt{.py}æ–‡ä»¶ã€‚
\end{enumerate}

å®è·µä¸­ï¼Œå¾€å¾€ä¼šåœ¨Jupyter Notebookï¼ˆ\texttt{.ipynb}æ–‡ä»¶ï¼‰ä¸­è¿›è¡Œåˆ†æå·¥ä½œï¼Œ
åœ¨\texttt{.py}æ–‡ä»¶ä¸­å†™æ¨¡å—ï¼ˆæŸäº›å¸¸ç”¨å‡½æ•°ç­‰ï¼‰ï¼Œç„¶ååœ¨Noteboookä¸­\texttt{import}ã€‚åç»­æˆ‘ä»¬ä¼šé‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œä½†ä»æ•°æ®åˆ†æçš„è¿‡ç¨‹æ¥çœ‹ï¼Œä¸¤è€…æ²¡æœ‰æœ¬è´¨çš„åŒºåˆ«ã€‚

\hypertarget{numpyux9ad8ux6027ux80fdux5411ux91cfux8fd0ux7b97}{%
\chapter{NumPyï¼šé«˜æ€§èƒ½å‘é‡è¿ç®—}\label{numpyux9ad8ux6027ux80fdux5411ux91cfux8fd0ux7b97}}

\begin{tcolorbox}[enhanced jigsaw, opacityback=0, left=2mm, coltitle=black, leftrule=.75mm, bottomtitle=1mm, arc=.35mm, opacitybacktitle=0.6, bottomrule=.15mm, breakable, colbacktitle=quarto-callout-note-color!10!white, toprule=.15mm, toptitle=1mm, colframe=quarto-callout-note-color-frame, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colback=white]

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  éœ€è¦è®²å‰6èŠ‚
\item
  æ—¶é—´å……è¶³å¯ä»¥å‰¯æœ¬å’Œè§†å›¾ç­‰
\end{enumerate}

\end{tcolorbox}

NumPyæ˜¯ä»€ä¹ˆï¼šè¿™ä¸ªåŒ…æä¾›çš„ç»„ä»¶æ˜¯Pythonè‡ªå¸¦çš„Listçš„å¼ºå¤§çš„æ›¿ä»£å“ï¼šé€Ÿåº¦é£å¿«ï¼Œæ“ä½œä¾¿åˆ©ï¼ˆåé¢éƒ½ä¼šè¯´åˆ°ï¼‰ã€‚ç‰¹åˆ«æ˜¯å¤„ç†é•¿æ•°ç»„çš„æ—¶å€™ï¼Œå…¸å‹çš„æ¯”å¦‚å„ç§æ—¶é—´åºåˆ—æ•°æ®ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¯¼å…¥numpy}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\end{Highlighting}
\end{Shaded}

æˆ‘ä»¬ç”¨ä¸€ä¸ªListæ¥åˆ›å»ºä¸€ä¸ªNumPyçš„ä¸€ç»´æ•°ç»„(array)

\texttt{numpy.array()}å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªListä½œä¸ºå‚æ•°ï¼Œè¿”å›ç»™ä½ ä¸€ä¸ªnumpyçš„ndarrayã€‚

æ³¨æ„ï¼šarrayä¸€èˆ¬ç§°ä¸º``æ•°ç»„''ï¼Œä½ å¯ä»¥ç†è§£ä¸º``æ•°æ®ç±»å‹ç›¸åŒçš„åˆ—è¡¨''ï¼Œæ¯”å¦‚è‚¡ä»·åºåˆ—ï¼Œå…¶ä¸­æ‰€æœ‰å…ƒç´ éƒ½æ˜¯æµ®ç‚¹æ•°ã€‚
é‚£ä¹ˆndarrayï¼Œå¯ä»¥ç†è§£ä¸ºnç»´æ•°ç»„ï¼Œæ¯”å¦‚1ç»´æ•°ç»„ï¼ˆå‘é‡ï¼‰ï¼Œ2ç»´æ•°ç»„ï¼ˆçŸ©é˜µï¼‰ï¼Œ3ç»´æ•°ç»„ç­‰ç­‰
\ldots{}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]) }
\CommentTok{\# è¿™é‡Œçš„npæ˜¯æˆ‘ä»¬å‰é¢å®šä¹‰çš„numpyçš„åˆ«å}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}xçš„ç±»å‹ï¼š\textquotesingle{}}\NormalTok{,}\BuiltInTok{type}\NormalTok{(x)) }\CommentTok{\# np.ndarray}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}xçš„é•¿åº¦ï¼š\textquotesingle{}}\NormalTok{, x.shape[}\DecValTok{0}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}xçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š\textquotesingle{}}\NormalTok{, x[}\DecValTok{0}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
xçš„ç±»å‹ï¼š <class 'numpy.ndarray'>
xçš„é•¿åº¦ï¼š 5
xçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š 1
\end{verbatim}

\hypertarget{ux5e7fux64adbroadcast}{%
\section{å¹¿æ’­(Broadcast)}\label{ux5e7fux64adbroadcast}}

è¿™å’Œç›´æ¥ç”¨Pythonä¸­çš„Listæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

åˆ—ä¸¾2ä¸ªä¾‹å­ï¼š

æ¯”å¦‚æˆ‘ä»¬è¦æŠŠä¸€ä¸ªåºåˆ—é‡Œçš„å…ƒç´ å…¨éƒ¨ä¹˜ä»¥2ã€‚å¦‚æœæŠŠæ•°æ®ç”¨Listçš„å½¢å¼ä¿å­˜ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨åˆ—è¡¨æ¨å¯¼å¼ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}
\NormalTok{b }\OperatorTok{=}\NormalTok{ [i }\OperatorTok{*} \DecValTok{2} \ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in}\NormalTok{ a]}
\BuiltInTok{print}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[2, 4, 6, 8, 10]
\end{verbatim}

å¦‚æœç”¨arrayä¿å­˜ï¼Œé‚£ç›´æ¥*2å³å¯:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{])}
\NormalTok{b }\OperatorTok{=}\NormalTok{ a }\OperatorTok{*} \DecValTok{2}
\BuiltInTok{print}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[ 2  4  6  8 10]
\end{verbatim}

æˆ‘ä»¬ä¸¤ä¸ªåºåˆ—ä¸­çš„æ•°å€¼å¯¹ä½ç›¸åŠ ã€‚

å¦‚æœç”¨Listï¼Œæˆ‘ä»¬å¯èƒ½ç”¨å¾ªç¯ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{]}
\NormalTok{b }\OperatorTok{=}\NormalTok{ [}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]}

\NormalTok{c }\OperatorTok{=}\NormalTok{ []}
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(a)):}
\NormalTok{  c.append(a[i]}\OperatorTok{+}\NormalTok{b[i])}

\BuiltInTok{print}\NormalTok{(c)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[3, 5, 7, 9]
\end{verbatim}

å¦‚æœç”¨ndarrayï¼Œç›´æ¥ç›¸åŠ å³å¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{])}
\NormalTok{b }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{])}

\NormalTok{c }\OperatorTok{=}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b}

\BuiltInTok{print}\NormalTok{(c)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[3 5 7 9]
\end{verbatim}

è¿™ä¸ªç‰¹æ€§å«``å¹¿æ’­Boardcast''ã€‚

ä½¿ç”¨å¹¿æ’­ï¼Œä½ å¯ä»¥æŠŠä¸€ä¸ªåºåˆ—è§†ä¸º``ä¸€ä¸ªå˜é‡''ï¼šå¦‚æœä½ ä¸çœ‹å®šä¹‰ï¼Œ\texttt{c\ =\ a\ +\ b}å’Œ2ä¸ªå˜é‡ç›¸åŠ æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚
å¹¶ä¸”å¯¹ä¸€èˆ¬çš„æ“ä½œéƒ½æˆç«‹ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(a }\OperatorTok{{-}}\NormalTok{ b }\OperatorTok{*} \DecValTok{4}\NormalTok{) }\CommentTok{\# å¤åˆè¿ç®—}
\BuiltInTok{print}\NormalTok{(a }\OperatorTok{\textless{}=} \DecValTok{3}\NormalTok{) }\CommentTok{\# é€»è¾‘è¿ç®—}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[ -7 -10 -13 -16]
[ True  True  True False]
\end{verbatim}

å› æ­¤ï¼š 1. ä¸ç”¨æ‰‹å†™å¾ªç¯æˆ–è€…åˆ—è¡¨æ¨å¯¼å¼ï¼Œæ˜¯é‡‡ç”¨ndarrayæœ€ç›´æ¥çš„ä¸€ä¸ªå¥½å¤„ã€‚ 2.
ä»»ä½•æ•°å€¼å‹åºåˆ—æ•°æ®éƒ½å¯ä»¥è€ƒè™‘é‡‡ç”¨ndarrayï¼Œå¾ˆå¤šæ—¶å€™ä½ å¯ä»¥æŠŠä¸€ä¸ªåºåˆ—çœ‹å‡ºä¸€ä¸ªå˜é‡æ¥æ“ä½œã€‚
3. ndarrayå¤„ç†é€Ÿåº¦é£å¿«ã€‚

\hypertarget{ux6784ux9020ndarray}{%
\section{æ„é€ ndarray}\label{ux6784ux9020ndarray}}

ndarrayçš„æ„é€ æ–¹å¼å¾ˆå¤šï¼Œè¿™é‡Œåˆ—ä¸¾ä¸€äº›

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{6}\NormalTok{]) }\CommentTok{\# ä»åˆ—è¡¨æ„é€ }
\BuiltInTok{print}\NormalTok{(a)}

\NormalTok{b }\OperatorTok{=}\NormalTok{ np.zeros(}\DecValTok{3}\NormalTok{) }\CommentTok{\# nä¸ª0}
\BuiltInTok{print}\NormalTok{(b)}

\NormalTok{c }\OperatorTok{=}\NormalTok{ np.ones(}\DecValTok{4}\NormalTok{) }\CommentTok{\# nä¸ª1}
\BuiltInTok{print}\NormalTok{(c)}

\NormalTok{d }\OperatorTok{=}\NormalTok{ np.ones\_like(a) }\CommentTok{\# å’Œå¦ä¸€ä¸ªæ•°ç»„åŒæ ·é•¿åº¦çš„ï¼Œç”±1æ„æˆçš„æ•°ç»„}
\BuiltInTok{print}\NormalTok{(d) }\CommentTok{\#ï¼ˆaæœ‰6ä¸ªå…ƒç´ ï¼Œå› æ­¤ä¼šå¾—åˆ°6ä¸ª1ï¼‰}

\CommentTok{\# åŒæ ·é•¿åº¦ï¼Œä½†æ˜¯0ç»„æˆ}
\BuiltInTok{print}\NormalTok{(np.zeros\_like(a))}

\CommentTok{\# åŒæ ·é•¿åº¦ï¼Œä½†å¡«å……ä½ æŒ‡å®šçš„æ•°å­—}
\BuiltInTok{print}\NormalTok{(np.full\_like(a,}\DecValTok{9}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1 2 3 4 5 6]
[0. 0. 0.]
[1. 1. 1. 1.]
[1 1 1 1 1 1]
[0 0 0 0 0 0]
[9 9 9 9 9 9]
\end{verbatim}

\texttt{np.arange()}å¯ä»¥æŒ‰èŒƒå›´åˆ›é€ æ•°ç»„ï¼Œç±»æ¯”Pythonè‡ªå¸¦çš„\texttt{range()}å‡½æ•°ï¼Œç”¨æ³•åŸºæœ¬ä¸€è‡´ã€‚

æ³¨ï¼š

\texttt{range()}è¿”å›çš„æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼šå¯ä»¥å–å€¼ï¼Œå¯ä»¥åˆ‡ç‰‡ï¼Œä¸æ˜¯Listä½†å¯ä»¥è½¬ä¸ºListã€‚ï¼ˆè€ƒè™‘ä½ è¦ä¿å­˜ä¸€ä¸ªå·¨å¤§çš„åºåˆ—ï¼Œæ¯”å¦‚å…¨ä½“è‡ªç„¶æ•°ï¼Œä½†åªè¦ç”¨åˆ°å…¶ä¸­å‡ ä¸ªå€¼ï¼‰

\texttt{np.arange()}è¿”å›çš„å°±æ˜¯ä¸€ç»´çš„\texttt{ndarray}å¯¹è±¡ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(}\BuiltInTok{range}\NormalTok{(}\DecValTok{5}\NormalTok{))) }\CommentTok{\# [0,1,2,3,4]}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{list}\NormalTok{(}\BuiltInTok{range}\NormalTok{(}\DecValTok{2}\NormalTok{,}\DecValTok{8}\NormalTok{,}\DecValTok{2}\NormalTok{))) }\CommentTok{\# 2åˆ°7ï¼Œæ­¥é•¿ä¸º2: [2,4,6]}

\BuiltInTok{print}\NormalTok{(np.arange(}\DecValTok{5}\NormalTok{)) }\CommentTok{\# [0 1 2 3 4]}
\BuiltInTok{print}\NormalTok{(np.arange(}\DecValTok{2}\NormalTok{,}\DecValTok{8}\NormalTok{,}\DecValTok{2}\NormalTok{)) }\CommentTok{\# åŒæ ·æ˜¯[2 4 6]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[0, 1, 2, 3, 4]
[2, 4, 6]
[0 1 2 3 4]
[2 4 6]
\end{verbatim}

\hypertarget{ux53d6ux503cux548cux5207ux7247ux51e0ux4e4eux548cpythonux7684listux4e00ux6837}{%
\section{å–å€¼å’Œåˆ‡ç‰‡ï¼šå‡ ä¹å’ŒPythonçš„Listä¸€æ ·}\label{ux53d6ux503cux548cux5207ux7247ux51e0ux4e4eux548cpythonux7684listux4e00ux6837}}

æˆ‘ä»¬é‡‡ç”¨ç´¢å¼•(index)æˆ–è€…ä¸‹æ ‡æ¥å–å€¼ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•æ˜¯0ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{10}\NormalTok{)}\OperatorTok{*}\DecValTok{2}
\BuiltInTok{print}\NormalTok{(a)}

\BuiltInTok{print}\NormalTok{(a[}\DecValTok{4}\NormalTok{]) }\CommentTok{\# å–å€¼}

\BuiltInTok{print}\NormalTok{(a[}\DecValTok{3}\NormalTok{:}\DecValTok{6}\NormalTok{:}\DecValTok{2}\NormalTok{]) }\CommentTok{\#åˆ‡ç‰‡ï¼š 3å·å…ƒç´ ï¼ˆåŒ…å«ï¼‰åˆ°6å·å…ƒç´ ï¼ˆä¸åŒ…å«ï¼‰ï¼Œæ­¥é•¿ä¸º2}

\BuiltInTok{print}\NormalTok{(a[::}\OperatorTok{{-}}\DecValTok{1}\NormalTok{]) }\CommentTok{\# é€†åº}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[ 0  2  4  6  8 10 12 14 16 18]
8
[ 6 10]
[18 16 14 12 10  8  6  4  2  0]
\end{verbatim}

è¿˜å¯ä»¥æŒ‰æ¡ä»¶ç­›é€‰ï¼Œä¾‹å¦‚é€‰æ‹©ä¸€ä¸ªåºåˆ—é‡Œçš„æ‰€æœ‰å¥‡æ•°ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{5}\NormalTok{) }
\NormalTok{a }\OperatorTok{\%} \DecValTok{2} \OperatorTok{==} \DecValTok{1} \CommentTok{\# å¹¿æ’­æ±‚å¥‡æ•°ï¼Œè¿™æ˜¯ä¸ªå¸ƒå°”å€¼åºåˆ— [False,True,False .... ] }

\BuiltInTok{print}\NormalTok{(a }\OperatorTok{\%} \DecValTok{2} \OperatorTok{==} \DecValTok{1}\NormalTok{)}

\BuiltInTok{print}\NormalTok{(a)}
\BuiltInTok{print}\NormalTok{(a[a }\OperatorTok{\%} \DecValTok{2} \OperatorTok{==} \DecValTok{1}\NormalTok{])  }\CommentTok{\# a[æŸä¸ªå¸ƒå°”å€¼åºåˆ—]ï¼Œå°±å¯ä»¥æŠŠTrueä½ç½®ä¸Šçš„å€¼å–å‡º}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[False  True False  True False]
[0 1 2 3 4]
[1 3]
\end{verbatim}

\hypertarget{ux7f3aux5931ux503c}{%
\section{ç¼ºå¤±å€¼}\label{ux7f3aux5931ux503c}}

ndarrayä¸­ç¼ºå¤±å€¼ç”±\texttt{np.nan}æ¥è¡¨ç¤ºã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,np.nan,}\DecValTok{5}\NormalTok{,np.nan])}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[ 1.  2. nan  5. nan]
\end{verbatim}

åˆ¤æ–­å“ªä¸ªå…ƒç´ æ˜¯ç¼ºå¤±å€¼ï¼Ÿç”¨å‡½æ•°\texttt{np.isnan()}ï¼Œè¿”å›æ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä¸æ˜¯\texttt{np.nan}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(np.isnan(a)) }\CommentTok{\# å¾—åˆ°ä¸€ä¸ªboolå‹çš„ndarrayï¼š[False, False,  True, False]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[False False  True False  True]
\end{verbatim}

\hypertarget{ux5e03ux5c14ux5e8fux5217ux548cux903bux8f91ux8fd0ux7b97}{%
\section{å¸ƒå°”åºåˆ—å’Œé€»è¾‘è¿ç®—}\label{ux5e03ux5c14ux5e8fux5217ux548cux903bux8f91ux8fd0ux7b97}}

ç¼ºå¤±å€¼çš„ç´¢å¼•æ˜¯ï¼ˆç¬¬å‡ ä¸ªæ˜¯ï¼‰ï¼Ÿ\texttt{np.where()}å‡½æ•°ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(np.where(np.isnan(a))) }\CommentTok{\# [2,4]ï¼Œ2å·å’Œ4å·ï¼ˆç¬¬3å’Œç¬¬5ä¸ªï¼‰}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
(array([2, 4]),)
\end{verbatim}

\texttt{np.where()}å¯ä»¥è·å¾—ä»»ä½•å¸ƒå°”åºåˆ—\texttt{True}çš„ä½ç½®ï¼Œä¾‹å¦‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{10}\NormalTok{)}\OperatorTok{*}\DecValTok{2}
\BuiltInTok{print}\NormalTok{(a)}
\BuiltInTok{print}\NormalTok{(np.where(a }\OperatorTok{==} \DecValTok{8}\NormalTok{)) }\CommentTok{\# [4]ï¼Œ }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[ 0  2  4  6  8 10 12 14 16 18]
(array([4]),)
\end{verbatim}

é€»è¾‘è¿ç®—ç¬¦ï¼šä¸\texttt{\&}ï¼Œæˆ–\texttt{\textbar{}}ï¼Œé\texttt{\textasciitilde{}}ï¼Œå’Œå››åˆ™è¿ç®—ï¼Œ\texttt{\textgreater{}\textless{}=}ç±»ä¼¼ã€‚

ä¾‹å¦‚ï¼Œä¸è¿ç®— \texttt{\&}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{])}

\NormalTok{a }\OperatorTok{\textgreater{}} \DecValTok{3} \CommentTok{\# è¿™æ˜¯ä¸€ä¸ªboolåºåˆ—ï¼šarray([False, False, False,  True,  True])}

\NormalTok{mask }\OperatorTok{=}\NormalTok{ (a }\OperatorTok{\textgreater{}} \DecValTok{3}\NormalTok{) }\OperatorTok{\&}\NormalTok{ (a }\OperatorTok{\&} \DecValTok{2} \OperatorTok{==} \DecValTok{0}\NormalTok{)  }
\CommentTok{\# a \textgreater{} 3 ä¸”(ä¸è¿ç®—) a æ˜¯å¶æ•°ï¼šè¿™ä¹Ÿæ˜¯ä¸€ä¸ªboolåºåˆ—}

\CommentTok{\# boolåºåˆ—ï¼Œå¯ä»¥ä½œä¸ºç­›é€‰çš„æ¡ä»¶}

\NormalTok{a[mask] }\CommentTok{\# é€‰å‡º aä¸­å¤§äº3ä¸”æ˜¯å¶æ•°çš„å…ƒç´ }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([4, 5])
\end{verbatim}

æˆ–è¿ç®—åŒç†ã€‚

éè¿ç®— \texttt{\textasciitilde{}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¯¹maskå–åï¼Œå³æ±‚ "é(\textgreater{} 3 ä¸” ä¸ºå¶æ•°ï¼‰"çš„å…ƒç´  }
\NormalTok{a[}\OperatorTok{\textasciitilde{}}\NormalTok{mask]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([1, 2, 3])
\end{verbatim}

å¸ƒå°”åºåˆ—çš„é€»è¾‘è¿ç®—ï¼Œä¹Ÿå¯ä»¥ç”¨é€»è¾‘å‡½æ•°
\texttt{np.logical\_and()},\texttt{np.logical\_or()},\texttt{np.logical\_not()}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŠŠ2ä¸ªå¸ƒå°”åºåˆ—ï¼Œè¿›è¡Œå¯¹ä½çš„é€»è¾‘ä¸æ“ä½œ}
\BuiltInTok{print}\NormalTok{(np.logical\_and([}\VariableTok{True}\NormalTok{,}\VariableTok{False}\NormalTok{],[}\VariableTok{True}\NormalTok{, }\VariableTok{True}\NormalTok{])) }\CommentTok{\# [True, False] }

\CommentTok{\# æˆ–å’Œéç±»ä¼¼}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[ True False]
\end{verbatim}

ä¾‹å­ï¼šé€‰å–1-100 ä¹‹é—´ï¼Œå¯ä»¥è¢«7æ•´é™¤ï¼Œä¸”ä¸èƒ½è¢«5æ•´é™¤çš„æ•°å­—ï¼š

ç”¨è¿ç®—ç¬¦å†™ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{1}\NormalTok{,}\DecValTok{101}\NormalTok{)}

\NormalTok{mask }\OperatorTok{=}\NormalTok{ (a }\OperatorTok{\%} \DecValTok{7} \OperatorTok{==} \DecValTok{0}\NormalTok{) }\OperatorTok{\&}\NormalTok{ (a }\OperatorTok{\%} \DecValTok{5} \OperatorTok{!=} \DecValTok{0}\NormalTok{)}

\NormalTok{a[mask]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([ 7, 14, 21, 28, 42, 49, 56, 63, 77, 84, 91, 98])
\end{verbatim}

ç”¨é€»è¾‘å‡½æ•°å†™ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{100}\NormalTok{) }\OperatorTok{+} \DecValTok{1} \CommentTok{\# [1 2 3 ...]}

\NormalTok{mask }\OperatorTok{=}\NormalTok{ np.logical\_and(a }\OperatorTok{\%} \DecValTok{7} \OperatorTok{==} \DecValTok{0}\NormalTok{, a }\OperatorTok{\%} \DecValTok{5} \OperatorTok{!=} \DecValTok{0}\NormalTok{)  }\CommentTok{\# maskï¼šè’™ç‰ˆï¼Œå¯ä»¥ç†è§£ä¸ºâ€œè¿‡æ»¤å™¨â€}
\BuiltInTok{print}\NormalTok{(mask[:}\DecValTok{10}\NormalTok{]) }\CommentTok{\# maskçš„å‰10ä¸ª}

\BuiltInTok{print}\NormalTok{(a[mask]) }\CommentTok{\# æŠŠaç”¨maskè¿‡æ»¤ä¸€ä¸‹ã€‚}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[False False False False False False  True False False False]
[ 7 14 21 28 42 49 56 63 77 84 91 98]
\end{verbatim}

\hypertarget{ux4e00ux4e9bnumpyux51fdux6570}{%
\section{ä¸€äº›numpyå‡½æ•°}\label{ux4e00ux4e9bnumpyux51fdux6570}}

æ•°é‡å¤ªå¤šï¼Œæ— æ³•åˆ—ä¸¾ã€‚è¯·å–„äºæœç´¢å¼•æ“ï¼Œå¦‚æœç´¢''numpy æ­£å¼¦å‡½æ•°''ã€‚

åº”ç”¨numpyçš„å¦ä¸€ä¸ªå¥½å¤„ï¼šå†…ç½®æå¤§é‡çš„æ•°å­¦å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ã€‚å¯¹æ¯”Listï¼šæ±‚å’Œä¹Ÿè¦æ‰‹å†™å¾ªç¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(np.sin(a))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[ 0.84147098  0.90929743  0.14112001 -0.7568025 ]
\end{verbatim}

å–å¯¹æ•°

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(np.log(a))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[0.         0.69314718 1.09861229 1.38629436]
\end{verbatim}

ä¿ç•™nä½å°æ•°

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b }\OperatorTok{=}\NormalTok{ np.log(a)}
\BuiltInTok{print}\NormalTok{(np.}\BuiltInTok{round}\NormalTok{(b,}\DecValTok{2}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(b.}\BuiltInTok{round}\NormalTok{(}\DecValTok{2}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[0.   0.69 1.1  1.39]
[0.   0.69 1.1  1.39]
\end{verbatim}

æœ€å¤§å€¼æœ€å°å€¼

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(np.}\BuiltInTok{max}\NormalTok{(a))}
\BuiltInTok{print}\NormalTok{(a.}\BuiltInTok{max}\NormalTok{())}

\BuiltInTok{print}\NormalTok{(np.}\BuiltInTok{min}\NormalTok{(a))}
\BuiltInTok{print}\NormalTok{(a.}\BuiltInTok{min}\NormalTok{())}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
4
4
1
1
\end{verbatim}

æ±‚å’Œï¼Œå‡å€¼ï¼Œä¸­ä½æ•°ï¼Œæ ‡å‡†å·®

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(np.}\BuiltInTok{sum}\NormalTok{(a))}
\BuiltInTok{print}\NormalTok{(np.mean(a))}
\BuiltInTok{print}\NormalTok{(np.median(a))}
\BuiltInTok{print}\NormalTok{(np.std(a).}\BuiltInTok{round}\NormalTok{(}\DecValTok{2}\NormalTok{))}

\CommentTok{\# ä¹Ÿå¯ä»¥}
\BuiltInTok{print}\NormalTok{(a.}\BuiltInTok{sum}\NormalTok{())}
\BuiltInTok{print}\NormalTok{(a.mean())}
\CommentTok{\# print(a.median()) æ²¡æœ‰median()æ–¹æ³•ï¼Œè¦ç”¨np.median()å‡½æ•°}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
10
2.5
2.5
1.12
10
2.5
\end{verbatim}

æ’åº

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{x.sort()}ï¼šåŸåœ°æ’åºï¼Œä¼šæ”¹å˜å˜é‡çš„å€¼
\item
  \texttt{np.sort(x)}ï¼šè·å¾—æ–°çš„æ’åºåçš„æ•°ç»„ï¼Œä¸ä¼šæ”¹å˜åŸå€¼
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥}
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{5}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{])}
\NormalTok{a.sort() }
\BuiltInTok{print}\NormalTok{(a) }\CommentTok{\# açš„å€¼å·²ç»æ”¹å˜}


\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{5}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{])}
\NormalTok{b }\OperatorTok{=}\NormalTok{ np.sort(a) }\CommentTok{\# ä¸æ”¹å˜åŸå€¼}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}åŸå€¼aæ˜¯:\textquotesingle{}}\NormalTok{,a)}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}æ’åºåçš„bæ˜¯:\textquotesingle{}}\NormalTok{,b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1 2 3 4 5]
åŸå€¼aæ˜¯: [5 4 3 2 1]
æ’åºåçš„bæ˜¯: [1 2 3 4 5]
\end{verbatim}

\textbf{å–„ç”¨æœç´¢å¼•æ“}

\hypertarget{ux77e9ux9635ux8fd0ux7b97}{%
\section{çŸ©é˜µè¿ç®—}\label{ux77e9ux9635ux8fd0ux7b97}}

ç•¥

\hypertarget{ux526fux672cux548cux89c6ux56feview}{%
\section{å‰¯æœ¬å’Œè§†å›¾(view)}\label{ux526fux672cux548cux89c6ux56feview}}

æ‰€è°“å‰¯æœ¬ï¼šå°±æ˜¯æ•°ç»„å¦ä¸€ä¸ªæ‹·è´ï¼Œå¯¹å‰¯æœ¬çš„ä¿®æ”¹ä¸ä¼šå½±å“åŸæ¥çš„æ•°ç»„ã€‚

æ‰€è°“è§†å›¾ï¼šå’ŒåŸæ•°ç»„å…±äº«æ•°æ®ï¼Œæˆ–è€…å…±äº«éƒ¨åˆ†æ•°æ®ï¼Œå¯¹è§†å›¾çš„ä¿®æ”¹ä¼šæ”¹å˜åŸæ•°ç»„ã€‚

\texttt{.view()}æ–¹æ³•å’Œåˆ‡ç‰‡ï¼Œäº§ç”Ÿçš„éƒ½æ˜¯è§†å›¾ï¼Œä¿®æ”¹è§†å›¾ä¼šæ”¹å˜åŸæ•°ç»„ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{])}
\NormalTok{b }\OperatorTok{=}\NormalTok{ a.view() }\CommentTok{\# äº§ç”Ÿäº†ä¸€ä¸ªè§†å›¾ï¼šæ­¤æ—¶bå’Œaå…±äº«æ•°æ®}

\NormalTok{b[}\DecValTok{0}\NormalTok{] }\OperatorTok{=} \DecValTok{999}
\BuiltInTok{print}\NormalTok{(a)}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{type}\NormalTok{(b))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[999   2   3   4   5]
<class 'numpy.ndarray'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b }\OperatorTok{=}\NormalTok{ a[:}\DecValTok{2}\NormalTok{]  }\CommentTok{\# åˆ‡ç‰‡ä¹Ÿäº§ç”Ÿäº†ä¸€ä¸ªè§†å›¾ï¼šæ­¤æ—¶bå’Œaçš„å‰2ä¸ªå…ƒç´ å…±äº«æ•°æ®}

\NormalTok{b[}\OperatorTok{{-}}\DecValTok{1}\NormalTok{] }\OperatorTok{=} \OperatorTok{{-}}\DecValTok{999} \CommentTok{\# æ”¹å˜äº†åŸæ•°ç»„}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[ 999 -999    3    4    5]
\end{verbatim}

æ•°ç»„çš„\texttt{base}å±æ€§ä¼šæŒ‡ç¤ºå‡ºä¸€ä¸ªè§†å›¾æ‰€æŒ‡å‘çš„æ•°æ®ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(b)}
\BuiltInTok{print}\NormalTok{(b.base) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[ 999 -999]
[ 999 -999    3    4    5]
\end{verbatim}

æŒ‰æ¡ä»¶é€‰å–ï¼ˆä½ æä¾›ä¸€ä¸ªå¸ƒå°”åºåˆ—\texttt{{[}True,False,...\ {]}}ä½œä¸ºç­›é€‰æ¡ä»¶ï¼‰å†èµ‹å€¼ï¼Œäº§ç”Ÿçš„æ˜¯å‰¯æœ¬ï¼Œæ”¹å˜å‰¯æœ¬ä¸å½±å“åŸæ•°ç»„ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(a }\OperatorTok{\%} \DecValTok{2} \OperatorTok{==} \DecValTok{1}\NormalTok{)}

\NormalTok{b }\OperatorTok{=}\NormalTok{ a[a }\OperatorTok{\%} \DecValTok{2} \OperatorTok{==} \DecValTok{1}\NormalTok{] }\CommentTok{\# bæ˜¯ä¸€ä¸ªå‰¯æœ¬}
\NormalTok{b[}\DecValTok{0}\NormalTok{] }\OperatorTok{=} \DecValTok{999}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[ True False  True False  True]
[1 2 3 4 5]
\end{verbatim}

å¦‚æœ\texttt{b}æ˜¯ä¸€ä¸ªå‰¯æœ¬ï¼Œé‚£ä¹ˆ\texttt{b.base}åˆ™æ˜¯\texttt{None}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(b)}
\BuiltInTok{print}\NormalTok{(b.base) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[999   3   5]
None
\end{verbatim}

è¦æ˜ç¡®åœ°è·å¾—ä¸€ä¸ªå‰¯æœ¬ï¼Œå¯ä»¥ç”¨\texttt{.copy()}æ–¹æ³•ï¼Œå’ŒListä¸€æ ·ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b }\OperatorTok{=}\NormalTok{ a.copy()}
\NormalTok{b[}\DecValTok{0}\NormalTok{] }\OperatorTok{=} \DecValTok{12345}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1 2 3 4 5]
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a[ a }\OperatorTok{\%} \DecValTok{2} \OperatorTok{==} \DecValTok{1}\NormalTok{] }\OperatorTok{=} \OperatorTok{{-}}\DecValTok{1}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[-1  2 -1  4 -1]
\end{verbatim}

\hypertarget{reshape}{%
\section{reshape}\label{reshape}}

\texttt{.reshape()}æ–¹æ³•å¯ä»¥æ”¹å˜æ•°ç»„çš„å½¢çŠ¶ï¼Œæ¯”å¦‚æŠŠ6ä¸ªå…ƒç´ çš„ä¸€ç»´æ•°ç»„ï¼Œå˜æˆ2x3çš„äºŒç»´æ•°ç»„ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.arange(}\DecValTok{6}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}a:\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(a)}

\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}b:\textquotesingle{}}\NormalTok{)}
\NormalTok{b }\OperatorTok{=}\NormalTok{ a.reshape((}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{)) }\CommentTok{\# 2è¡Œ3åˆ—}
\BuiltInTok{print}\NormalTok{(b)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
a:
[0 1 2 3 4 5]
b:
[[0 1 2]
 [3 4 5]]
\end{verbatim}

\texttt{.reshape()}è·å¾—çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®æ˜¯ä¸€ä¸ªè§†å›¾ã€‚

è¿™é‡Œå¯ä»¥ç¢ç£¨ä¸€ä¸‹è§†å›¾çš„å«ä¹‰ï¼šè§†å›¾bï¼Œåªæ˜¯æ•°ç»„aä¸­çš„æ•°æ®çš„å¦ä¸€ç§å‘ˆç°æ–¹å¼ã€‚

åŒæ ·å…±äº«äº†ä¸€ç‰‡æ•°æ®\texttt{{[}0\ 1\ 2\ 3\ 4\ 5{]}}ï¼Œaçš„ä»¥ä¸€ç»´çš„æ–¹å¼å‘ˆç°ï¼Œbçš„ä»¥äºŒç»´çš„æ–¹å¼å‘ˆç°ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(b.base) }\CommentTok{\# b.base != None}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[0 1 2 3 4 5]
\end{verbatim}

æ˜¾ç„¶æˆ‘ä»¬æ”¹å˜bä¸­çš„å€¼ï¼Œä¹Ÿä¼šæ”¹å˜aã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b[}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{] }\OperatorTok{=} \DecValTok{999}
\BuiltInTok{print}\NormalTok{(a)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[999   1   2   3   4   5]
\end{verbatim}

æ’åºè·å¾—çš„æ˜¯å‰¯æœ¬è¿˜æ˜¯è§†å›¾ï¼Ÿ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{5}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{])}
\NormalTok{b }\OperatorTok{=}\NormalTok{ np.sort(a)}
\BuiltInTok{print}\NormalTok{(b)}
\BuiltInTok{print}\NormalTok{(b.base) }\CommentTok{\# b.base is Noneï¼Œbæ˜¯ä¸€ä¸ªæ‹·è´ï¼Œæ²¡æœ‰å’Œå…¶ä»–æ•°ç»„å…±äº«æ•°æ®ã€‚}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1 2 3 4 5]
None
\end{verbatim}

\hypertarget{ux89c6ux56feux548cux53d8ux91cfux5bf9ux53d8ux91cfux7684ux8d4bux503c}{%
\section{è§†å›¾å’Œå˜é‡å¯¹å˜é‡çš„èµ‹å€¼}\label{ux89c6ux56feux548cux53d8ux91cfux5bf9ux53d8ux91cfux7684ux8d4bux503c}}

è§†å›¾ï¼Œå’Œæ•°ç»„å¯¹å¦ä¸€ä¸ªå˜é‡èµ‹å€¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è§†å›¾æ˜¯ä¸€ä¸ªå•ç‹¬çš„å˜é‡ï¼Œå’ŒåŸæ•°ç»„å…±äº«åº•å±‚çš„æ•°æ®ï¼Œä½†æ˜¯æŸäº›å±æ€§ï¼ˆæ¯”å¦‚è¡Œåˆ—shapeï¼‰æ˜¯å„è‡ªç‹¬ç«‹çš„ã€‚
\item
  æ•°ç»„ç›´æ¥ç»™å¦ä¸€ä¸ªå˜é‡åèµ‹å€¼ï¼Œç­‰äºåŸæ•°ç»„çš„ä¸€ä¸ªåˆ«åï¼ˆå˜é‡ååªæ˜¯æ ‡ç­¾ï¼‰ï¼Œä¸¤ä¸ªå˜é‡æŒ‡å‘ç›¸åŒçš„å®ä½“ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{,}\DecValTok{6}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(a)}

\CommentTok{\# bæ˜¯açš„ä¸€ä¸ªè§†å›¾ï¼Œæ˜¯å¦ä¸€ä¸ªå˜é‡ï¼Œåªæ˜¯å…±äº«æ•°æ®}
\NormalTok{b }\OperatorTok{=}\NormalTok{ a.view()[::}\OperatorTok{{-}}\DecValTok{1}\NormalTok{]  }\CommentTok{\# è·å¾—ä¸€ä¸ªé€†åºçš„è§†å›¾}

\BuiltInTok{print}\NormalTok{(b)}

\CommentTok{\# cæ˜¯açš„åˆ«åï¼Œaå’ŒcæŒ‡å‘åŒæ ·çš„å®ä½“ï¼Œ}
\NormalTok{c }\OperatorTok{=}\NormalTok{ a}
\BuiltInTok{print}\NormalTok{(c)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1 2 3 4 5 6]
[6 5 4 3 2 1]
[1 2 3 4 5 6]
\end{verbatim}

\hypertarget{pandasux4e8cux7ef4ux6570ux636eux5904ux7406}{%
\chapter{Pandasï¼šäºŒç»´æ•°æ®å¤„ç†}\label{pandasux4e8cux7ef4ux6570ux636eux5904ux7406}}

\begin{tcolorbox}[enhanced jigsaw, opacityback=0, left=2mm, coltitle=black, leftrule=.75mm, bottomtitle=1mm, arc=.35mm, opacitybacktitle=0.6, bottomrule=.15mm, breakable, colbacktitle=quarto-callout-note-color!10!white, toprule=.15mm, toptitle=1mm, colframe=quarto-callout-note-color-frame, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, rightrule=.15mm, colback=white]

ä¸»è¦å†…å®¹ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  DataFrameç»“æ„å’Œåˆ›å»º
\item
  æ•°æ®è¯»å–å’Œåˆ—ç±»å‹
\item
  è¡Œå’Œåˆ—çš„é€‰æ‹©ä¸è¿ç®—
\item
  å€¼ä¿®æ”¹å’Œæ•°æ®æ¸…æ´—ã€æ•°æ®åˆå¹¶
\item
  ç»Ÿè®¡ã€åˆ†ç»„å’Œèšåˆ
\item
  æ—¶é—´åºåˆ—çš„éƒ¨åˆ†æ“ä½œ
\item
  ä¿å­˜
\end{enumerate}

\end{tcolorbox}

\hypertarget{ux524dux7f6e-jupyter-notebook}{%
\section{å‰ç½®: Jupyter Notebook}\label{ux524dux7f6e-jupyter-notebook}}

\texttt{.py}æ˜¯Pythonçš„æºä»£ç æ–‡ä»¶ã€‚è¿™é‡Œé‡‡ç”¨å¦ä¸€ç§æ–‡ä»¶ï¼Œæ›´åŠ å¸¸ç”¨äºæ•°æ®åˆ†æï¼šJupyter
Notebookï¼Œ\texttt{.ipynb}ã€‚

Whyï¼šå•å…ƒæ ¼çš„è¾“å‡ºï¼Œä¼šç›´æ¥æ˜¾ç¤ºåœ¨å•å…ƒæ ¼çš„ä¸‹æ–¹ï¼Œæ¯”è¾ƒæ–¹ä¾¿çœ‹ã€‚ä½†ç”¨èµ·æ¥å’Œå•å…ƒæ ¼åˆ†å‰²çš„\texttt{.py}ç±»ä¼¼ã€‚

æ–°å»ºæ–‡ä»¶ï¼Œæ‰©å±•åæ”¹ä¸º\texttt{.ipynb}å³å¯ã€‚

å¸¸è§çš„åˆ†å·¥ï¼š\texttt{.ipynb}å†™æ•°æ®åˆ†æçš„è¿‡ç¨‹ï¼›\texttt{.py}ä¿å­˜å…±ç”¨çš„ä»£ç ï¼Œä½œä¸ºæ¨¡å—åœ¨\texttt{ipynb}ä¸­å¯¼å…¥ã€‚

æ¯ä¸ªå•å…ƒæ ¼å¯ä»¥æ˜¯ä»£ç ï¼Œä¹Ÿå¯ä»¥Markdownæ ¼å¼çš„æ–‡æœ¬ã€‚å•å…ƒä¸ªçš„å³ä¸‹è§’å¯ä»¥é€‰æ‹©ã€‚

``æ–‡æœ¬''çš„å•å…ƒæ ¼ï¼Œctrl+enterå¯ä»¥çœ‹æ¸²æŸ“çš„ç»“æœï¼ŒåŒå‡»å¯ä»¥å›åˆ°ç¼–è¾‘ã€‚

\hypertarget{ux6570ux636eux7ed3ux6784ux548cux8bfbux53d6}{%
\section{æ•°æ®ç»“æ„å’Œè¯»å–}\label{ux6570ux636eux7ed3ux6784ux548cux8bfbux53d6}}

Pandaså¤„ç†äºŒç»´è¡¨æ ¼ï¼Œå…¶ä¸­çš„DataFrameå¯¹è±¡å‡ ä¹å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªExcelè¡¨ï¼šæœ‰è¡Œã€åˆ—ã€é¢˜å¤´ç­‰ç­‰ã€‚

DataFrameå¯ä»¥è§†ä¸ºæ˜¯``æŒ‰åˆ—''ç»„ç»‡çš„ï¼šnä¸ªåˆ—çš„æ¨ªå‘å¹¶æ’ï¼šæ¯ä¸ªåˆ—æ˜¯ä¸€ä¸ªSerieså¯¹è±¡ã€‚

ä¸€ä¸ªSeriesè¡¨ç¤º``ä¸€åˆ—''ï¼Œæ¯ä¸ªSerieså¯¹è±¡åˆæœ‰ä¸¤ä¸ªéƒ¨ä»¶ç»„æˆï¼Œç´¢å¼•indexå’Œå€¼valuesï¼Œå…¶ä¸­çš„å€¼valuesï¼Œ
æ˜¯ä¸€ä¸ªnumpyçš„ndarrayã€‚

åè¿‡æ¥ï¼Œä¸€ä¸ªæ•°æ®åºåˆ—ndarrayå’Œä¸€ä¸ªä¸æ•°æ®ç­‰é•¿çš„ç´¢å¼•indexï¼Œç»„æˆä¸€ä¸ªåˆ—Seriesï¼Œå¤šä¸ªSeriesæ¨ªå‘åˆå¹¶ï¼Œç»„æˆä¸€ä¸ªDataFrameã€‚

(index + ndarray) -\textgreater{} Series

(index + Series + Series + \ldots) -\textgreater{} DataFrame

\includegraphics{images/df-dp.png}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æƒ¯ä¾‹å¯¼å…¥2ä¸ªæ¨¡å—}
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}

\CommentTok{\# ä»å­—å…¸åˆ›å»ºï¼Œåé¢ä¼šè¯¦è¿°}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(}\BuiltInTok{id}\OperatorTok{=}\NormalTok{[}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{],name }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}a\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}b\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}c\textquotesingle{}}\NormalTok{]))}

\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& id & name \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & a \\
1 & 2 & b \\
2 & 3 & c \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å–æŸä¸€åˆ—ï¼šå¾—åˆ°ä¸€ä¸ªSeriesï¼Œæ³¨æ„Seriesç”±indexå’Œvalueç»„æˆ}
\NormalTok{x }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{]}
\BuiltInTok{print}\NormalTok{(x)}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{type}\NormalTok{(x))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0    a
1    b
2    c
Name: name, dtype: object
<class 'pandas.core.series.Series'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# xçš„index}
\BuiltInTok{print}\NormalTok{(x.index)}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{type}\NormalTok{(x.index))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
RangeIndex(start=0, stop=3, step=1)
<class 'pandas.core.indexes.range.RangeIndex'>
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# xçš„value}
\BuiltInTok{print}\NormalTok{(x.values)}
\BuiltInTok{print}\NormalTok{(}\BuiltInTok{type}\NormalTok{(x.values)) }\CommentTok{\# æ˜¯ä¸€ä¸ªndarray}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a' 'b' 'c']
<class 'numpy.ndarray'>
\end{verbatim}

\hypertarget{dataframeux7684ux521bux5efa}{%
\section{DataFrameçš„åˆ›å»º}\label{dataframeux7684ux521bux5efa}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä»ndarrayæˆ–è€…liståˆ›å»º}

\NormalTok{a }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{8}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{2}\NormalTok{])}
\BuiltInTok{print}\NormalTok{(a)}

\NormalTok{df1 }\OperatorTok{=}\NormalTok{ pd.DataFrame(a)}
\NormalTok{df1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[8 6 4 2]
\end{verbatim}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& 0 \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 8 \\
1 & 6 \\
2 & 4 \\
3 & 2 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}apple\textquotesingle{}}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(b)}
\NormalTok{df2 }\OperatorTok{=}\NormalTok{ pd.DataFrame(b, columns}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{],index }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}abcde\textquotesingle{}}\NormalTok{)) }\CommentTok{\# æŒ‡å®šcolumnså’Œindex}
\NormalTok{df2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['a', 'p', 'p', 'l', 'e']
\end{verbatim}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
a & a \\
b & p \\
c & p \\
d & l \\
e & e \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä»å­—å…¸åˆ›å»º}

\CommentTok{\# å­—å…¸çš„æ¯ä¸€ä¸ªitemä¼šæˆä¸ºè¡¨æ ¼çš„ä¸€åˆ—ï¼Œkeyä¼šæˆä¸ºåˆ—æ ‡ç­¾ï¼ˆåˆ—çš„æ ‡é¢˜ï¼‰ï¼Œvalueä¼šæˆä¸ºåˆ—çš„å€¼}
\NormalTok{x }\OperatorTok{=} \BuiltInTok{dict}\NormalTok{(A }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{], B }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}APPLE\textquotesingle{}}\NormalTok{))}
\BuiltInTok{print}\NormalTok{(x)}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(x)}
\NormalTok{df }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
{'A': [1, 2, 3, 4, 5], 'B': ['A', 'P', 'P', 'L', 'E']}
\end{verbatim}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& A & B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & A \\
1 & 2 & P \\
2 & 3 & P \\
3 & 4 & L \\
4 & 5 & E \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å•ç‹¬è®¾ç½®æˆ–è€…ä¿®æ”¹åˆ—æ ‡ç­¾ï¼ˆcolumnsï¼‰}
\BuiltInTok{print}\NormalTok{(df.columns)}
\NormalTok{df.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}D\textquotesingle{}}\NormalTok{]}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Index(['A', 'B'], dtype='object')
\end{verbatim}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& C & D \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & A \\
1 & 2 & P \\
2 & 3 & P \\
3 & 4 & L \\
4 & 5 & E \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å•ç‹¬ä¿®æ”¹è¡Œæ ‡ç­¾ï¼ˆindexï¼‰}
\BuiltInTok{print}\NormalTok{(df.index)}
\NormalTok{df.index }\OperatorTok{=}\NormalTok{ [}\DecValTok{5}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{8}\NormalTok{,}\DecValTok{9}\NormalTok{]}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
RangeIndex(start=0, stop=5, step=1)
\end{verbatim}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& C & D \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
5 & 1 & A \\
6 & 2 & P \\
7 & 3 & P \\
8 & 4 & L \\
9 & 5 & E \\
\end{longtable}

\hypertarget{ux6570ux636eux8bfbux53d6}{%
\section{æ•°æ®è¯»å–}\label{ux6570ux636eux8bfbux53d6}}

\hypertarget{ux9884ux5907ux77e5ux8bc6ux5e38ux89c1ux6570ux636eux683cux5f0f}{%
\subsection{é¢„å¤‡çŸ¥è¯†ï¼šå¸¸è§æ•°æ®æ ¼å¼}\label{ux9884ux5907ux77e5ux8bc6ux5e38ux89c1ux6570ux636eux683cux5f0f}}

ä¸€èˆ¬å¸¸è§çš„æ•°æ®æ ¼å¼åŒ…æ‹¬ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¾®è½¯çš„Excelæ ¼å¼ï¼š2007ç‰ˆä»¥åæ‰©å±•åä¸º\texttt{.xlsx}ï¼Œ2007ç‰ˆä¹‹å‰ä¸º\texttt{.xls}ï¼Œå¯ä»¥ç›´æ¥ç”¨Excelæ‰“å¼€å¤„ç†ï¼Œä¸è¯¦ç»†å™è¿°ã€‚
\item
  CSVæ ¼å¼ï¼šæ‰©å±•åä¸º\texttt{.csv}ï¼Œä¹Ÿå¯ä»¥ç”¨Excelæ‰“å¼€ã€‚ä½†è¿™ç§æ–‡ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼Œå’Œ\texttt{.txt}æ–‡ä»¶æˆ–è€…pythonä»£ç \texttt{.py}æ–‡ä»¶å¹¶æ— åŒºåˆ«ï¼Œéƒ½å¯ä»¥ç”¨è®°äº‹æœ¬æˆ–è€…vscodeæ‰“å¼€ã€‚
\end{enumerate}

å…¶ä¸­ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  CSVæ–‡ä»¶ï¼šå…¶ä¸­æ‰€æœ‰çš„ä¿¡æ¯éƒ½æ˜¯æ•°æ®ï¼Œä¸åŒ…æ‹¬æ ¼å¼ã€æ’ç‰ˆã€é¢œè‰²ç­‰ç­‰ï¼Œæ–‡ä»¶ä½“ç§¯å°ï¼Œå‡ ä¹ä»»ä½•æ•°æ®å¤„ç†è½¯ä»¶éƒ½å¯ä»¥å¤„ç†CSVæ–‡ä»¶ã€‚å¯ä»¥è§†ä¸ºé€šç”¨æ ‡å‡†ï¼Œä½ ä¸çŸ¥é“è¦ä¿å­˜æˆä»€ä¹ˆæ ¼å¼ï¼Œå°±å¯ä»¥ç”¨CSVã€‚
\item
  Excelæ–‡ä»¶ï¼šæ–‡ä»¶é‡ŒåŒ…æ‹¬äº†å¤§é‡çš„æ ¼å¼ã€æ’ç‰ˆã€é¢œè‰²ç­‰ä¿¡æ¯ï¼Œæ–‡ä»¶ä½“ç§¯æ¯”è¾ƒå¤§ï¼Œå¤šæ•°æ•°æ®å¤„ç†è½¯ä»¶éƒ½å¯ä»¥å¤„ç†ã€‚å¦‚æœä½ å¯ä»¥é€‰æ‹©ï¼Œå°±é€‰æ‹©æ–°ç‰ˆæ ¼å¼\texttt{.xlsx}ã€‚
\end{enumerate}

å¯¹äºæˆ‘ä»¬å¤§éƒ¨åˆ†å·¥ä½œï¼Œä¸¤ç§ä¿å­˜æ•°æ®çš„æ ¼å¼éƒ½æ²¡æœ‰æœ¬è´¨çš„åŒºåˆ«ã€‚

ä»¥ä¸‹æ•°æ®å¦‚æœä¸åšè¯´æ˜ï¼Œéƒ½æ¥è‡ªCSMARï¼ˆå›½æ³°å®‰ï¼‰æ•°æ®åº“ã€‚

vscodeç®¡ç†å·¥ç¨‹ä»¥ç›®å½•ä¸ºåŸºç¡€ï¼Œå¾ˆå¤šåŠŸèƒ½éœ€è¦ä½ \textbf{æ‰“å¼€ä¸€ä¸ªç›®å½•}æ‰èƒ½ç”Ÿæ•ˆã€‚ä½ åœ¨vscodeä¸­æ‰“å¼€çš„ç›®å½•å³\textbf{å·¥ä½œç›®å½•}ã€‚

åœ¨æœ¬è¯¾ç¨‹ä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®ï¼Œéƒ½ä¼šæ”¾åœ¨å·¥ä½œç›®å½•ä¸‹çš„\textbf{data}æ–‡ä»¶å¤¹ã€‚å³\texttt{data}æ–‡ä»¶å¤¹ç°åœ¨è¿™ä¸ª\texttt{.ipynb}å¤„äºç›®å½•åŒä¸€å±‚ã€‚

æ‰€ç”¨æ•°æ®åŒ…æ‹¬ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  data/basic\_info.xlsxï¼šéƒ¨åˆ†ä¸Šå¸‚å…¬å¸çš„åŸºæœ¬ä¿¡æ¯ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¯¼å…¥pandaså’Œnumpyæ˜¯æƒ¯ä¾‹}
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}

\CommentTok{\# è¯»å–å·¥ä½œç›®å½•ä¸‹çš„dataæ–‡ä»¶å¤¹ä¸‹çš„basic\_info.xlsxæ–‡ä»¶}
\CommentTok{\# ä¿å­˜åˆ°dfå˜é‡}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/basic\_info.xlsx\textquotesingle{}}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

è¯»å–æ•°æ®åï¼Œé¦–å…ˆæ£€æŸ¥æ•°æ®è¯»å–æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚

ç”¨\texttt{.head()}æ–¹æ³•æ£€æŸ¥å‰å‡ è¡Œï¼Œ\texttt{.tail()}æ£€æŸ¥åå‡ è¡Œï¼Œé»˜è®¤éƒ½æ˜¯5è¡Œã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.head() }\CommentTok{\# æŸ¥çœ‹dfçš„å‰5è¡Œ}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
1 & 2 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ & æ·±åœ³å¸‚
& æ­£å¸¸ä¸Šå¸‚ \\
2 & 4 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 & 1991-01-14 & å¹¿ä¸œçœ & æ·±åœ³å¸‚
& ST \\
3 & 5 & ST æ˜Ÿæº & 1990-02-01 & 1058536842 & 1990-12-10 & å¹¿ä¸œçœ & æ·±åœ³å¸‚
& ST \\
4 & 6 & æ·±æŒ¯ä¸šA & 1989-04-01 & 1349995046 & 1992-04-27 & å¹¿ä¸œçœ & æ·±åœ³å¸‚
& æ­£å¸¸ä¸Šå¸‚ \\
\end{longtable}

å†ç”¨\texttt{.info()}çœ‹æ¯ä¸€åˆ—çš„ä¿¡æ¯ï¼Œä¸»è¦çœ‹æ ¼å¼ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.info()  }\CommentTok{\# æ¯ä¸€åˆ—çš„ä¿¡æ¯}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 39 entries, 0 to 38
Data columns (total 8 columns):
 #   Column  Non-Null Count  Dtype 
---  ------  --------------  ----- 
 0   è‚¡ç¥¨ä»£ç     39 non-null     int64 
 1   è‚¡ç¥¨ç®€ç§°    39 non-null     object
 2   å…¬å¸æˆç«‹æ—¥æœŸ  39 non-null     object
 3   æ³¨å†Œèµ„æœ¬    39 non-null     int64 
 4   é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ  39 non-null     object
 5   æ‰€å±çœä»½    39 non-null     object
 6   æ‰€å±åŸå¸‚    39 non-null     object
 7   ä¸Šå¸‚çŠ¶æ€    39 non-null     object
dtypes: int64(2), object(6)
memory usage: 2.6+ KB
\end{verbatim}

\hypertarget{ux6570ux636eux683cux5f0fux7684ux8f6cux6362}{%
\subsection{æ•°æ®æ ¼å¼çš„è½¬æ¢}\label{ux6570ux636eux683cux5f0fux7684ux8f6cux6362}}

æˆ‘ä»¬é¦–å…ˆè§‚å¯Ÿåˆ°ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è‚¡ç¥¨ä»£ç ä¸å¯¹ï¼Œå¦‚å¹³å®‰é“¶è¡Œçš„ä»£ç åº”è¯¥æ˜¯\texttt{000001}ã€‚
  è¯»å–æ—¶é»˜è®¤æŠŠ\texttt{è‚¡ç¥¨ä»£ç }åˆ—è¯†åˆ«ä¸ºæ•°å­—\texttt{int64}ï¼ˆè§\texttt{info()}çš„ç»“æœï¼‰ï¼Œ
  å› æ­¤å‰é¢çš„0å°±è¢«å»æ‰äº†ã€‚
\item
  æ—¥æœŸä¸æ˜¯æ—¥æœŸæ ¼å¼ï¼šä»\texttt{info()}ç»“æœçœ‹ï¼Œæ•°æ®ç±»å‹\texttt{Dtype}ä¸­ï¼Œå­—ç¬¦ä¸²\texttt{str}ä¼šè¢«æ˜¾ç¤ºä¸º\texttt{object}ã€‚
  ï¼ˆæ›´æ·±å…¥çš„è§£é‡Šè§
  \url{https://stackoverflow.com/questions/21018654/strings-in-a-dataframe-but-dtype-is-object}
  ï¼‰
\end{enumerate}

ï¼ˆä¸ºä»€ä¹ˆæ—¥æœŸæ•°æ®æœ€å¥½æ˜¯æ—¥æœŸæ ¼å¼ï¼Ÿæ¯”å¦‚ä½ å¯ä»¥æ¯”è¾ƒæ—¥æœŸçš„å…ˆåï¼Œä¸¤ä¸ªæ—¥æœŸç›¸å‡è·å¾—ç›¸å·®å‡ å¤©ç­‰ç­‰ï¼Œä½†ä½ æ— æ³•å¯¹å­—ç¬¦ä¸²å‹çš„æ—¥æœŸåšè¿™ç±»æ“ä½œã€‚ï¼‰

å¤„ç†è¿™ç±»é—®é¢˜ä¸€èˆ¬å¯ä»¥ 1. åœ¨è¯»å–æ•°æ®çš„æ—¶å€™å°±æŒ‡å®šæ ¼å¼ã€‚2.
è¯»å–äº†æ•°æ®åå†è½¬æ¢ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¯»å–æ—¶æŒ‡å®šæ ¼å¼ï¼š
\end{enumerate}

\texttt{pd.read\_xxx()}æ–¹æ³•ï¼Œå¯ä»¥æ¥æ”¶ä¸€ä¸ªå‚æ•°\texttt{converters}ï¼Œè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­keyä¸ºåˆ—åï¼Œvalueè½¬æ¢çš„å‡½æ•°ã€‚

è¿™é‡Œæˆ‘ä»¬æŒ‡å®š\texttt{è‚¡ç¥¨ä»£ç }ä¸ºå­—ç¬¦ä¸²\texttt{str}ï¼Œç”¨\texttt{str}å‡½æ•°å³å¯ï¼›å…¬å¸æˆç«‹æ—¥æœŸä¸º\texttt{datetime}æ ¼å¼ï¼Œç”¨\texttt{pd.to\_datetime}å‡½æ•°ã€‚ï¼ˆè¿™é‡Œæ•…æ„æ¼æ‰\texttt{é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ}ï¼‰

æ³¨ï¼šè¿™é‡Œåªæ˜¯å‘Šè¯‰pandaså¯ä»¥ç”¨ä»€ä¹ˆå‡½æ•°æ¥è½¬æ¢æŒ‡å®šçš„åˆ—ï¼Œè€Œä¸æ˜¯ä½ è‡ªå·±å»è°ƒç”¨æŸä¸ªå‡½æ•°ï¼Œå› æ­¤åªè¦å‡½æ•°åå³å¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/basic\_info.xlsx\textquotesingle{}}\NormalTok{,}
\NormalTok{                   converters}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{}}\NormalTok{:}\BuiltInTok{str}\NormalTok{,}\StringTok{\textquotesingle{}å…¬å¸æˆç«‹æ—¥æœŸ\textquotesingle{}}\NormalTok{:pd.to\_datetime\})}

\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
1 & 000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
2 & 000004 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 & 1991-01-14 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST \\
3 & 000005 & ST æ˜Ÿæº & 1990-02-01 & 1058536842 & 1990-12-10 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST \\
4 & 000006 & æ·±æŒ¯ä¸šA & 1989-04-01 & 1349995046 & 1992-04-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 39 entries, 0 to 38
Data columns (total 8 columns):
 #   Column  Non-Null Count  Dtype         
---  ------  --------------  -----         
 0   è‚¡ç¥¨ä»£ç     39 non-null     object        
 1   è‚¡ç¥¨ç®€ç§°    39 non-null     object        
 2   å…¬å¸æˆç«‹æ—¥æœŸ  39 non-null     datetime64[ns]
 3   æ³¨å†Œèµ„æœ¬    39 non-null     int64         
 4   é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ  39 non-null     object        
 5   æ‰€å±çœä»½    39 non-null     object        
 6   æ‰€å±åŸå¸‚    39 non-null     object        
 7   ä¸Šå¸‚çŠ¶æ€    39 non-null     object        
dtypes: datetime64[ns](1), int64(1), object(6)
memory usage: 2.6+ KB
\end{verbatim}

æŸ¥çœ‹æ•°æ®çš„å‰å‡ è¡Œä»¥åŠåˆ—ä¿¡æ¯ï¼Œè‚¡ç¥¨ä»£ç å’Œå…¬å¸æˆç«‹æ—¥æœŸéƒ½ç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚äº†ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  è¯»å–åå†è½¬æ¢
\end{enumerate}

è¯»å–\texttt{é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ}åˆ—ï¼Œè½¬æ¢æ ¼å¼ï¼Œå†å†™å›åˆ°åŒä¸€åˆ—ä¸­ã€‚å¯¹è¡Œå’Œåˆ—çš„è¯»å†™æ˜¯åé¢çš„å†…å®¹ï¼Œä½†é€»è¾‘è¿˜æ˜¯æ¯”è¾ƒç®€å•ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ pd.to\_datetime(df[}\StringTok{\textquotesingle{}é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ\textquotesingle{}}\NormalTok{])}
\NormalTok{df.info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 39 entries, 0 to 38
Data columns (total 8 columns):
 #   Column  Non-Null Count  Dtype         
---  ------  --------------  -----         
 0   è‚¡ç¥¨ä»£ç     39 non-null     object        
 1   è‚¡ç¥¨ç®€ç§°    39 non-null     object        
 2   å…¬å¸æˆç«‹æ—¥æœŸ  39 non-null     datetime64[ns]
 3   æ³¨å†Œèµ„æœ¬    39 non-null     int64         
 4   é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ  39 non-null     datetime64[ns]
 5   æ‰€å±çœä»½    39 non-null     object        
 6   æ‰€å±åŸå¸‚    39 non-null     object        
 7   ä¸Šå¸‚çŠ¶æ€    39 non-null     object        
dtypes: datetime64[ns](2), int64(1), object(5)
memory usage: 2.6+ KB
\end{verbatim}

æŸ¥çœ‹\texttt{info()}ï¼Œæ•°æ®å·²ç»ç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚ã€‚

\hypertarget{dataframeux7684ux7d22ux5f15ux548cux884cux5217ux6807ux7b7e}{%
\section{DataFrameçš„ç´¢å¼•å’Œè¡Œåˆ—æ ‡ç­¾}\label{dataframeux7684ux7d22ux5f15ux548cux884cux5217ux6807ux7b7e}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
1 & 000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
2 & 000004 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 & 1991-01-14 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST \\
3 & 000005 & ST æ˜Ÿæº & 1990-02-01 & 1058536842 & 1990-12-10 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST \\
4 & 000006 & æ·±æŒ¯ä¸šA & 1989-04-01 & 1349995046 & 1992-04-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
\end{longtable}

å¯¹äºä¸€ä¸ªDataFrameå¯¹è±¡ï¼Œæ¯ä¸€åˆ—çš„æ ‡é¢˜ï¼ˆé¢˜å¤´ï¼‰å’Œæ¯ä¸€è¡Œçš„ç´¢å¼•ï¼Œå…¶å®éƒ½æ˜¯ç´¢å¼•indexï¼Œæˆ–å¯ç§°ä¸ºè¡Œç´¢å¼•å’Œåˆ—ç´¢å¼•ã€‚

è·å¾—æ‰€æœ‰çš„åˆ—åï¼ˆå³è·å¾—æ‰€æœ‰çš„åˆ—ç´¢å¼•ï¼‰ï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„ç´¢å¼•ï¼ŒåŒ…æ‹¬æ¯ä¸€åˆ—çš„åˆ—åã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.columns}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Index(['è‚¡ç¥¨ä»£ç ', 'è‚¡ç¥¨ç®€ç§°', 'å…¬å¸æˆç«‹æ—¥æœŸ', 'æ³¨å†Œèµ„æœ¬', 'é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ', 'æ‰€å±çœä»½', 'æ‰€å±åŸå¸‚', 'ä¸Šå¸‚çŠ¶æ€'], dtype='object')
\end{verbatim}

è·å¾—æ‰€æœ‰çš„è¡Œç´¢å¼•ï¼šè¿™æ˜¯ä¸€ä¸ªrangeç±»çš„ç´¢å¼•ï¼Œä»0åˆ°39ã€‚å¦‚æœæ˜¯æ—¶é—´åºåˆ—æ•°æ®ï¼Œè¿˜å¯ä»¥æ˜¯æ—¥æœŸæ ¼å¼çš„è¡Œç´¢å¼•ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.index}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
RangeIndex(start=0, stop=39, step=1)
\end{verbatim}

æˆ‘ä»¬å¯ä»¥ç”¨\texttt{set\_index()}æŒ‡å®šä¸€åˆ—ä½œä¸ºè¡Œç´¢å¼•ï¼Œæ¯”å¦‚è‚¡ç¥¨ä»£ç ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ df.set\_index(}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{}}\NormalTok{) }
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ & æ‰€å±çœä»½ &
æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ \\
è‚¡ç¥¨ä»£ç  & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ & æ·±åœ³å¸‚
& æ­£å¸¸ä¸Šå¸‚ \\
000004 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 & 1991-01-14 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST \\
000005 & ST æ˜Ÿæº & 1990-02-01 & 1058536842 & 1990-12-10 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST \\
000006 & æ·±æŒ¯ä¸šA & 1989-04-01 & 1349995046 & 1992-04-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
\end{longtable}

æ³¨æ„ï¼špandasä¸­ï¼Œå¤§éƒ¨åˆ†``å†™''æ“ä½œï¼ˆä¿®æ”¹æŸä¸ªä¸œè¥¿ï¼‰ï¼Œé»˜è®¤éƒ½``ä¸ä¼šæ”¹å˜åŸå€¼''ï¼šä½ ä¼šè·å¾—ä¸€ä¸ªåŒ…æ‹¬ä¿®æ”¹åçš„æ–°æ•°æ®çš„DataFrameã€‚
å› æ­¤ï¼Œå¦‚æœè¦æ”¹å˜åŸå€¼ï¼Œå¯ä»¥æŠŠæ–°æ•°æ®é‡æ–°èµ‹å€¼ç»™åŸæ¥çš„å˜é‡åï¼ˆå¦‚ä¸Šä¸ªcellï¼‰ï¼Œä¹Ÿå¯ä»¥åŠ å…¥å‚æ•°\texttt{inplace\ =\ True}ï¼Œå¦‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä»…ä½œç¤ºèŒƒï¼Œä¸è¦æ‰§è¡Œï¼Œå› ä¸ºç»è¿‡ä¸Šä¸ªcellä¹‹åï¼Œå·²ç»æ²¡æœ‰\textasciigrave{}è‚¡ç¥¨ä»£ç \textasciigrave{}è¿™ä¸€åˆ—äº†}
\CommentTok{\# df.set\_index(\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{},inplace = True)}
\end{Highlighting}
\end{Shaded}

å†çœ‹\texttt{df.index}ï¼Œæ­¤æ—¶ç´¢å¼•å·²ç»å˜æˆæˆ‘ä»¬æŒ‡å®šåˆ—ï¼Œ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.index}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Index(['000001', '000002', '000004', '000005', '000006', '000007', '000008',
       '000009', '000010', '000011', '000012', '000014', '000016', '000017',
       '000019', '000020', '000021', '000023', '000025', '000026', '000027',
       '000028', '000029', '000030', '000031', '000032', '000034', '000035',
       '000036', '000037', '000038', '000039', '000040', '000042', '000045',
       '000046', '000048', '000049', '000050'],
      dtype='object', name='è‚¡ç¥¨ä»£ç ')
\end{verbatim}

é‡å‘½ååˆ—æ ‡ç­¾æ˜¯å¯ä»¥å¸¸ç”¨æ“ä½œï¼ˆæ”¹åˆ—åï¼‰ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä½¿ç”¨\texttt{.rename()}æ–¹æ³•ï¼šè¿™ä¸ªæ–¹æ³•æ¥å—ä¸€ä¸ªå­—å…¸å‚æ•°\texttt{columns}ï¼Œå…¶ä¸­keyæ˜¯æ—§åï¼Œvalueæ˜¯æ–°åã€‚(ä»æ—§åˆ°æ–°çš„æ˜ å°„)
\item
  å¯¹\texttt{df.columns} æ•´ä½“é‡æ–°èµ‹å€¼ã€‚æ³¨æ„ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šç›´æ¥ä¿®æ”¹åŸæ•°æ®ã€‚
\end{enumerate}

ä¾‹å¦‚ï¼šæŠŠ``é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ''æ”¹ä¸º``IPO\_DATE''ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ–¹æ³•1ï¼šrename()}

\NormalTok{df.rename(columns}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ\textquotesingle{}}\NormalTok{:}\StringTok{\textquotesingle{}IPO\_DATE\textquotesingle{}}\NormalTok{\}).head()}
\CommentTok{\# è¿™é‡Œä¸ä½¿ç”¨inplace = Trueï¼Œå› æ­¤ä¼šè¿”å›ä¸€ä¸ªæ–°çš„æ•°æ®ï¼Œä¸ä¼šæ”¹å†™åŸæ•°æ®ã€‚}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & IPO\_DATE & æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ &
ä¸Šå¸‚çŠ¶æ€ \\
è‚¡ç¥¨ä»£ç  & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ & æ·±åœ³å¸‚
& æ­£å¸¸ä¸Šå¸‚ \\
000004 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 & 1991-01-14 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST \\
000005 & ST æ˜Ÿæº & 1990-02-01 & 1058536842 & 1990-12-10 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST \\
000006 & æ·±æŒ¯ä¸šA & 1989-04-01 & 1349995046 & 1992-04-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ–¹æ³•2ï¼šå¯¹columnsé‡æ–°èµ‹å€¼}

\NormalTok{df2 }\OperatorTok{=}\NormalTok{ df.copy() }\CommentTok{\# è¿™ä¸ªæ–¹æ³•ä¼šç›´æ¥ä¿®æ”¹åŸå€¼ã€‚ä¸ºäº†ä¿æŒåŸæ•°æ®ä¸å˜ï¼Œåœ¨ä¸€ä¸ªå‰¯æœ¬ä¸Šæ¼”ç¤ºã€‚}

\NormalTok{df2.columns }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}ABCDEFG\textquotesingle{}}\NormalTok{) }\CommentTok{\# èµ‹å€¼ä¸€ä¸ªåŒæ ·é•¿åº¦çš„listã€‚}
\NormalTok{df2.head() }\CommentTok{\# df2çš„åˆ—åç›´æ¥è¢«æ”¹å˜äº†ã€‚}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
& A & B & C & D & E & F & G \\
è‚¡ç¥¨ä»£ç  & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ & æ·±åœ³å¸‚
& æ­£å¸¸ä¸Šå¸‚ \\
000004 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 & 1991-01-14 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST \\
000005 & ST æ˜Ÿæº & 1990-02-01 & 1058536842 & 1990-12-10 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST \\
000006 & æ·±æŒ¯ä¸šA & 1989-04-01 & 1349995046 & 1992-04-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
\end{longtable}

\hypertarget{ux5728ux884cux4e0eux5217ux4e0aux5de5ux4f5c}{%
\section{åœ¨è¡Œä¸åˆ—ä¸Šå·¥ä½œ}\label{ux5728ux884cux4e0eux5217ux4e0aux5de5ux4f5c}}

é€‰æ‹©è¡Œå’Œåˆ—çš„ä¸€ä¸‡ç§æ–¹æ³•ã€‚

\hypertarget{ux9009ux62e9ux5217}{%
\subsection{é€‰æ‹©åˆ—}\label{ux9009ux62e9ux5217}}

é€‰1åˆ—ï¼Œ\texttt{{[}åˆ—å{]}}ï¼Œè¿”å›ä¸€ä¸ª\texttt{Series}å¯¹è±¡ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sec\_name }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}è‚¡ç¥¨ç®€ç§°\textquotesingle{}}\NormalTok{]}
\NormalTok{sec\_name.head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
è‚¡ç¥¨ä»£ç 
000001     å¹³å®‰é“¶è¡Œ
000002      ä¸‡ç§‘A
000004     å›½åç½‘å®‰
000005    ST æ˜Ÿæº
000006     æ·±æŒ¯ä¸šA
Name: è‚¡ç¥¨ç®€ç§°, dtype: object
\end{verbatim}

æŸ¥çœ‹åˆ—çš„ç±»å‹

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{type}\NormalTok{(sec\_name) }\CommentTok{\# pandas.core.series.Series }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
pandas.core.series.Series
\end{verbatim}

é€‰æ‹©å¤šåˆ—ï¼Œ\texttt{{[}{[}åˆ—åçš„List{]}{]}}ï¼Œè¿”å›ä¸€ä¸ª\texttt{DataFrame}å¯¹è±¡ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[[}\StringTok{\textquotesingle{}è‚¡ç¥¨ç®€ç§°\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}ä¸Šå¸‚çŠ¶æ€\textquotesingle{}}\NormalTok{]].head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ç®€ç§° & ä¸Šå¸‚çŠ¶æ€ \\
è‚¡ç¥¨ä»£ç  & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
000001 & å¹³å®‰é“¶è¡Œ & æ­£å¸¸ä¸Šå¸‚ \\
000002 & ä¸‡ç§‘A & æ­£å¸¸ä¸Šå¸‚ \\
000004 & å›½åç½‘å®‰ & ST \\
000005 & ST æ˜Ÿæº & ST \\
000006 & æ·±æŒ¯ä¸šA & æ­£å¸¸ä¸Šå¸‚ \\
\end{longtable}

\hypertarget{locux6309ux7d22ux5f15ux53d6ux5f97ux884cux548cux5217}{%
\subsection{locï¼šæŒ‰ç´¢å¼•å–å¾—è¡Œå’Œåˆ—}\label{locux6309ux7d22ux5f15ux53d6ux5f97ux884cux548cux5217}}

\texttt{.loc{[}è¡Œç´¢å¼•ï¼Œåˆ—ç´¢å¼•{]}}å¯ä»¥æŒ‰\textbf{ç´¢å¼•}é€‰æ‹©è¡Œæˆ–è€…åˆ—ï¼ˆè¡Œçš„ç´¢å¼•æ˜¯indexï¼Œåˆ—çš„ç´¢å¼•æ˜¯columnsï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[[}\StringTok{\textquotesingle{}000001\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}000002\textquotesingle{}}\NormalTok{],[}\StringTok{\textquotesingle{}è‚¡ç¥¨ç®€ç§°\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}ä¸Šå¸‚çŠ¶æ€\textquotesingle{}}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ç®€ç§° & ä¸Šå¸‚çŠ¶æ€ \\
è‚¡ç¥¨ä»£ç  & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
000001 & å¹³å®‰é“¶è¡Œ & æ­£å¸¸ä¸Šå¸‚ \\
000002 & ä¸‡ç§‘A & æ­£å¸¸ä¸Šå¸‚ \\
\end{longtable}

ä¹Ÿå¯ä»¥åªå–ä¸€ä¸ªå€¼ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[}\StringTok{\textquotesingle{}000001\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}è‚¡ç¥¨ç®€ç§°\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
'å¹³å®‰é“¶è¡Œ'
\end{verbatim}

è¡Œç´¢å¼•å’Œåˆ—ç´¢å¼•ä½ç½®ï¼Œéƒ½å¯ä»¥ç”¨å†’å·\texttt{:}è¡¨ç¤ºèµ·ç‚¹å’Œç»ˆç‚¹ï¼ˆæ³¨ï¼šèµ·ç‚¹ç»ˆç‚¹éƒ½åŒ…æ‹¬ï¼Œå’ŒPythonçš„Liståˆ‡ç‰‡ä¸åŒï¼ï¼‰ã€‚

å¦‚æœåªæœ‰\texttt{:}ï¼Œåˆ™ä»£è¡¨æ‰€æœ‰è¡Œæˆ–è€…åˆ—ã€‚

æ¯”å¦‚ï¼šè·å–è¡Œç´¢å¼•ä¸º\texttt{000001}åˆ°\texttt{000005}ï¼Œåˆ—ç´¢å¼•ä¸º\texttt{è‚¡ç¥¨ç®€ç§°}åˆ°\texttt{æ³¨å†Œèµ„æœ¬}ä¹‹é—´çš„æ‰€æœ‰æ•°æ®ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[}\StringTok{\textquotesingle{}000001\textquotesingle{}}\NormalTok{:}\StringTok{\textquotesingle{}000005\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}è‚¡ç¥¨ç®€ç§°\textquotesingle{}}\NormalTok{:}\StringTok{\textquotesingle{}æ³¨å†Œèµ„æœ¬\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ \\
è‚¡ç¥¨ä»£ç  & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 \\
000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 \\
000004 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 \\
000005 & ST æ˜Ÿæº & 1990-02-01 & 1058536842 \\
\end{longtable}

è·å–``æ‰€æœ‰è¡Œï¼ˆæ‰€æœ‰è‚¡ç¥¨ï¼‰çš„è‚¡ç¥¨ç®€ç§°å’Œä¸Šå¸‚çŠ¶å†µ''ã€‚ä½†å¤ªé•¿ï¼ŒåªæŸ¥çœ‹å‰å‡ è¡Œ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ df.loc[ : ,[}\StringTok{\textquotesingle{}è‚¡ç¥¨ç®€ç§°\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}ä¸Šå¸‚çŠ¶æ€\textquotesingle{}}\NormalTok{]]}
\NormalTok{x.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ç®€ç§° & ä¸Šå¸‚çŠ¶æ€ \\
è‚¡ç¥¨ä»£ç  & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
000001 & å¹³å®‰é“¶è¡Œ & æ­£å¸¸ä¸Šå¸‚ \\
000002 & ä¸‡ç§‘A & æ­£å¸¸ä¸Šå¸‚ \\
000004 & å›½åç½‘å®‰ & ST \\
000005 & ST æ˜Ÿæº & ST \\
000006 & æ·±æŒ¯ä¸šA & æ­£å¸¸ä¸Šå¸‚ \\
\end{longtable}

å½“ç„¶ï¼Œå¦‚æœåªæ˜¯å–æŸåˆ—çš„å…¨éƒ¨è¡Œï¼Œä¸Šé¢çš„ä»£ç å°±å’Œ\texttt{df{[}{[}\textquotesingle{}è‚¡ç¥¨ç®€ç§°\textquotesingle{},\textquotesingle{}ä¸Šå¸‚çŠ¶æ€\textquotesingle{}{]}{]}}ç­‰ä»·ã€‚

åŒPythonçš„åˆ‡ç‰‡ï¼Œå†’å·ä¸€ä¾§ä¸å†™ï¼Œåˆ™è¡¨ç¤º``åˆ°å°½å¤´''ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ df.loc[:}\StringTok{\textquotesingle{}000002\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}æ‰€å±åŸå¸‚\textquotesingle{}}\NormalTok{:]}
\NormalTok{x}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ \\
è‚¡ç¥¨ä»£ç  & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
000001 & æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
000002 & æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ \\
\end{longtable}

\hypertarget{ux5217ux7684ux6b21ux5e8f}{%
\subsection{åˆ—çš„æ¬¡åº}\label{ux5217ux7684ux6b21ux5e8f}}

åœ¨é€‰æ‹©åˆ—çš„æ“ä½œä¸­ï¼Œåˆ—çš„æ¬¡åºå’Œä½ æä¾›çš„åˆ—åListçš„æ¬¡åºå®Œå…¨ä¸€æ ·ã€‚å› æ­¤ï¼Œå–åˆ—çš„æ“ä½œï¼ŒåŒ…æ‹¬\texttt{{[}{]}}å’Œ\texttt{.loc{[}{]}}ï¼Œéƒ½å¯ä»¥ç”¨äºæ”¹å˜åˆ—çš„æ¬¡åºã€‚

ä¾‹å¦‚ï¼ŒæŠŠåˆ—åé€†åºï¼šï¼ˆå½“ç„¶ï¼Œåªè¦ä½ è·å¾—äº†åˆ—åçš„Listï¼Œå°±å¯ä»¥ä»»æ„æ’åºï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# é€†åºåˆ—å}
\NormalTok{cols }\OperatorTok{=}\NormalTok{ df.columns }\CommentTok{\# å–å¾—åˆ—å}
\NormalTok{df[cols[::}\OperatorTok{{-}}\DecValTok{1}\NormalTok{]].head() }\CommentTok{\# å¯¹é€†åºåçš„åˆ—åï¼Œç”¨\textasciigrave{}[]\textasciigrave{}å–åˆ—ã€‚å½“ç„¶ï¼Œç”¨df.loc[:,cols[::{-}1]]ä¹Ÿä¸€æ ·ã€‚}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
& ä¸Šå¸‚çŠ¶æ€ & æ‰€å±åŸå¸‚ & æ‰€å±çœä»½ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ &
å…¬å¸æˆç«‹æ—¥æœŸ & è‚¡ç¥¨ç®€ç§° \\
è‚¡ç¥¨ä»£ç  & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
000001 & æ­£å¸¸ä¸Šå¸‚ & æ·±åœ³å¸‚ & å¹¿ä¸œçœ & 1991-04-03 & 19405918198 &
1987-12-22 & å¹³å®‰é“¶è¡Œ \\
000002 & æ­£å¸¸ä¸Šå¸‚ & æ·±åœ³å¸‚ & å¹¿ä¸œçœ & 1991-01-29 & 11625383375 &
1988-11-01 & ä¸‡ç§‘A \\
000004 & ST & æ·±åœ³å¸‚ & å¹¿ä¸œçœ & 1991-01-14 & 156003000 & 1986-05-05 &
å›½åç½‘å®‰ \\
000005 & ST & æ·±åœ³å¸‚ & å¹¿ä¸œçœ & 1990-12-10 & 1058536842 & 1990-02-01 &
ST æ˜Ÿæº \\
000006 & æ­£å¸¸ä¸Šå¸‚ & æ·±åœ³å¸‚ & å¹¿ä¸œçœ & 1992-04-27 & 1349995046 &
1989-04-01 & æ·±æŒ¯ä¸šA \\
\end{longtable}

\hypertarget{ux5217ux8fd0ux7b97}{%
\subsection{åˆ—è¿ç®—}\label{ux5217ux8fd0ux7b97}}

æ¯ä¸€åˆ—ä¹‹é—´å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œè¿ç®—ï¼šä»»ä½•æ“ä½œéƒ½ä¼šè‡ªåŠ¨åº”ç”¨åˆ°æ¯ä¸€åˆ—çš„æ‰€æœ‰å…ƒç´ ï¼ˆå¦‚åŒNumPyä¸­çš„å¹¿æ’­ï¼‰

ä¾‹å¦‚ï¼Œæ³¨å†Œèµ„æœ¬è½¬æ¢ä¸ºäº¿å…ƒï¼Œå¹¶ä¿ç•™2ä½æ•°å­—ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{(df[}\StringTok{\textquotesingle{}æ³¨å†Œèµ„æœ¬\textquotesingle{}}\NormalTok{] }\OperatorTok{/} \DecValTok{100000000}\NormalTok{).}\BuiltInTok{round}\NormalTok{(}\DecValTok{2}\NormalTok{).head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
è‚¡ç¥¨ä»£ç 
000001    194.06
000002    116.25
000004      1.56
000005     10.59
000006     13.50
Name: æ³¨å†Œèµ„æœ¬, dtype: float64
\end{verbatim}

æ³¨æ„åˆ°ï¼ŒSeriesç»è¿‡è¿ç®—åä¹Ÿä¼šå¾—åˆ°ä¸€ä¸ªSeriesï¼Œå¯ä»¥åŠ å…¥åŸæ•°æ®ä¸­çš„ä¸€ä¸ªåˆ—ï¼šç›´æ¥=èµ‹å€¼å³å¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}æ³¨å†Œèµ„æœ¬\_äº¿\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ (df[}\StringTok{\textquotesingle{}æ³¨å†Œèµ„æœ¬\textquotesingle{}}\NormalTok{] }\OperatorTok{/} \DecValTok{100000000}\NormalTok{).}\BuiltInTok{round}\NormalTok{(}\DecValTok{2}\NormalTok{)}
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ & æ‰€å±çœä»½ &
æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
è‚¡ç¥¨ä»£ç  & & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 194.06 \\
000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ & æ·±åœ³å¸‚
& æ­£å¸¸ä¸Šå¸‚ & 116.25 \\
000004 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 & 1991-01-14 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST & 1.56 \\
000005 & ST æ˜Ÿæº & 1990-02-01 & 1058536842 & 1990-12-10 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST & 10.59 \\
000006 & æ·±æŒ¯ä¸šA & 1989-04-01 & 1349995046 & 1992-04-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 13.50 \\
\end{longtable}

\hypertarget{ux5220ux9664ux884cux6216ux8005ux5217}{%
\subsection{åˆ é™¤è¡Œæˆ–è€…åˆ—}\label{ux5220ux9664ux884cux6216ux8005ux5217}}

ä½¿ç”¨\texttt{df.drop(è¡Œæˆ–è€…åˆ—æ ‡ç­¾,axis=0\textbar{}1)}åˆ é™¤è¡Œæˆ–è€…åˆ—ï¼Œå…¶ä¸­å‚æ•°axis
= 0ä¸ºè¡Œï¼Œ=1ä¸ºåˆ—ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åˆ é™¤â€œæ³¨å†Œèµ„æœ¬â€åˆ—ï¼›å¦‚æœè¦ä¿®æ”¹dfæœ¬èº«ï¼Œåˆ™inplace = True}
\NormalTok{df.drop(}\StringTok{\textquotesingle{}æ³¨å†Œèµ„æœ¬\textquotesingle{}}\NormalTok{,axis }\OperatorTok{=} \DecValTok{1}\NormalTok{).head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ & æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ &
ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
è‚¡ç¥¨ä»£ç  & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 1991-04-03 & å¹¿ä¸œçœ & æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚
& 194.06 \\
000002 & ä¸‡ç§‘A & 1988-11-01 & 1991-01-29 & å¹¿ä¸œçœ & æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ &
116.25 \\
000004 & å›½åç½‘å®‰ & 1986-05-05 & 1991-01-14 & å¹¿ä¸œçœ & æ·±åœ³å¸‚ & ST &
1.56 \\
000005 & ST æ˜Ÿæº & 1990-02-01 & 1990-12-10 & å¹¿ä¸œçœ & æ·±åœ³å¸‚ & ST &
10.59 \\
000006 & æ·±æŒ¯ä¸šA & 1989-04-01 & 1992-04-27 & å¹¿ä¸œçœ & æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚
& 13.50 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åˆ é™¤æ ‡ç­¾ä¸º00001çš„è¡Œ}
\NormalTok{df.drop(}\StringTok{\textquotesingle{}000001\textquotesingle{}}\NormalTok{,axis}\OperatorTok{=}\DecValTok{0}\NormalTok{).head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ & æ‰€å±çœä»½ &
æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
è‚¡ç¥¨ä»£ç  & & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ & æ·±åœ³å¸‚
& æ­£å¸¸ä¸Šå¸‚ & 116.25 \\
000004 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 & 1991-01-14 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST & 1.56 \\
000005 & ST æ˜Ÿæº & 1990-02-01 & 1058536842 & 1990-12-10 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST & 10.59 \\
000006 & æ·±æŒ¯ä¸šA & 1989-04-01 & 1349995046 & 1992-04-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 13.50 \\
000007 & *ST å…¨æ–° & 1988-11-21 & 346448044 & 1992-04-13 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 3.46 \\
\end{longtable}

æ³¨æ„:
pandasä¸­ï¼ŒåŒ…æ‹¬dropåœ¨å†…ï¼Œå¾ˆå¤šæ“ä½œ``é»˜è®¤ä¸ä¿®æ”¹åŸæ•°æ®''ï¼Œè€Œæ˜¯``ä¿®æ”¹åçš„æ•°æ®ä½œä¸ºè¿”å›å€¼''ã€‚å› æ­¤ï¼Œéœ€è¦è¿™æ ·æŠŠä¿®æ”¹åçš„æ•°æ®å†æ¬¡èµ‹å€¼ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df = df.drop( \textless{}å‚æ•°\textgreater{} ) \# æŠŠä¿®æ”¹åçš„æ•°æ®å†æ¬¡èµ‹å€¼ç»™df}
\end{Highlighting}
\end{Shaded}

å¦‚æœè¦``åŸåœ°ä¿®æ”¹''ï¼Œç›´æ¥æ”¹å˜åŸå§‹æ•°æ®ï¼Œé‚£ä¹ˆéœ€è¦æ·»åŠ 
\texttt{inplace=True}ï¼Œæ­¤æ—¶åŸå€¼è¢«ä¿®æ”¹ï¼Œè¿”å›å€¼å˜ä¸ºNoneã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.drop( \textless{}å‚æ•°\textgreater{}, inplace=True ) \# åœ¨åŸå§‹æ•°æ®ä¸Šä¿®æ”¹ï¼Œä¸ç”¨å†èµ‹å€¼}
\end{Highlighting}
\end{Shaded}

\hypertarget{ilocux6309ux4f4dux7f6eux53d6ux5f97ux884cux548cux5217}{%
\subsection{ilocï¼šæŒ‰ä½ç½®å–å¾—è¡Œå’Œåˆ—}\label{ilocux6309ux4f4dux7f6eux53d6ux5f97ux884cux548cux5217}}

\texttt{.iloc{[}è¡Œåæ ‡ï¼Œåˆ—åæ ‡{]}}ï¼šç”¨æ³•å’Œ\texttt{loc}éå¸¸ç±»ä¼¼ï¼Œä½†åªæ˜¯æŠŠç´¢å¼•indexï¼ˆç´¢å¼•å¯ä»¥æ˜¯ä»»ä½•åºåˆ—ï¼‰ï¼Œæ¢æˆä¸‹æ ‡ï¼ˆä»0å¼€å§‹ï¼‰ã€‚

ç”¨æ³•å’ŒPythonçš„åˆ‡ç‰‡å¾ˆç±»ä¼¼ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# é¦–å…ˆæŠŠè‚¡ç¥¨ä»£ç è¿˜åŸæˆæ™®é€šçš„åˆ—}
\NormalTok{df.reset\_index(inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 194.06 \\
1 & 000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 116.25 \\
2 & 000004 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 & 1991-01-14 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST & 1.56 \\
3 & 000005 & ST æ˜Ÿæº & 1990-02-01 & 1058536842 & 1990-12-10 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST & 10.59 \\
4 & 000006 & æ·±æŒ¯ä¸šA & 1989-04-01 & 1349995046 & 1992-04-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 13.50 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å–å‰5è¡Œï¼Œè¿‘ä¼¼äºdf.head()}
\NormalTok{df.iloc[:}\DecValTok{5}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 194.06 \\
1 & 000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 116.25 \\
2 & 000004 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 & 1991-01-14 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST & 1.56 \\
3 & 000005 & ST æ˜Ÿæº & 1990-02-01 & 1058536842 & 1990-12-10 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST & 10.59 \\
4 & 000006 & æ·±æŒ¯ä¸šA & 1989-04-01 & 1349995046 & 1992-04-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 13.50 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ilocæ¥å—åˆ—è¡¨ï¼Œå¦‚å–0,2,4,6è¡Œ}
\NormalTok{df.iloc[[}\DecValTok{0}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{6}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 194.06 \\
2 & 000004 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 & 1991-01-14 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST & 1.56 \\
4 & 000006 & æ·±æŒ¯ä¸šA & 1989-04-01 & 1349995046 & 1992-04-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 13.50 \\
6 & 000008 & ç¥å·é«˜é“ & 1989-10-11 & 2780795346 & 1992-05-07 & åŒ—äº¬å¸‚ &
åŒ—äº¬å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 27.81 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŠ½æ ·ï¼šéšæœºé€‰è¡Œã€‚}
\NormalTok{df.sample(}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
28 & 000036 & åè”æ§è‚¡ & 1994-01-29 & 1483934025 & 1994-06-17 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 14.84 \\
13 & 000017 & æ·±ä¸­åA & 1992-03-12 & 551347947 & 1992-03-31 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 5.51 \\
7 & 000009 & ä¸­å›½å®å®‰ & 1990-09-01 & 2579213965 & 1991-06-25 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 25.79 \\
5 & 000007 & *ST å…¨æ–° & 1988-11-21 & 346448044 & 1992-04-13 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 3.46 \\
37 & 000049 & å¾·èµ›ç”µæ±  & 1995-02-18 & 300298970 & 1995-03-20 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 3.00 \\
\end{longtable}

\hypertarget{ux6309ux6761ux4ef6ux7b5bux9009}{%
\subsection{æŒ‰æ¡ä»¶ç­›é€‰}\label{ux6309ux6761ux4ef6ux7b5bux9009}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŒ‰æ¡ä»¶ç­›é€‰ï¼šå¦‚ï¼Œé€‰æ‹©æ³¨å†Œèµ„æœ¬å¤§äº20äº¿çš„å…¬å¸}

\CommentTok{\# åˆ›å»ºæ¡ä»¶}
\NormalTok{mask }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}æ³¨å†Œèµ„æœ¬\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}} \DecValTok{2000000000}
\NormalTok{mask.head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0     True
1     True
2    False
3    False
4    False
Name: æ³¨å†Œèµ„æœ¬, dtype: bool
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[mask]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 194.06 \\
1 & 000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 116.25 \\
6 & 000008 & ç¥å·é«˜é“ & 1989-10-11 & 2780795346 & 1992-05-07 & åŒ—äº¬å¸‚ &
åŒ—äº¬å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 27.81 \\
7 & 000009 & ä¸­å›½å®å®‰ & 1990-09-01 & 2579213965 & 1991-06-25 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 25.79 \\
10 & 000012 & å—ç»A & 1984-09-10 & 3070692107 & 1992-02-28 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 30.71 \\
12 & 000016 & æ·±åº·ä½³A & 1980-10-01 & 2407945408 & 1992-03-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 24.08 \\
20 & 000027 & æ·±åœ³èƒ½æº & 1993-06-02 & 4757389916 & 1993-09-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 47.57 \\
24 & 000031 & å¤§æ‚¦åŸ & 1993-09-26 & 4286313339 & 1993-10-08 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 42.86 \\
27 & 000035 & ä¸­å›½å¤©æ¥¹ & 1994-01-08 & 2523777297 & 1994-04-08 & æ±Ÿè‹çœ &
å—é€šå¸‚ & æ­£å¸¸ä¸Šå¸‚ & 25.24 \\
31 & 000039 & ä¸­é›†é›†å›¢ & 1992-09-30 & 3595014000 & 1994-03-23 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 35.95 \\
35 & 000046 & æ³›æµ·æ§è‚¡ & 1989-01-04 & 5196200656 & 1994-09-12 & åŒ—äº¬å¸‚ &
åŒ—äº¬å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 51.96 \\
38 & 000050 & æ·±å¤©é©¬A & 1983-11-08 & 2457747661 & 1995-03-15 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 24.58 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç”¨locæ“ä½œä¹Ÿå¯ä»¥}
\NormalTok{df.loc[mask]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 194.06 \\
1 & 000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 116.25 \\
6 & 000008 & ç¥å·é«˜é“ & 1989-10-11 & 2780795346 & 1992-05-07 & åŒ—äº¬å¸‚ &
åŒ—äº¬å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 27.81 \\
7 & 000009 & ä¸­å›½å®å®‰ & 1990-09-01 & 2579213965 & 1991-06-25 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 25.79 \\
10 & 000012 & å—ç»A & 1984-09-10 & 3070692107 & 1992-02-28 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 30.71 \\
12 & 000016 & æ·±åº·ä½³A & 1980-10-01 & 2407945408 & 1992-03-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 24.08 \\
20 & 000027 & æ·±åœ³èƒ½æº & 1993-06-02 & 4757389916 & 1993-09-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 47.57 \\
24 & 000031 & å¤§æ‚¦åŸ & 1993-09-26 & 4286313339 & 1993-10-08 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 42.86 \\
27 & 000035 & ä¸­å›½å¤©æ¥¹ & 1994-01-08 & 2523777297 & 1994-04-08 & æ±Ÿè‹çœ &
å—é€šå¸‚ & æ­£å¸¸ä¸Šå¸‚ & 25.24 \\
31 & 000039 & ä¸­é›†é›†å›¢ & 1992-09-30 & 3595014000 & 1994-03-23 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 35.95 \\
35 & 000046 & æ³›æµ·æ§è‚¡ & 1989-01-04 & 5196200656 & 1994-09-12 & åŒ—äº¬å¸‚ &
åŒ—äº¬å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 51.96 \\
38 & 000050 & æ·±å¤©é©¬A & 1983-11-08 & 2457747661 & 1995-03-15 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 24.58 \\
\end{longtable}

\hypertarget{ux590dux5408ux6761ux4ef6ux548cux5b57ux7b26ux4e32ux65b9ux6cd5}{%
\subsection{å¤åˆæ¡ä»¶å’Œå­—ç¬¦ä¸²æ–¹æ³•}\label{ux590dux5408ux6761ux4ef6ux548cux5b57ux7b26ux4e32ux65b9ux6cd5}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¤åˆæ¡ä»¶ï¼šé€‰æ‹©æ³¨å†Œèµ„æœ¬\textgreater{}20äº¿ï¼Œä¸”æ‰€å±çœä»½ä½å¹¿ä¸œçœçš„å…¬å¸}

\NormalTok{cond1 }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}æ³¨å†Œèµ„æœ¬\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}} \DecValTok{2000000000} \CommentTok{\# æ•°å­—åˆ—ï¼Œå¯ä»¥ç›´æ¥è¿ç®—ï¼ˆåŒ…æ‹¬ç®—æ•°è¿ç®—å’Œæ¡ä»¶è¿ç®—ï¼‰}
\NormalTok{cond2 }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}æ‰€å±çœä»½\textquotesingle{}}\NormalTok{].}\BuiltInTok{str}\NormalTok{.contains(}\StringTok{\textquotesingle{}å¹¿ä¸œ\textquotesingle{}}\NormalTok{) }\CommentTok{\# å­—ç¬¦ä¸²åˆ—ï¼Œéœ€è¦è°ƒç”¨å­—ç¬¦ä¸²æ–¹æ³•\textasciigrave{}.str.æŸå‡½æ•°()\textasciigrave{},}

\CommentTok{\# Pandaså­—ç¬¦ä¸²æ–¹æ³•è§https://pandas.pydata.org/pandas{-}docs/stable/user\_guide/text.html}
\CommentTok{\# å¸¸ç”¨çš„å¦‚åŒ…å«.str.contains()ï¼Œä»¥ä»€ä¹ˆå¼€å¤´.str.startswith()ï¼Œä»¥ä»€ä¹ˆç»“å°¾.str.endswith()}

\CommentTok{\# æ–¹æ³•1ï¼Œç”¨np.logical\_xxx()å‡½æ•°ï¼Œæ„é€ ä¸€ä¸ªæ–°çš„å¸ƒå°”å‹åºåˆ—}
\NormalTok{mask }\OperatorTok{=}\NormalTok{ np.logical\_and(cond1,cond2)}
\NormalTok{df[mask]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 194.06 \\
1 & 000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 116.25 \\
7 & 000009 & ä¸­å›½å®å®‰ & 1990-09-01 & 2579213965 & 1991-06-25 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 25.79 \\
10 & 000012 & å—ç»A & 1984-09-10 & 3070692107 & 1992-02-28 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 30.71 \\
12 & 000016 & æ·±åº·ä½³A & 1980-10-01 & 2407945408 & 1992-03-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 24.08 \\
20 & 000027 & æ·±åœ³èƒ½æº & 1993-06-02 & 4757389916 & 1993-09-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 47.57 \\
24 & 000031 & å¤§æ‚¦åŸ & 1993-09-26 & 4286313339 & 1993-10-08 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 42.86 \\
31 & 000039 & ä¸­é›†é›†å›¢ & 1992-09-30 & 3595014000 & 1994-03-23 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 35.95 \\
38 & 000050 & æ·±å¤©é©¬A & 1983-11-08 & 2457747661 & 1995-03-15 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 24.58 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ–¹æ³•2ï¼Œç›´æ¥åœ¨DataFrameä¸­é€‰ï¼ŒPandasçš„[]æ“ä½œï¼Œæ¥å—"ä¸\&ï¼Œ æˆ–|ï¼Œé\textasciitilde{}"æ“ä½œ }
\NormalTok{df[cond1 }\OperatorTok{\&}\NormalTok{ cond2]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 194.06 \\
1 & 000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 116.25 \\
7 & 000009 & ä¸­å›½å®å®‰ & 1990-09-01 & 2579213965 & 1991-06-25 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 25.79 \\
10 & 000012 & å—ç»A & 1984-09-10 & 3070692107 & 1992-02-28 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 30.71 \\
12 & 000016 & æ·±åº·ä½³A & 1980-10-01 & 2407945408 & 1992-03-27 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 24.08 \\
20 & 000027 & æ·±åœ³èƒ½æº & 1993-06-02 & 4757389916 & 1993-09-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 47.57 \\
24 & 000031 & å¤§æ‚¦åŸ & 1993-09-26 & 4286313339 & 1993-10-08 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 42.86 \\
31 & 000039 & ä¸­é›†é›†å›¢ & 1992-09-30 & 3595014000 & 1994-03-23 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 35.95 \\
38 & 000050 & æ·±å¤©é©¬A & 1983-11-08 & 2457747661 & 1995-03-15 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 24.58 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œæ³¨å†Œèµ„æœ¬å¤§äº20äº¿ï¼Œä½†ä¸åœ¨å¹¿ä¸œçœ}
\NormalTok{df[cond1 }\OperatorTok{\&}\NormalTok{ (}\OperatorTok{\textasciitilde{}}\NormalTok{ cond2)]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
6 & 000008 & ç¥å·é«˜é“ & 1989-10-11 & 2780795346 & 1992-05-07 & åŒ—äº¬å¸‚ &
åŒ—äº¬å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 27.81 \\
27 & 000035 & ä¸­å›½å¤©æ¥¹ & 1994-01-08 & 2523777297 & 1994-04-08 & æ±Ÿè‹çœ &
å—é€šå¸‚ & æ­£å¸¸ä¸Šå¸‚ & 25.24 \\
35 & 000046 & æ³›æµ·æ§è‚¡ & 1989-01-04 & 5196200656 & 1994-09-12 & åŒ—äº¬å¸‚ &
åŒ—äº¬å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 51.96 \\
\end{longtable}

\hypertarget{ux65f6ux95f4ux65b9ux6cd5}{%
\subsection{æ—¶é—´æ–¹æ³•}\label{ux65f6ux95f4ux65b9ux6cd5}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ—¶é—´æ–¹æ³•: \textquotesingle{}.dt.æŸå‡½æ•°()\textquotesingle{}æˆ–è€…\textquotesingle{}.dt.æŸå±æ€§\textquotesingle{}}
\CommentTok{\# æ›´å¤šæ—¶é—´æ–¹æ³•ï¼Œè§https://pandas.pydata.org/pandas{-}docs/stable/user\_guide/timeseries.html}
\CommentTok{\# å¸¸è§å¦‚å–å¾—å¹´æœˆæ—¥ï¼š.dt.year, .dt.monthï¼Œ.dt.dayï¼Œå–å¾—æ˜ŸæœŸå‡ .dt.weekdayç­‰ç­‰}

\CommentTok{\# å¦‚ï¼šé€‰æ‹©91å¹´ä¸‹åŠå¹´ä¸Šå¸‚çš„å…¬å¸}

\NormalTok{cond1 }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ\textquotesingle{}}\NormalTok{].dt.year }\OperatorTok{==} \DecValTok{1991}
\NormalTok{cond2 }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ\textquotesingle{}}\NormalTok{].dt.month }\OperatorTok{\textgreater{}=} \DecValTok{6}
\NormalTok{df[cond1 }\OperatorTok{\&}\NormalTok{ cond2]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
7 & 000009 & ä¸­å›½å®å®‰ & 1990-09-01 & 2579213965 & 1991-06-25 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 25.79 \\
\end{longtable}

\hypertarget{ux67e5ux8be2ux8bedux53e5}{%
\subsection{æŸ¥è¯¢è¯­å¥}\label{ux67e5ux8be2ux8bedux53e5}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŸ¥è¯¢å‡½æ•°query()ï¼Œå¯ä»¥æŠŠå‡ ä¸ªæ¡ä»¶å†™æˆä¸€ä¸ªæŸ¥è¯¢å­—ç¬¦ä¸²}
\CommentTok{\# æ³¨æ„å¼•å·çš„åµŒå¥—ï¼šå­—ç¬¦ä¸²å¿…é¡»æœ‰å¼•å·ï¼Œå¦‚\textquotesingle{}ä¸‡ç§‘A\textquotesingle{}ï¼ŒæŸ¥è¯¢è¯­å¥æœ¬èº«ä¹Ÿæ˜¯å­—ç¬¦ä¸²ï¼Œ}
\CommentTok{\# å› æ­¤å¤–å±‚å¯ä»¥ç”¨ä¸åŒçš„å¼•å·ã€‚è¿™é‡Œå†…å±‚ç”¨å•å¼•å·ï¼Œå¤–å±‚ç”¨åŒå¼•å·ã€‚}

\NormalTok{df.query(}\StringTok{" è‚¡ç¥¨ç®€ç§° == \textquotesingle{}ä¸‡ç§‘A\textquotesingle{} "}\NormalTok{)}

\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
1 & 000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 116.25 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŸ¥è¯¢è¯­å¥ä¹Ÿå¯ä»¥ç”¨å¤åˆ(\& | \textasciitilde{})æ¡ä»¶}
\CommentTok{\# å¹¶ä¸”æ¥å—å˜é‡ä½œä¸ºæ¡ä»¶ï¼Œåªè¦åœ¨æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­åŠ å…¥\textasciigrave{}@å˜é‡å\textasciigrave{} å³å¯}

\CommentTok{\# ä¸Šå¸‚å¹´ä»½ = a\_yearï¼Œä¸”çœä»½ä¸æ˜¯å¹¿ä¸œçœ}

\NormalTok{a\_year }\OperatorTok{=} \DecValTok{1992}
\NormalTok{df.query(}\StringTok{"é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ.dt.year == @a\_year \& \textasciitilde{}( æ‰€å±çœä»½ == \textquotesingle{}å¹¿ä¸œçœ\textquotesingle{})"}\NormalTok{) }\CommentTok{\# ç”¨"æ‰€å±çœä»½ != \textquotesingle{}å¹¿ä¸œçœ\textquotesingle{}"ä¹Ÿå¯}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
6 & 000008 & ç¥å·é«˜é“ & 1989-10-11 & 2780795346 & 1992-05-07 & åŒ—äº¬å¸‚ &
åŒ—äº¬å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 27.81 \\
\end{longtable}

\hypertarget{ux6392ux5e8f}{%
\subsection{æ’åº}\label{ux6392ux5e8f}}

\texttt{df.sort\_values(\ {[}\textless{}åˆ—å\textgreater{}{]}\ )}å¯ä»¥æŒ‰æŸä¸€åˆ—æ’åºï¼Œå¤šä¸ªåˆ—åå¯ä»¥ä½¿ç”¨Listã€‚å‚æ•°\texttt{ascending=True}ä¸ºä»å°åˆ°å¤§æ’åºï¼Œé»˜è®¤ä¸º\texttt{True}ã€‚

ç±»ä¼¼çš„ï¼Œ\texttt{df.sort\_index}å¯ä»¥æŒ‰ç´¢å¼•æ’åºã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŒ‰æ³¨å†Œèµ„æœ¬ï¼Œé€†åºæ’åºï¼Œçœ‹æœ€å‰é¢ï¼ˆæœ€å¤§ï¼‰5ä¸ª}
\NormalTok{df.sort\_values(}\StringTok{\textquotesingle{}æ³¨å†Œèµ„æœ¬\textquotesingle{}}\NormalTok{,ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{).head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000001 & å¹³å®‰é“¶è¡Œ & 1987-12-22 & 19405918198 & 1991-04-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 194.06 \\
1 & 000002 & ä¸‡ç§‘A & 1988-11-01 & 11625383375 & 1991-01-29 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 116.25 \\
35 & 000046 & æ³›æµ·æ§è‚¡ & 1989-01-04 & 5196200656 & 1994-09-12 & åŒ—äº¬å¸‚ &
åŒ—äº¬å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 51.96 \\
20 & 000027 & æ·±åœ³èƒ½æº & 1993-06-02 & 4757389916 & 1993-09-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 47.57 \\
24 & 000031 & å¤§æ‚¦åŸ & 1993-09-26 & 4286313339 & 1993-10-08 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 42.86 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å…ˆæŒ‰çœä»½æ’åºï¼ŒåŒçœä»½å†…ï¼ŒæŒ‰æ³¨å†Œèµ„æœ¬æ’åº}
\NormalTok{df.sort\_values([}\StringTok{\textquotesingle{}æ‰€å±çœä»½\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}æ³¨å†Œèµ„æœ¬\_äº¿\textquotesingle{}}\NormalTok{]).head(}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & å…¬å¸æˆç«‹æ—¥æœŸ & æ³¨å†Œèµ„æœ¬ & é¦–æ¬¡ä¸Šå¸‚æ—¥æœŸ &
æ‰€å±çœä»½ & æ‰€å±åŸå¸‚ & ä¸Šå¸‚çŠ¶æ€ & æ³¨å†Œèµ„æœ¬\_äº¿ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
6 & 000008 & ç¥å·é«˜é“ & 1989-10-11 & 2780795346 & 1992-05-07 & åŒ—äº¬å¸‚ &
åŒ—äº¬å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 27.81 \\
35 & 000046 & æ³›æµ·æ§è‚¡ & 1989-01-04 & 5196200656 & 1994-09-12 & åŒ—äº¬å¸‚ &
åŒ—äº¬å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 51.96 \\
23 & 000030 & å¯Œå¥¥è‚¡ä»½ & 1993-08-28 & 1810552111 & 1993-09-29 & å‰æ—çœ &
é•¿æ˜¥å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 18.11 \\
17 & 000023 & æ·±å¤©åœ°A & 1984-09-18 & 138756240 & 1993-04-29 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 1.39 \\
2 & 000004 & å›½åç½‘å®‰ & 1986-05-05 & 156003000 & 1991-01-14 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & ST & 1.56 \\
11 & 000014 & æ²™æ²³è‚¡ä»½ & 1992-04-21 & 201705187 & 1992-06-02 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 2.02 \\
15 & 000020 & æ·±åå‘A & 1992-03-20 & 283161227 & 1992-04-28 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 2.83 \\
37 & 000049 & å¾·èµ›ç”µæ±  & 1995-02-18 & 300298970 & 1995-03-20 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 3.00 \\
5 & 000007 & *ST å…¨æ–° & 1988-11-21 & 346448044 & 1992-04-13 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 3.46 \\
19 & 000026 & é£äºšè¾¾ & 1993-04-18 & 426051015 & 1993-06-03 & å¹¿ä¸œçœ &
æ·±åœ³å¸‚ & æ­£å¸¸ä¸Šå¸‚ & 4.26 \\
\end{longtable}

\hypertarget{ux5c0fux7ec3ux4e60-5}{%
\subsection{å°ç»ƒä¹ }\label{ux5c0fux7ec3ux4e60-5}}

åœ¨æ•°æ®ä¸­ï¼Œ1994å¹´ï¼ˆåŠï¼‰ä»¥åçš„æˆç«‹çš„ï¼Œæ·±åœ³å¸‚ä¸Šå¸‚å…¬å¸ä¸­ï¼Œæ³¨å†Œèµ„æœ¬æœ€å¤§å’Œæœ€å°çš„æ˜¯å“ªå®¶ï¼Ÿ

\hypertarget{ux4feeux6539dataframeux4e2dux7684ux503c}{%
\section{ä¿®æ”¹DataFrameä¸­çš„å€¼}\label{ux4feeux6539dataframeux4e2dux7684ux503c}}

æ„é€ ä¸€ä¸ªç¤ºä¾‹æ•°æ®

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}

\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(A}\OperatorTok{=}\NormalTok{np.arange(}\DecValTok{8}\NormalTok{)}\OperatorTok{+}\DecValTok{1}\NormalTok{,B}\OperatorTok{=}\NormalTok{np.random.randn(}\DecValTok{8}\NormalTok{)))}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& A & B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & -0.045222 \\
1 & 2 & 0.229022 \\
2 & 3 & 1.075860 \\
3 & 4 & -1.575302 \\
4 & 5 & -0.315613 \\
5 & 6 & 1.491202 \\
6 & 7 & -0.521187 \\
7 & 8 & 0.578365 \\
\end{longtable}

\hypertarget{ux6309ux6761ux4ef6ux4feeux6539ux503c}{%
\subsection{æŒ‰æ¡ä»¶ä¿®æ”¹å€¼}\label{ux6309ux6761ux4ef6ux4feeux6539ux503c}}

å¯ä»¥ï¼ˆ\textbf{å¹¶ä¸”æ¨è}ï¼‰é‡‡ç”¨\texttt{.loc{[}\ \textless{}è¡Œ\textgreater{}\ ,\ \textless{}åˆ—\textgreater{}{]}}ï¼Œå¯ä»¥å¼•ç”¨æŒ‡å®šåˆ—ä¸Šçš„æŒ‡å®šåˆ—çš„å€¼ã€‚

ä¾‹å¦‚ï¼šæŠŠè´Ÿæ•°å…¨éƒ¨æ”¹ä¸º0

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mask }\OperatorTok{=}\NormalTok{ df.B }\OperatorTok{\textless{}} \DecValTok{0} \CommentTok{\# ä¸€ä¸ªboolåºåˆ—}
\NormalTok{df.loc[mask,}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \DecValTok{0} \CommentTok{\# ç®€å†™æˆ df.loc[df.B \textless{} 0 , \textquotesingle{}B\textquotesingle{}]ä¹Ÿå¯ä»¥}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& A & B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & 0.000000 \\
1 & 2 & 0.229022 \\
2 & 3 & 1.075860 \\
3 & 4 & 0.000000 \\
4 & 5 & 0.000000 \\
5 & 6 & 1.491202 \\
6 & 7 & 0.000000 \\
7 & 8 & 0.578365 \\
\end{longtable}

å¦‚æœæ–°æ•°æ®åœ¨å¦ä¸€ä¸ªåˆ—è¡¨ã€ndarrayæˆ–è€…Seriesä¸­ï¼Œå‘è¦è¦†ç›–åˆ°åŸæ•°æ®çš„æŒ‡å®šä½ç½®ï¼Œ
åŒæ ·é‡‡ç”¨\texttt{loc{[}{]}}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ–°æ•°æ®åœ¨å¦ä¸€ä¸ªarrayæˆ–è€…Seriesä¸­}
\NormalTok{new\_data }\OperatorTok{=}\NormalTok{ np.array([}\DecValTok{97}\NormalTok{,}\DecValTok{98}\NormalTok{,}\DecValTok{99}\NormalTok{])}


\CommentTok{\# è¦æ›¿æ¢çš„å€¼ï¼Œåœ¨indexçš„0,3,6å·}
\NormalTok{mask }\OperatorTok{=}\NormalTok{ df.index }\OperatorTok{\%} \DecValTok{3} \OperatorTok{==} \DecValTok{0}
\CommentTok{\# 0,3,6å·æ˜¯True}

\CommentTok{\# æŠŠnew\_dataè¦†ç›–åˆ°dfçš„Båˆ—çš„æŒ‡å®šä½ç½®}
\NormalTok{df.loc[mask,}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ new\_data}

\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& A & B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & 97.000000 \\
1 & 2 & 0.229022 \\
2 & 3 & 1.075860 \\
3 & 4 & 98.000000 \\
4 & 5 & 0.000000 \\
5 & 6 & 1.491202 \\
6 & 7 & 99.000000 \\
7 & 8 & 0.578365 \\
\end{longtable}

\hypertarget{ux526fux672cux62f7ux8d1dux548cux89c6ux56fe}{%
\subsection{å‰¯æœ¬ï¼ˆæ‹·è´ï¼‰å’Œè§†å›¾}\label{ux526fux672cux62f7ux8d1dux548cux89c6ux56fe}}

è¿˜æ˜¯é‚£ä¸ªé—®é¢˜ï¼šPandasä¹Ÿè¦åŒºåˆ†å‰¯æœ¬å’Œè§†å›¾ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æŸäº›æ“ä½œä¼šäº§ç”Ÿè§†å›¾ï¼šæ¯”å¦‚\texttt{loc{[}{]}}ï¼Œä½ å¯¹æ­¤è¿›è¡Œèµ‹å€¼ï¼Œå°†ä¼šä¿®æ”¹åŸæ•°æ®ã€‚
\item
  æŸäº›æ“ä½œä¼šäº§ç”Ÿæ‹·è´ï¼šæ¯”å¦‚\textbf{é“¾å¼æ“ä½œ}ï¼Œ\textbf{æŸ¥è¯¢è¯­å¥\texttt{.query()}}ã€‚ä½ å¯¹æ­¤èµ‹å€¼ï¼Œä¸ä¼šæ”¹å˜åŸå€¼ã€‚
\end{enumerate}

ä½†é—®é¢˜åœ¨äºï¼šè¿™ä¸¤ç§æ“ä½œçš„åŒºåˆ†å¾€å¾€ä¸æ˜æ˜¾ï¼Œå› æ­¤ç›´æ¥ä¿®æ”¹DFæ•°æ®æ—¶ï¼Œæœ€å¥½å¤æŸ¥ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(A}\OperatorTok{=}\NormalTok{np.arange(}\DecValTok{8}\NormalTok{)}\OperatorTok{+}\DecValTok{1}\NormalTok{,B}\OperatorTok{=}\NormalTok{np.random.randn(}\DecValTok{8}\NormalTok{)))}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& A & B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & 1.286704 \\
1 & 2 & -0.411687 \\
2 & 3 & 0.599199 \\
3 & 4 & -1.523635 \\
4 & 5 & -1.501765 \\
5 & 6 & -0.925148 \\
6 & 7 & -0.942248 \\
7 & 8 & 0.380506 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df1 }\OperatorTok{=}\NormalTok{ df.copy() }\CommentTok{\# æŠŠdfæ‹·è´ä¸€ä»½}


\CommentTok{\# é€‰æ‹©B \textgreater{} 0 çš„æ ·æœ¬ï¼Œå¹¶ä¸”æŠŠä»–ä»¬çš„Aå±æ€§æ”¹ä¸º99}

\CommentTok{\# \textasciigrave{}loc[]\textasciigrave{}ç”Ÿæˆä¸€ä¸ªè§†å›¾ï¼Œç›´æ¥èµ‹å€¼å¯ä»¥æ­£å¸¸ä¿®æ”¹åŸå€¼}

\NormalTok{df1.loc[df1.B }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{ ,}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \DecValTok{99}
\NormalTok{df1}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& A & B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 99 & 1.286704 \\
1 & 2 & -0.411687 \\
2 & 99 & 0.599199 \\
3 & 4 & -1.523635 \\
4 & 5 & -1.501765 \\
5 & 6 & -0.925148 \\
6 & 7 & -0.942248 \\
7 & 99 & 0.380506 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df2 }\OperatorTok{=}\NormalTok{ df.copy() }

\CommentTok{\# é“¾å¼æ“ä½œï¼šå¤šæ¬¡å–è¡Œæˆ–åˆ—ï¼Œä¸²è”åœ¨ä¸€èµ·ï¼Œæœ€ç»ˆèµ‹å€¼}
\CommentTok{\# å…ˆé€‰æ‹©B\textgreater{}0çš„è¡Œï¼Œåœ¨é€‰æ‹©Aåˆ—ï¼Œèµ‹å€¼}
\NormalTok{df2.loc[df2.B}\OperatorTok{\textgreater{}}\DecValTok{0}\NormalTok{][}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \DecValTok{99}

\CommentTok{\# ä¿®æ”¹åŸå€¼å¤±è´¥ï¼å¹¶ä¸”å¼¹å‡ºè­¦å‘Š}
\CommentTok{\# A value is trying to be set on a copy of a slice from a DataFrame.}
\NormalTok{df2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/tmp/ipykernel_842/2753553916.py:5: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df2.loc[df2.B>0]['A'] = 99
\end{verbatim}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& A & B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & 1.286704 \\
1 & 2 & -0.411687 \\
2 & 3 & 0.599199 \\
3 & 4 & -1.523635 \\
4 & 5 & -1.501765 \\
5 & 6 & -0.925148 \\
6 & 7 & -0.942248 \\
7 & 8 & 0.380506 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¤±è´¥ä½†æ— è­¦å‘Š}

\NormalTok{df3 }\OperatorTok{=}\NormalTok{ df.copy()}

\CommentTok{\# è¿™æ˜¯ä¸ªéšè”½çš„é“¾å¼æ“ä½œï¼}
\CommentTok{\# ç­‰ä»·äº df3[[\textquotesingle{}A\textquotesingle{},\textquotesingle{}B\textquotesingle{}]].loc[df3.B\textgreater{}0,\textquotesingle{}A\textquotesingle{}] = 999}
\NormalTok{x }\OperatorTok{=}\NormalTok{ df3[[}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{]]}
\NormalTok{x.loc[df3.B}\OperatorTok{\textgreater{}}\DecValTok{0}\NormalTok{,}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \DecValTok{999}
\NormalTok{df3}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& A & B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & 1.286704 \\
1 & 2 & -0.411687 \\
2 & 3 & 0.599199 \\
3 & 4 & -1.523635 \\
4 & 5 & -1.501765 \\
5 & 6 & -0.925148 \\
6 & 7 & -0.942248 \\
7 & 8 & 0.380506 \\
\end{longtable}

\hypertarget{ux6570ux636eux6e05ux6d17ux4e0eux6574ux5408}{%
\section{æ•°æ®æ¸…æ´—ä¸æ•´åˆ}\label{ux6570ux636eux6e05ux6d17ux4e0eux6574ux5408}}

\hypertarget{ux5904ux7406ux7f3aux5931ux503c}{%
\subsection{å¤„ç†ç¼ºå¤±å€¼}\label{ux5904ux7406ux7f3aux5931ux503c}}

Pandasä½¿ç”¨ä¾ç„¶ä½¿ç”¨\texttt{np.nan}æ¥è¡¨ç¤ºç¼ºå¤±å€¼ã€‚

æ„é€ ä¸€ä¸ªå¸¦æœ‰ç¼ºå¤±å€¼çš„Serieså¯¹è±¡ï¼ˆä¸€ä¸ªåˆ—ï¼‰ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{\textquotesingle{}a\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}b\textquotesingle{}}\NormalTok{,np.nan,}\StringTok{\textquotesingle{}d\textquotesingle{}}\NormalTok{]) }\CommentTok{\# åˆ›å»ºä¸€ä¸ªSerieså¯¹è±¡ï¼ˆä¸€åˆ—ï¼‰}
\BuiltInTok{print}\NormalTok{(df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0      a
1      b
2    NaN
3      d
dtype: object
\end{verbatim}

å¸¸ç”¨çš„NAæ–¹æ³•æœ‰ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{isnull()}: åˆ¤æ–­ä»€ä¹ˆå€¼ä¸ºç¼ºå¤±å€¼
\item
  \texttt{notnull()}: ä¸ä¸Šä¸€ä¸ªæ–¹æ³•ç›¸åã€‚
\item
  \texttt{dropna()}ï¼šå»é™¤ç¼ºå¤±å€¼
\item
  \texttt{fillna()}: æŒ‰ä¸€å®šçš„è§„åˆ™å¡«å……ç¼ºå¤±å€¼
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.isnull() }\CommentTok{\# ä½¿ç”¨Serieså¯¹è±¡è‡ªå¸¦çš„isnull()æ–¹æ³•}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0    False
1    False
2     True
3    False
dtype: bool
\end{verbatim}

ä½¿ç”¨\texttt{dropna}å¯ä»¥è¿”å›æ‰€æœ‰éNAçš„å€¼ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.dropna()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0    a
1    b
3    d
dtype: object
\end{verbatim}

ä¸ä¸‹é¢çš„ä»£ç æ˜¯ç­‰ä»·çš„ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[df.notna()] }\CommentTok{\# å…ˆè·å¾—énaå€¼çš„å¸ƒå°”åºåˆ—ï¼Œå†ç­›é€‰ã€‚}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0    a
1    b
3    d
dtype: object
\end{verbatim}

ä½†æ˜¯å¯¹äºDataFrameå¯¹è±¡ï¼ˆäºŒç»´è¡¨æ ¼ï¼Œå¤šä¸ªåˆ—çš„æ¨ªå‘åˆå¹¶ï¼‰ï¼Œæƒ…å†µç¨å¾®å¤æ‚ä¸€ç‚¹ï¼šä¸åŒçš„åˆ—çš„ç¼ºå¤±å€¼å¯èƒ½åœ¨ä¸åŒçš„ä½ç½®ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(A}\OperatorTok{=}\NormalTok{[}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,np.nan,np.nan],B}\OperatorTok{=}\NormalTok{[}\DecValTok{4}\NormalTok{,np.nan,np.nan,}\DecValTok{7}\NormalTok{],C}\OperatorTok{=}\NormalTok{[}\DecValTok{7}\NormalTok{,np.nan,np.nan,}\DecValTok{0}\NormalTok{]))}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1.0 & 4.0 & 7.0 \\
1 & 2.0 & NaN & NaN \\
2 & NaN & NaN & NaN \\
3 & NaN & 7.0 & 0.0 \\
\end{longtable}

\texttt{dropna()}é»˜è®¤ä¼šå»æ‰åŒ…æ‹¬``ä»»ä½•''ç¼ºå¤±å€¼çš„è¡Œï¼šåªè¦æœ‰ç¼ºå¤±å€¼ï¼Œè¿™ä¸€è¡Œå°±ä¼šè¢«å»æ‰ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.dropna()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1.0 & 4.0 & 7.0 \\
\end{longtable}

å‚æ•°\texttt{how=\textquotesingle{}all\textquotesingle{}}åªä¼šå»æ‰æ‰€æœ‰å€¼éƒ½æ˜¯NAçš„è¡Œã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.dropna(how}\OperatorTok{=}\StringTok{\textquotesingle{}all\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1.0 & 4.0 & 7.0 \\
1 & 2.0 & NaN & NaN \\
3 & NaN & 7.0 & 0.0 \\
\end{longtable}

å‚æ•°\texttt{axis\ =\ 0\textbar{}1}æŒ‡ç¤ºå¯¹è¡Œè¿˜æ˜¯åˆ—æ“ä½œï¼ˆé»˜è®¤æ˜¯è¡Œï¼‰ï¼Œæ‰€ä»¥è¦å¯¹åˆ—æ“ä½œï¼Œåªè¦åŠ å…¥\texttt{axis\ =\ 1}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}D\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.nan }\CommentTok{\# åŠ ä¸€åˆ—å…¨NAåˆ—}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& A & B & C & D \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1.0 & 4.0 & 7.0 & NaN \\
1 & 2.0 & NaN & NaN & NaN \\
2 & NaN & NaN & NaN & NaN \\
3 & NaN & 7.0 & 0.0 & NaN \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.dropna(how}\OperatorTok{=}\StringTok{\textquotesingle{}all\textquotesingle{}}\NormalTok{,axis }\OperatorTok{=} \DecValTok{1}\NormalTok{) }\CommentTok{\# å»æ‰æ‰€æœ‰å€¼éƒ½ä¸ºNAçš„åˆ—ã€‚}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1.0 & 4.0 & 7.0 \\
1 & 2.0 & NaN & NaN \\
2 & NaN & NaN & NaN \\
3 & NaN & 7.0 & 0.0 \\
\end{longtable}

\hypertarget{ux586bux5145ux7f3aux5931ux503c}{%
\subsection{å¡«å……ç¼ºå¤±å€¼}\label{ux586bux5145ux7f3aux5931ux503c}}

å¦‚æœéœ€è¦å¡«å……ç¼ºå¤±å€¼ï¼Œè€Œä¸æ˜¯å»é™¤ï¼Œå¯ä»¥ä½¿ç”¨\texttt{fillna()}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åˆ›å»ºéšæœºæ•°df,}

\CommentTok{\# åˆ©ç”¨np.random.randn()åˆ›å»º7è¡Œ3åˆ—çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒéšæœºæ•°ï¼Œè½¬ä¸ºDataFrame}

\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(np.random.randn(}\DecValTok{7}\NormalTok{,}\DecValTok{3}\NormalTok{)) }
\NormalTok{df.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{]}
\NormalTok{df.iloc[}\DecValTok{2}\NormalTok{:}\DecValTok{5}\NormalTok{,}\DecValTok{1}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.nan}
\NormalTok{df.iloc[:}\DecValTok{2}\NormalTok{,}\DecValTok{2}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.nan}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 0.613285 & 0.421906 & NaN \\
1 & -1.362839 & 0.169868 & NaN \\
2 & -0.749860 & NaN & 1.098450 \\
3 & -0.415668 & NaN & -0.554462 \\
4 & 2.665701 & NaN & -2.018900 \\
5 & 0.807724 & -0.294550 & -1.293229 \\
6 & 0.353182 & 0.365535 & -0.381726 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.fillna(}\DecValTok{0}\NormalTok{) }\CommentTok{\# ç”¨0å¡«å……ç¼ºå¤±å€¼}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 0.613285 & 0.421906 & 0.000000 \\
1 & -1.362839 & 0.169868 & 0.000000 \\
2 & -0.749860 & 0.000000 & 1.098450 \\
3 & -0.415668 & 0.000000 & -0.554462 \\
4 & 2.665701 & 0.000000 & -2.018900 \\
5 & 0.807724 & -0.294550 & -1.293229 \\
6 & 0.353182 & 0.365535 & -0.381726 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.fillna(method}\OperatorTok{=}\StringTok{\textquotesingle{}ffill\textquotesingle{}}\NormalTok{) }\CommentTok{\# ç”¨å‰å€¼å¡«å……ã€‚å¦‚æœç¬¬ä¸€ä¸ªå€¼å°±æ˜¯NAå°±æ— æ³•å¡«å……äº†ã€‚}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 0.613285 & 0.421906 & NaN \\
1 & -1.362839 & 0.169868 & NaN \\
2 & -0.749860 & 0.169868 & 1.098450 \\
3 & -0.415668 & 0.169868 & -0.554462 \\
4 & 2.665701 & 0.169868 & -2.018900 \\
5 & 0.807724 & -0.294550 & -1.293229 \\
6 & 0.353182 & 0.365535 & -0.381726 \\
\end{longtable}

è¿˜å¯ä»¥ç”¨å‡å€¼å¡«å……ï¼Œè¿™æ ·å¡«å……åä¸æ”¹å˜å‡å€¼

\begin{Shaded}
\begin{Highlighting}[]

\CommentTok{\# å¯¹Båˆ—çš„ç¼ºå¤±å€¼ï¼Œå¡«å……Båˆ—çš„å‡å€¼ï¼Œå¹¶ä¸”æ”¹å†™åŸæ•°æ®ã€‚}
\NormalTok{df.B.fillna(df.B.mean(),inplace }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 0.613285 & 0.421906 & NaN \\
1 & -1.362839 & 0.169868 & NaN \\
2 & -0.749860 & 0.165690 & 1.098450 \\
3 & -0.415668 & 0.165690 & -0.554462 \\
4 & 2.665701 & 0.165690 & -2.018900 \\
5 & 0.807724 & -0.294550 & -1.293229 \\
6 & 0.353182 & 0.365535 & -0.381726 \\
\end{longtable}

\hypertarget{ux6570ux636eux8f6cux6362}{%
\subsection{æ•°æ®è½¬æ¢}\label{ux6570ux636eux8f6cux6362}}

\hypertarget{ux53bbux9664ux91cdux590dux884c}{%
\subsubsection{å»é™¤é‡å¤è¡Œ}\label{ux53bbux9664ux91cdux590dux884c}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(A}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}a\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}b\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}c\textquotesingle{}}\NormalTok{] }\OperatorTok{*} \DecValTok{2}\NormalTok{,B}\OperatorTok{=}\NormalTok{[}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{]}\OperatorTok{*}\DecValTok{2}\NormalTok{))}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& A & B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & a & 1 \\
1 & b & 2 \\
2 & c & 3 \\
3 & a & 1 \\
4 & b & 2 \\
5 & c & 3 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.duplicated() }\CommentTok{\# åˆ¤æ–­è¿™ä¸€æ•´è¡Œæ˜¯å¦å‰é¢å‡ºç°è¿‡ï¼ˆé»˜è®¤ä»¥é¦–æ¬¡å‡ºç°ä¸ºåŸºå‡†ï¼‰}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0    False
1    False
2    False
3     True
4     True
5     True
dtype: bool
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.drop\_duplicates() }\CommentTok{\# å»é™¤é‡å¤è¡Œ}
\CommentTok{\# ä¸‹é¢ä»£ç ç­‰ä»·}
\CommentTok{\# df[\textasciitilde{}df.duplicated()] \# è·å¾—é‡å¤è¡Œï¼Œå–åä½œä¸ºç­›é€‰æ¡ä»¶}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& A & B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & a & 1 \\
1 & b & 2 \\
2 & c & 3 \\
\end{longtable}

\hypertarget{ux4f7fux7528ux51fdux6570ux6216ux8005ux6620ux5c04ux8fdbux884cux8f6cux6362}{%
\subsubsection{ä½¿ç”¨å‡½æ•°æˆ–è€…æ˜ å°„è¿›è¡Œè½¬æ¢}\label{ux4f7fux7528ux51fdux6570ux6216ux8005ux6620ux5c04ux8fdbux884cux8f6cux6362}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{scores }\OperatorTok{=}\NormalTok{ np.random.uniform(}\DecValTok{30}\NormalTok{,}\DecValTok{100}\NormalTok{,}\DecValTok{6}\NormalTok{).}\BuiltInTok{round}\NormalTok{(}\DecValTok{1}\NormalTok{)}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(name }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}é™ˆæå¼ ç‹å‘¨å´\textquotesingle{}}\NormalTok{),score }\OperatorTok{=}\NormalTok{ scores))}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& name & score \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & é™ˆ & 71.6 \\
1 & æ & 44.4 \\
2 & å¼  & 60.4 \\
3 & ç‹ & 54.6 \\
4 & å‘¨ & 81.5 \\
5 & å´ & 68.1 \\
\end{longtable}

ä¾‹å¦‚ï¼ŒæŠŠscoreåˆ—è½¬ä¸ºrankï¼ˆABCDEï¼‰ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ˜ å°„ï¼ˆmapï¼‰è½¬æ¢ï¼šæä¾›ä¸€ä¸ªå­—å…¸ã€‚
\end{enumerate}

åˆ©ç”¨map()å‡½æ•°ï¼Œä½ æä¾›ä¸€ä¸ªè½¬æ¢å™¨ï¼ˆå­—å…¸ï¼‰ï¼Œå¯ä»¥æŠŠiiæŸä¸€åˆ—æ‰€æœ‰çš„å€¼ï¼Œè½¬ä¸º
dadf

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{score10x }\OperatorTok{=}\NormalTok{ (df.score}\OperatorTok{//}\DecValTok{10}\NormalTok{) }\CommentTok{\# åˆ†æ•°æ•´é™¤ï¼ˆè·å¾—åä½ï¼‰}
\NormalTok{score10x }\CommentTok{\# è¿™æ˜¯ä¸€ä¸ªSeries}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0    7.0
1    4.0
2    6.0
3    5.0
4    8.0
5    6.0
Name: score, dtype: float64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{score\_to\_rank }\OperatorTok{=}\NormalTok{ \{}\DecValTok{10}\NormalTok{:}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{, }\DecValTok{9}\NormalTok{:}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{,}\DecValTok{8}\NormalTok{:}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{,}\DecValTok{7}\NormalTok{:}\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{,}\DecValTok{6}\NormalTok{:}\StringTok{\textquotesingle{}D\textquotesingle{}}\NormalTok{\} }\CommentTok{\# ä¸åŒçš„åˆ†æ•°æ®µï¼Œå¯¹åº”çš„è¯„çº§}
\NormalTok{rank }\OperatorTok{=}\NormalTok{ score10x.}\BuiltInTok{map}\NormalTok{(score\_to\_rank) }\CommentTok{\# åˆ©ç”¨map()å‡½æ•°ï¼ŒæŠŠåˆ†æ•°çš„10ä½æ˜ å°„ä¸ºrank}
\NormalTok{rank}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0      C
1    NaN
2      D
3    NaN
4      B
5      D
Name: score, dtype: object
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}rank\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ rank.fillna(}\StringTok{\textquotesingle{}E\textquotesingle{}}\NormalTok{) }\CommentTok{\# ä½äº60ä¸åœ¨å­—å…¸ä¸­ï¼Œä¼šæ˜ å°„ä¸ºNAï¼Œå¡«å……\textquotesingle{}E\textquotesingle{}å³å¯}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& name & score & rank \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & é™ˆ & 71.6 & C \\
1 & æ & 44.4 & E \\
2 & å¼  & 60.4 & D \\
3 & ç‹ & 54.6 & E \\
4 & å‘¨ & 81.5 & B \\
5 & å´ & 68.1 & D \\
\end{longtable}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  å‡½æ•°è½¬æ¢ï¼šæä¾›ä¸€ä¸ªå‡½æ•°
\end{enumerate}

é™¤äº†æä¾›ä¸€ä¸ªå­—å…¸ï¼Œä¹Ÿå¯ä»¥æä¾›ä¸€ä¸ªå‡½æ•°ã€‚æ˜¾ç„¶å‡½æ•°çš„çµæ´»æ€§ä¼šé«˜ä¸€ç‚¹ï¼Œæ¯”å¦‚å¯ä»¥å†™å‡½æ•°è¯´æ˜ï¼Œå‚æ•°æ£€æŸ¥ï¼Œç®€å•æµ‹è¯•ç­‰ç­‰ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ calc\_rank(x):}
    \CommentTok{"""æ ¹æ®åˆ†æ•°0\textasciitilde{}100ï¼Œè®¡ç®—è¯„çº§rankï¼Œè¿”å›å­—ç¬¦ä¸²ABCç­‰}
\CommentTok{    """}

    \CommentTok{\# å‚æ•°çš„å®šä¹‰åŸŸæ£€æµ‹ç­‰ç•¥}
\NormalTok{    score\_to\_rank }\OperatorTok{=}\NormalTok{ \{}\DecValTok{10}\NormalTok{:}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{, }\DecValTok{9}\NormalTok{:}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{,}\DecValTok{8}\NormalTok{:}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{,}\DecValTok{7}\NormalTok{:}\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{,}\DecValTok{6}\NormalTok{:}\StringTok{\textquotesingle{}D\textquotesingle{}}\NormalTok{\} }\CommentTok{\# ä¸åŒçš„åˆ†æ•°æ®µï¼Œå¯¹åº”çš„è¯„çº§}
    \ControlFlowTok{if}\NormalTok{ x }\OperatorTok{\textgreater{}=} \DecValTok{60}\NormalTok{:}
        \ControlFlowTok{return}\NormalTok{ score\_to\_rank[x }\OperatorTok{//} \DecValTok{10}\NormalTok{] }\CommentTok{\# ç›´æ¥åˆ©ç”¨å‰é¢å®šä¹‰å¥½çš„å­—å…¸}
    
    \ControlFlowTok{return} \StringTok{\textquotesingle{}E\textquotesingle{}}

\CommentTok{\# ç®€å•æµ‹è¯•ä¸€ä¸‹}
\ControlFlowTok{assert}\NormalTok{ calc\_rank(}\DecValTok{40}\NormalTok{) }\OperatorTok{==} \StringTok{\textquotesingle{}E\textquotesingle{}}
\ControlFlowTok{assert}\NormalTok{ calc\_rank(}\DecValTok{100}\NormalTok{) }\OperatorTok{==} \StringTok{\textquotesingle{}A\textquotesingle{}}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]

\NormalTok{df.score.}\BuiltInTok{map}\NormalTok{(calc\_rank) }\CommentTok{\# Seriesçš„mapæ–¹æ³•ï¼Œæ—¢å¯ä»¥æ¥å—å­—å…¸dictï¼Œä¹Ÿå¯ä»¥æ¥å—å‡½æ•°ã€‚}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0    C
1    E
2    D
3    E
4    B
5    D
Name: score, dtype: object
\end{verbatim}

\hypertarget{ux66ffux4ee3ux503c}{%
\subsubsection{æ›¿ä»£å€¼}\label{ux66ffux4ee3ux503c}}

é™¤äº†å¡«å……ç¼ºå¤±å€¼ï¼Œè¿˜å¯ä»¥è¿›è¡Œå€¼çš„æ›¿ä»£

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.Series([}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{999}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{,}\OperatorTok{{-}}\DecValTok{1}\NormalTok{])}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0      1
1      2
2    999
3      3
4      4
5     -1
dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# replace()æ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­å®šä¹‰äº†ä¸åŒå€¼çš„æ›¿ä»£ï¼Œå¦‚999 {-}\textgreater{} nanï¼Œ{-}1 {-}\textgreater{} 0ã€‚}
\NormalTok{df.replace(\{}\DecValTok{999}\NormalTok{:np.nan,}\OperatorTok{{-}}\DecValTok{1}\NormalTok{: }\DecValTok{0}\NormalTok{\})}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0    1.0
1    2.0
2    NaN
3    3.0
4    4.0
5    0.0
dtype: float64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.replace([}\DecValTok{999}\NormalTok{,}\OperatorTok{{-}}\DecValTok{1}\NormalTok{],np.nan) }\CommentTok{\# æˆ–è€…å¤šä¸ªå€¼è½¬ä¸º1ä¸ªå€¼: 999å’Œ{-}1éƒ½è½¬ä¸ºnanã€‚}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0    1.0
1    2.0
2    NaN
3    3.0
4    4.0
5    NaN
dtype: float64
\end{verbatim}

\hypertarget{ux6784ux9020seriesux548cdataframe}{%
\section{æ„é€ Serieså’ŒDataFrame}\label{ux6784ux9020seriesux548cdataframe}}

Seriesæ˜¯åºåˆ—å¯¹è±¡ï¼ŒDataFrameæ˜¯äºŒç»´è¡¨æ ¼å¯¹è±¡ã€‚åºåˆ—å¯ä»¥çœ‹æˆæ˜¯è¡¨æ ¼çš„ä¸€è¡Œæˆ–è€…ä¸€åˆ—ï¼Œ
è¡¨æ ¼å¯ä»¥ä¹Ÿçœ‹å‡ºç”±åºåˆ—æ¨ªå‘æˆ–è€…çºµå‘åˆå¹¶è€Œæˆã€‚

Serieså¯ä»¥ç”±Pythonçš„åˆ—è¡¨ï¼Œæˆ–è€…NumPyçš„ndarrayåˆ›å»ºã€‚

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}

\NormalTok{a }\OperatorTok{=}\NormalTok{ pd.Series([}\DecValTok{5}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{8}\NormalTok{])}
\NormalTok{a}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0    5
1    6
2    7
3    8
dtype: int64
\end{verbatim}

å¯è§ï¼ŒSeriesåˆ›å»ºæ—¶å·²ç»è‡ªå¸¦äº†indexã€‚ä¹Ÿå¯ä»¥åœ¨åˆ›å»ºæ—¶æŒ‡å®šnameå±æ€§ï¼Œä»¥åŠè‡ªå®šindex

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ pd.Series([}\DecValTok{5}\NormalTok{,}\DecValTok{6}\NormalTok{,}\DecValTok{7}\NormalTok{,}\DecValTok{8}\NormalTok{],name }\OperatorTok{=} \StringTok{"A"}\NormalTok{,index}\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}abcd\textquotesingle{}}\NormalTok{))}
\NormalTok{a}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
a    5
b    6
c    7
d    8
Name: A, dtype: int64
\end{verbatim}

æˆ‘ä»¬åé¢ç”¨é»˜è®¤çš„æ•´æ•°ç´¢å¼•ï¼Œå› æ­¤ç”¨\texttt{.reset\_index()}æ–¹æ³•é‡ç½®ç´¢å¼•ã€‚ï¼ˆå½“ç„¶ï¼Œä¸Šä¸€ä¸ªcellä¸­ï¼Œä¸ç”¨indexå‚æ•°ä¹Ÿä¸€æ ·ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{a }\OperatorTok{=}\NormalTok{ a.reset\_index(drop}\OperatorTok{=}\VariableTok{True}\NormalTok{) }\CommentTok{\# drop=Trueä¼šå®Œå…¨ä¸¢å¼ƒç´¢å¼•ï¼›é»˜è®¤ä¸ºfalseï¼Œç´¢å¼•ä¼šæˆä¸ºindexåˆ—}
\NormalTok{a}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0    5
1    6
2    7
3    8
Name: A, dtype: int64
\end{verbatim}

åˆ›å»ºå¦ä¸€ä¸ªç´¢å¼•ï¼Œåå­—å«B

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{b }\OperatorTok{=}\NormalTok{ pd.Series(}\BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}ABCD\textquotesingle{}}\NormalTok{),name }\OperatorTok{=} \StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{)}
\NormalTok{b}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0    A
1    B
2    C
3    D
Name: B, dtype: object
\end{verbatim}

\hypertarget{concat}{%
\subsection{Concat}\label{concat}}

\texttt{pd.concat()}å¯ä»¥æŠŠSeriesæˆ–è€…DataFrameæ¨ªå‘æˆ–è€…çºµå‘åœ°``ç²˜è´´''åœ¨ä¸€èµ·ï¼Œå¹¶ä¸”å¯¹é½è¡Œæ ‡ç­¾ï¼ˆæ¨ªå‘ç²˜è´´ï¼‰æˆ–è€…å¯¹å…¶åˆ—æ ‡ç­¾ï¼ˆçºµå‘ç²˜è´´ï¼‰ã€‚

æˆ‘ä»¬å¯ä»¥æŠŠä¸¤ä¸ªSeriesæ¨ªå‘åˆå¹¶ï¼Œè·å¾—ä¸€ä¸ªDataFrameã€‚

æ­¤æ—¶ï¼ŒSeriesçš„nameå±æ€§ï¼Œä¼šæˆä¸ºæ¯ä¸€åˆ—çš„headerã€‚

æ³¨æ„ï¼Œ\texttt{pd.concat}æ¥æ”¶çš„å‚æ•°æ˜¯è¦åˆå¹¶çš„Seriesæˆ–è€…DataFrameçš„åˆ—è¡¨ã€‚å‚æ•°\texttt{axis=1}è¡¨ç¤ºæ¨ªå‘åˆå¹¶ï¼ˆåˆ—åˆå¹¶ï¼‰ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.concat([a,b],axis }\OperatorTok{=} \DecValTok{1}\NormalTok{)}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& A & B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 5 & A \\
1 & 6 & B \\
2 & 7 & C \\
3 & 8 & D \\
\end{longtable}

æ˜¾ç„¶ï¼ŒæŠŠSeriesæ¨ªå‘åˆå¹¶åˆ°DataFrameä¹Ÿæ˜¯å¸¸ç”¨æ“ä½œã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{c }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{\textquotesingle{}é™ˆ\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}æ\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}å¼ \textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}é»„\textquotesingle{}}\NormalTok{],name }\OperatorTok{=} \StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{)}
\NormalTok{pd.concat([df,c],axis }\OperatorTok{=} \DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 5 & A & é™ˆ \\
1 & 6 & B & æ \\
2 & 7 & C & å¼  \\
3 & 8 & D & é»„ \\
\end{longtable}

å¦‚æœindexä¸å®Œå…¨ç›¸åŒï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{c }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{\textquotesingle{}é™ˆ\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}æ\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}å¼ \textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}é»„\textquotesingle{}}\NormalTok{],name }\OperatorTok{=} \StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{,index }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{])}
\NormalTok{pd.concat([df,c],axis }\OperatorTok{=} \DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 5.0 & A & NaN \\
1 & 6.0 & B & é™ˆ \\
2 & 7.0 & C & æ \\
3 & 8.0 & D & å¼  \\
4 & NaN & NaN & é»„ \\
\end{longtable}

æ³¨æ„ï¼šè¿æ¥æ“ä½œ\texttt{pd.concat}ä¼šè‡ªåŠ¨å¯¹é½æ‰€æœ‰è¦åˆå¹¶çš„å¯¹è±¡çš„ç´¢å¼•ï¼Œå¦‚ä¸Šä¸€ä¸ªcellã€‚

å¦‚æœä½ æƒ³å¿½ç•¥ç´¢å¼•ï¼Œåªæ˜¯æƒ³ç®€å•ç²—æš´åœ°åˆå¹¶ï¼Œé‚£ä¹ˆ\texttt{reset\_index(drop=True)}ï¼Œå³å¯æŠŠindexå¤åŸåˆ°0å¼€å§‹çš„æ•´æ•°ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{c }\OperatorTok{=}\NormalTok{ pd.Series([}\StringTok{\textquotesingle{}é™ˆ\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}æ\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}å¼ \textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}é»„\textquotesingle{}}\NormalTok{],name }\OperatorTok{=} \StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{,index }\OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{])}
\NormalTok{d }\OperatorTok{=}\NormalTok{ pd.concat([df,c.reset\_index(drop}\OperatorTok{=}\VariableTok{True}\NormalTok{)],axis }\OperatorTok{=} \DecValTok{1}\NormalTok{)}
\NormalTok{d}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 5 & A & é™ˆ \\
1 & 6 & B & æ \\
2 & 7 & C & å¼  \\
3 & 8 & D & é»„ \\
\end{longtable}

å½“ç„¶ï¼Œçºµå‘åˆå¹¶ï¼ˆå¢åŠ è¡Œï¼‰ä¹Ÿå®Œå…¨å¯ä»¥ã€‚ä»¥2ä¸ªDataFrameä¸ºä¾‹ï¼š

å…ˆæ„é€ 2ä¸ªDataFrame

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{g }\OperatorTok{=}\NormalTok{ d.iloc[:}\DecValTok{2}\NormalTok{]}
\NormalTok{g}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 5 & A & é™ˆ \\
1 & 6 & B & æ \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{h }\OperatorTok{=}\NormalTok{ d.iloc[}\DecValTok{2}\NormalTok{:]}
\NormalTok{h }\OperatorTok{=}\NormalTok{ h.reset\_index(drop }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\NormalTok{h}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 7 & C & å¼  \\
1 & 8 & D & é»„ \\
\end{longtable}

2ä¸ªDataFrameçš„indexä¼šåŸæ ·ä¿ç•™ï¼Œ\texttt{axis=0}è¡¨ç¤ºçºµå‘ï¼ˆä¸Šä¸‹ï¼‰åˆå¹¶ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.concat([g,h],axis}\OperatorTok{=}\DecValTok{0}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 5 & A & é™ˆ \\
1 & 6 & B & æ \\
0 & 7 & C & å¼  \\
1 & 8 & D & é»„ \\
\end{longtable}

å‚æ•°\texttt{ignore\_index\ =\ True}åˆ™ä¼šé‡ç½®indexã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.concat([g,h],axis}\OperatorTok{=}\DecValTok{0}\NormalTok{,ignore\_index }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& A & B & C \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 5 & A & é™ˆ \\
1 & 6 & B & æ \\
2 & 7 & C & å¼  \\
3 & 8 & D & é»„ \\
\end{longtable}

\hypertarget{merge}{%
\subsection{Merge}\label{merge}}

Mergeå’Œæ¨ªå‘çš„concatæœ‰ç‚¹ç±»ä¼¼ï¼Œä½†æ˜¯Mergeæ¨ªå‘åˆå¹¶2ä¸ªDataFrameçš„ä¾æ®æ˜¯æŸä¸€åˆ—ï¼Œæˆ–è€…å¤šåˆ—ã€‚

æ„é€ 2ä¸ªç¤ºèŒƒæ•°æ®ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åŒå­¦ä¿¡æ¯}
\NormalTok{df1 }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(}\BuiltInTok{id} \OperatorTok{=}\NormalTok{ [}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{],name }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{]))}
\NormalTok{df1}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& id & name \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & A \\
1 & 2 & B \\
2 & 3 & C \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ•°å­¦æˆç»©è¡¨}
\NormalTok{df2 }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(}\BuiltInTok{id} \OperatorTok{=}\NormalTok{ [}\DecValTok{2}\NormalTok{,}\DecValTok{3}\NormalTok{,}\DecValTok{4}\NormalTok{],math }\OperatorTok{=}\NormalTok{ [}\DecValTok{80}\NormalTok{,}\DecValTok{90}\NormalTok{,}\DecValTok{95}\NormalTok{]))}
\NormalTok{df2}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& id & math \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2 & 80 \\
1 & 3 & 90 \\
2 & 4 & 95 \\
\end{longtable}

\texttt{pd.merge(df1,\ df2)}æ¥æ”¶2ä¸ªDataFrameï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨è¯†åˆ«åŒåçš„åˆ—ï¼Œå¹¶ä»¥åŒååˆ—ä¸ºæ ‡å‡†ï¼Œåˆå¹¶2ä¸ªè¡¨ã€‚

ä¹Ÿå¯ä»¥ç”¨\texttt{on}å‚æ•°æŒ‡å®šã€‚

é»˜è®¤æƒ…å†µä¸‹å–2ä¸ªè¡¨çš„åŒååˆ—çš„äº¤é›†ï¼š2ä¸ªè¡¨éƒ½å­˜åœ¨çš„ä¸ªæ¡ˆï¼Œæ‰ä¼šåˆå¹¶ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä¾‹å¦‚ï¼ŒæŠŠä¸ªäººä¿¡æ¯å’Œæ•°å­¦æˆç»©åˆå¹¶}
\CommentTok{\# åŒååˆ—æ˜¯idï¼Œå› æ­¤mergeæ—¶ä¼šè‡ªåŠ¨å¯¹é½id}
\NormalTok{pd.merge(df1,df2) }\CommentTok{\# é»˜è®¤æƒ…å†µæ˜¯å–äº¤é›†ï¼šid = 1 åŒå­¦æ²¡æ•°å­¦æˆç»©ï¼Œå› æ­¤ä¸ä¼šè¢«åˆå¹¶è¿›æ¥}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& id & name & math \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2 & B & 80 \\
1 & 3 & C & 90 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.merge(df1,df2, on}\OperatorTok{=}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{)  }\CommentTok{\# å’Œä¸Šä¸€æ®µä»£ç ç­‰ä»·ã€‚idåˆ—æ˜¯åŒååˆ—ï¼Œå› æ­¤å¯ä»¥é€‰æ‹©æ˜¯å¦æ‰‹åŠ¨æŒ‡å®šã€‚}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& id & name & math \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2 & B & 80 \\
1 & 3 & C & 90 \\
\end{longtable}

å‚æ•°
\texttt{how\ =\ \textquotesingle{}outer\textquotesingle{}}ï¼Œå¯ä»¥è¿›è¡Œå¤–åˆå¹¶ï¼ˆå–å¹¶é›†ï¼‰ï¼Œç¼ºå¤±çš„éƒ¨åˆ†è‡ªåŠ¨å¡«å……NaNã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.merge(df1,df2,how}\OperatorTok{=}\StringTok{\textquotesingle{}outer\textquotesingle{}}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& id & name & math \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & A & NaN \\
1 & 2 & B & 80.0 \\
2 & 3 & C & 90.0 \\
3 & 4 & NaN & 95.0 \\
\end{longtable}

è¿˜å¯ä»¥ä»¥``å·¦è¡¨''ï¼ˆ\texttt{how\ =\textquotesingle{}left\textquotesingle{}}ï¼‰æˆ–è€…``å³è¡¨''(\texttt{how\ =\textquotesingle{}right\textquotesingle{}})ä¸ºæ ‡å‡†ï¼Œåªä¿ç•™æŒ‡å®šçš„è¡¨çš„ä¸ªæ¡ˆã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pd.merge(df1,df2,how}\OperatorTok{=}\StringTok{\textquotesingle{}right\textquotesingle{}}\NormalTok{) }\CommentTok{\# åªä¿ç•™df2â€œå³è¡¨â€ä¸­æœ‰çš„ä¸ªæ¡ˆï¼Œå·¦è¡¨æ²¡æœ‰çš„ä¸ªæ¡ˆä¼šå¡«å……NaN}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& id & name & math \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2 & B & 80 \\
1 & 3 & C & 90 \\
2 & 4 & NaN & 95 \\
\end{longtable}

merge()é™¤äº†å¯ä»¥è‡ªåŠ¨åˆ¤æ–­åŒååˆ—ï¼Œè¿˜å¯ä»¥æœ‰ä½ æŒ‡å®šåˆ—åã€‚

æ„é€ ä¸€ä¸ªæ–°çš„dfï¼Œå…¶ä¸­å­¦å·çš„åˆ—åä¸º\texttt{stu\_id}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df3 }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(stu\_id}\OperatorTok{=}\NormalTok{[}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{],python}\OperatorTok{=}\NormalTok{[}\DecValTok{75}\NormalTok{,}\DecValTok{85}\NormalTok{]))}
\NormalTok{df3}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& stu\_id & python \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & 75 \\
1 & 2 & 85 \\
\end{longtable}

å‚æ•°\texttt{left\_on}å’Œ\texttt{right\_on}åˆ†åˆ«æŒ‡å®šåæ ‡å’Œå³è¡¨çš„åˆ—

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å·¦è¡¨æŒ‡å®šidï¼Œå³è¡¨æŒ‡å®šstu\_id}
\NormalTok{pd.merge(df1,df3,left\_on}\OperatorTok{=}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{,right\_on}\OperatorTok{=}\StringTok{\textquotesingle{}stu\_id\textquotesingle{}}\NormalTok{,how}\OperatorTok{=}\StringTok{\textquotesingle{}outer\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& id & name & stu\_id & python \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & A & 1.0 & 75.0 \\
1 & 2 & B & 2.0 & 85.0 \\
2 & 3 & C & NaN & NaN \\
\end{longtable}

mergeè¿˜å¯ä»¥ä¸²è”ï¼šmergeçš„ç»“æœæ˜¯ä¸€ä¸ªæ–°çš„DataFrameï¼Œå› æ­¤å¯ä»¥æŒç»­åœ°mergeä¸‹å»ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df4 }\OperatorTok{=}\NormalTok{ df1.merge(df2,how}\OperatorTok{=}\StringTok{\textquotesingle{}outer\textquotesingle{}}\NormalTok{).merge(df3,left\_on}\OperatorTok{=}\StringTok{\textquotesingle{}id\textquotesingle{}}\NormalTok{,right\_on}\OperatorTok{=}\StringTok{\textquotesingle{}stu\_id\textquotesingle{}}\NormalTok{,how}\OperatorTok{=}\StringTok{\textquotesingle{}outer\textquotesingle{}}\NormalTok{).drop(}\StringTok{\textquotesingle{}stu\_id\textquotesingle{}}\NormalTok{,axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\NormalTok{df4}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& id & name & math & python \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & A & NaN & 75.0 \\
1 & 2 & B & 80.0 & 85.0 \\
2 & 3 & C & 90.0 & NaN \\
3 & 4 & NaN & 95.0 & NaN \\
\end{longtable}

\hypertarget{ux7edfux8ba1ux5206ux7ec4ux4e0eux805aux5408}{%
\section{ç»Ÿè®¡ã€åˆ†ç»„ä¸èšåˆ}\label{ux7edfux8ba1ux5206ux7ec4ux4e0eux805aux5408}}

å…ˆæ„é€ ä¸€ä¸ªç¤ºä¾‹æ•°æ®ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä¾‹è¡Œå…¬äº‹}
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}

\CommentTok{\# åˆ›å»ºç¤ºä¾‹ä»£ç }
\CommentTok{\# åˆ›å»º4ä¸ªç­ï¼Œ12ä½åŒå­¦}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(class\_id }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}1234\textquotesingle{}}\NormalTok{)}\OperatorTok{*}\DecValTok{3}\NormalTok{, name }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}ABCDEFGHIJKL\textquotesingle{}}\NormalTok{)))}

\CommentTok{\# éšæœºåˆ†é…2é—¨è¯¾çš„åˆ†æ•°}
\NormalTok{df[}\StringTok{\textquotesingle{}math\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.random.randint(}\DecValTok{50}\NormalTok{,}\DecValTok{100}\NormalTok{,}\DecValTok{12}\NormalTok{) }\CommentTok{\# éšæœºæ•´æ•°ï¼ˆèµ·ç‚¹ï¼Œç»ˆç‚¹ï¼Œæ•°é‡ï¼‰}
\NormalTok{df[}\StringTok{\textquotesingle{}python\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.random.randint(}\DecValTok{45}\NormalTok{,}\DecValTok{95}\NormalTok{,}\DecValTok{12}\NormalTok{)}
\NormalTok{df[}\StringTok{\textquotesingle{}math\_rank\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df.math.}\BuiltInTok{map}\NormalTok{(calc\_rank) }\CommentTok{\# å¦‚æœæç¤ºæ‰¾ä¸åˆ°calc\_rankï¼Œè®°å¾—æŠŠå‰é¢å®šä¹‰calc\_rankçš„cellæ‰§è¡Œä¸€ä¸‹}
\NormalTok{df[}\StringTok{\textquotesingle{}python\_rank\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df.python.}\BuiltInTok{map}\NormalTok{(calc\_rank)}

\NormalTok{df }\OperatorTok{=}\NormalTok{ df.sample(}\DecValTok{10}\NormalTok{).sort\_index() }\CommentTok{\# æŠ½å–10äºº/éšæœºæ’é™¤2äººï¼Œå†æŒ‰indexæ’åº}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllll@{}}
\toprule\noalign{}
& class\_id & name & math & python & math\_rank & python\_rank \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & A & 84 & 87 & B & B \\
1 & 2 & B & 51 & 51 & E & E \\
3 & 4 & D & 80 & 63 & B & D \\
4 & 1 & E & 50 & 66 & E & D \\
5 & 2 & F & 79 & 52 & C & E \\
7 & 4 & H & 78 & 66 & C & D \\
8 & 1 & I & 59 & 89 & E & B \\
9 & 2 & J & 85 & 69 & B & D \\
10 & 3 & K & 58 & 80 & E & B \\
11 & 4 & L & 88 & 80 & B & B \\
\end{longtable}

\hypertarget{ux7b80ux5355ux7684ux7edfux8ba1}{%
\subsection{ç®€å•çš„ç»Ÿè®¡}\label{ux7b80ux5355ux7684ux7edfux8ba1}}

åœ¨è¿›è¡Œåˆ†ç»„å’Œèšåˆä¹‹å‰ï¼Œå…ˆè¯´æ˜ä¸€äº›ç®€å•ç»Ÿè®¡çš„æ–¹æ³•ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{.describe()}
  ï¼šè®¡ç®—æ•°å€¼åˆ—çš„ï¼šä¸ªæ¡ˆæ•°ï¼Œå‡å€¼ï¼Œæ ‡å‡†å·®ï¼Œæœ€å°å€¼ï¼Œåˆ†ä½æ•°ï¼š25\%ã€50\%ï¼ˆä¸­ä½æ•°ï¼‰ã€75\%ï¼Œæœ€å¤§å€¼
\item
  å¯¹æŒ‡å®šåˆ—è°ƒç”¨ç»Ÿè®¡æ–¹æ³•ï¼Œå¦‚\texttt{.mean()}ã€‚
\item
  \texttt{.agg()}èšåˆï¼šè®¡ç®—åˆ—çš„å¤šç§ç»Ÿè®¡å€¼ã€‚
\item
  \texttt{.value\_counts()}ï¼šè®¡ç®—ç¦»æ•£å˜é‡å‡ºç°çš„é¢‘ç‡ã€‚
\end{enumerate}

ç»Ÿè®¡å‹æè¿°ï¼š\texttt{.describe()}ï¼š

è®¡ç®—æ•°å€¼åˆ—çš„ï¼šä¸ªæ¡ˆæ•°ï¼Œå‡å€¼ï¼Œæ ‡å‡†å·®ï¼Œæœ€å°å€¼ï¼Œåˆ†ä½æ•°ï¼š25\%ã€50\%ï¼ˆä¸­ä½æ•°ï¼‰ã€75\%ï¼Œæœ€å¤§å€¼

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.describe().}\BuiltInTok{round}\NormalTok{(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& math & python \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
count & 10.00 & 10.00 \\
mean & 71.20 & 70.30 \\
std & 14.91 & 13.40 \\
min & 50.00 & 51.00 \\
25\% & 58.25 & 63.75 \\
50\% & 78.50 & 67.50 \\
75\% & 83.00 & 80.00 \\
max & 88.00 & 89.00 \\
\end{longtable}

è®¡ç®—æŸä¸ªç»Ÿè®¡é‡ï¼Œå¦‚å‡å€¼ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ”¯æŒçš„ç»Ÿè®¡å‡½æ•°å¾ˆå¤šï¼Œå¦‚sum, max, stdç­‰ç­‰ï¼Œä¸èƒ½ä¸€ä¸€åˆ—ä¸¾ï¼Œè¯·ç”¨æœç´¢å¼•æ“ã€‚}
\NormalTok{df[[}\StringTok{\textquotesingle{}math\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}python\textquotesingle{}}\NormalTok{]].mean()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
math      71.2
python    70.3
dtype: float64
\end{verbatim}

å¯¹å¤šä¸ªåˆ—æ±‚å¤šä¸ªç»Ÿè®¡é‡ï¼š\texttt{.agg()}

\begin{Shaded}
\begin{Highlighting}[]

\CommentTok{\# åˆ©ç”¨aggè¿›è¡Œèšåˆï¼šå¯¹äºæ¯ä¸€åˆ—ï¼Œè®¡ç®—æŒ‡å®šå‡½æ•°çš„ç»“æœã€‚å‚æ•°æ˜¯â€œå‡½æ•°åâ€ï¼Œæ˜¯å­—ç¬¦ä¸²ï¼Œæœ‰å¼•å·ã€‚å¦‚â€œmeanâ€}
\NormalTok{df[[}\StringTok{\textquotesingle{}math\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}python\textquotesingle{}}\NormalTok{]].agg([}\StringTok{\textquotesingle{}mean\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}median\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& math & python \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
mean & 71.2 & 70.3 \\
median & 78.5 & 67.5 \\
\end{longtable}

è®¡ç®—ç¦»æ•£å˜é‡å‡ºç°çš„é¢‘ç‡ï¼š\texttt{.value\_counts()}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# math\_rankæ˜¯ä¸€ä¸ªç¦»æ•£å‹å˜é‡ï¼šABCDEï¼Œå› æ­¤å¯ä»¥ç”¨.value\_counts()æ¥ç»Ÿè®¡å˜é‡å€¼å‡ºç°çš„é¢‘ç‡ã€‚}

\NormalTok{df[[}\StringTok{\textquotesingle{}math\_rank\textquotesingle{}}\NormalTok{]].value\_counts().sort\_index()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
math_rank
B            4
C            2
E            4
dtype: int64
\end{verbatim}

\hypertarget{groupbyux64cdux4f5c}{%
\subsection{GroupByæ“ä½œ}\label{groupbyux64cdux4f5c}}

æœ‰å¤§é‡æ“ä½œæ˜¯æŒ‰åˆ†ç»„è¿›è¡Œçš„ï¼Œå¦‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ±‚æ¯ä¸ªç­çš„Pythonè¯¾çš„æœ€é«˜åˆ†ï¼šå¯¹æ¯ä¸ªç­ï¼ˆç­çº§åˆ†ç»„ï¼‰æ±‚æœ€é«˜åˆ†ï¼ˆèšåˆï¼‰
\item
  æ±‚æ¯ä¸ªæ¿å—çš„è‚¡ç¥¨çš„å¹³å‡æ¶¨å¹…ï¼šå¯¹è‚¡ç¥¨ï¼ˆæ¿å—åˆ†ç»„ï¼‰æ±‚å¹³å‡æ¶¨å¹…ï¼ˆèšåˆï¼‰
\end{enumerate}

è¿™ç§æƒ…å†µä¸€èˆ¬å¯ä»¥é‡‡ç”¨åˆ†ç»„å’Œèšåˆçš„æ“ä½œï¼š

\texttt{df.groupby(\textless{}åˆ†ç»„åˆ—\textgreater{}).\textless{}èšåˆæ“ä½œ\textgreater{}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ±‚ç­çº§äººæ•°: count()åˆ†ç»„çš„æ ·æœ¬æ•°}

\CommentTok{\# groupby(\textquotesingle{}class\_id\textquotesingle{}) ï¼šæŒ‰class\_idåˆ†ç»„}
\CommentTok{\# count()ï¼š å¯¹äºæ¯ä¸ªç»„ï¼Œæ±‚éNAçš„æ ·æœ¬æ•°}
\NormalTok{df.groupby(}\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{).count()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
& name & math & python & math\_rank & python\_rank \\
class\_id & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
1 & 3 & 3 & 3 & 3 & 3 \\
2 & 3 & 3 & 3 & 3 & 3 \\
3 & 1 & 1 & 1 & 1 & 1 \\
4 & 3 & 3 & 3 & 3 & 3 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è¯¾ç¨‹å¹³å‡åˆ†}

\CommentTok{\# class\_id åˆ†ç»„ {-}\textgreater{} é€‰æ‹©åˆ—[\textquotesingle{}python\textquotesingle{},\textquotesingle{}math\textquotesingle{}] }
\CommentTok{\# .mean() : æ±‚åˆ†ç»„åçš„å‡å€¼}
\CommentTok{\# .reset\_index() : æŠŠclass\_idä»indexè½¬ä¸ºä¸€ä¸ªæ™®é€šåˆ—}
\NormalTok{df.groupby(}\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}python\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}math\textquotesingle{}}\NormalTok{]].mean().}\BuiltInTok{round}\NormalTok{().reset\_index()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& class\_id & python & math \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & 81.0 & 64.0 \\
1 & 2 & 57.0 & 72.0 \\
2 & 3 & 80.0 & 58.0 \\
3 & 4 & 70.0 & 82.0 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ¯ä¸ªç­ï¼ŒPythonè¯¾æœ€é«˜åˆ†çš„åŒå­¦}

\CommentTok{\# å…ˆå¤šé‡æ’åºï¼Œçœ‹çœ‹æˆ‘ä»¬è¦é€‰æ‹©çš„äºº}
\NormalTok{df.sort\_values([}\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}python\textquotesingle{}}\NormalTok{]) }
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllll@{}}
\toprule\noalign{}
& class\_id & name & math & python & math\_rank & python\_rank \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
4 & 1 & E & 50 & 66 & E & D \\
0 & 1 & A & 84 & 87 & B & B \\
8 & 1 & I & 59 & 89 & E & B \\
1 & 2 & B & 51 & 51 & E & E \\
5 & 2 & F & 79 & 52 & C & E \\
9 & 2 & J & 85 & 69 & B & D \\
10 & 3 & K & 58 & 80 & E & B \\
3 & 4 & D & 80 & 63 & B & D \\
7 & 4 & H & 78 & 66 & C & D \\
11 & 4 & L & 88 & 80 & B & B \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŸä¸ªåˆ†ç±»ä¸­ï¼ŒæŸä¸ªå€¼æœ€é«˜ï¼ˆæœ€ä½ï¼‰çš„nä¸ªæ ·æœ¬ï¼šå…ˆæ’åºï¼Œå†åˆ†ç»„ï¼Œå†head/tail}

\CommentTok{\# df.sort\_index(\textquotesingle{}python\textquotesingle{},ascending=False) ï¼š æ•´ä¸ªdfå…ˆæŒ‰pythonåˆ†æ•°é€†åºæ’åºï¼ˆå¤§å€¼åœ¨å‰ï¼‰}
\CommentTok{\# .groupby(\textquotesingle{}class\_id\textquotesingle{}): æŒ‰ç­çº§åˆ†ç»„ï¼ˆç»„å†…å·²ç»æ˜¯Pythoné«˜åˆ†åœ¨å‰ï¼‰}
\CommentTok{\# .head(1): å–æ¯ç»„çš„ç¬¬ä¸€ä¸ª}
\NormalTok{df.sort\_values(}\StringTok{\textquotesingle{}python\textquotesingle{}}\NormalTok{,ascending }\OperatorTok{=} \VariableTok{False}\NormalTok{).groupby(}\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{).head(}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllll@{}}
\toprule\noalign{}
& class\_id & name & math & python & math\_rank & python\_rank \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
8 & 1 & I & 59 & 89 & E & B \\
10 & 3 & K & 58 & 80 & E & B \\
11 & 4 & L & 88 & 80 & B & B \\
9 & 2 & J & 85 & 69 & B & D \\
\end{longtable}

\hypertarget{aggux591aux91cdux805aux5408ux4e0eux81eaux5b9aux4e49ux51fdux6570}{%
\subsection{Aggå¤šé‡èšåˆä¸è‡ªå®šä¹‰å‡½æ•°}\label{aggux591aux91cdux805aux5408ux4e0eux81eaux5b9aux4e49ux51fdux6570}}

å¦‚æœè¦å¯¹æ¯ä¸€ä¸ªåˆ†ç»„éƒ½è¿›è¡Œå¤šä¸ªèšåˆï¼Œå¯ä»¥ç”¨\texttt{agg()}æ–¹æ³•,ä¼ é€’ä¸€ä¸ªlistï¼Œå…¶ä¸­åŒ…æ‹¬æ¯ä¸ªå‡½æ•°çš„``å‡½æ•°å''

\texttt{agg({[}\ \textless{}å‡½æ•°å\textgreater{},\ \textless{}å‡½æ•°å\textgreater{},...{]})}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¯¹äºpythonå’Œmathï¼Œæ±‚æ¯ä¸ªç­çš„å¹³å‡åˆ†ï¼Œæœ€é«˜åˆ†}
\CommentTok{\# ä¼ é€’ç»™agg()çš„æ˜¯ä¸€ä¸ªlistï¼Œå…¶ä¸­åŒ…æ‹¬æ¯ä¸ªå‡½æ•°çš„â€œå‡½æ•°åâ€}
\CommentTok{\# åˆ†ç»„ â€”\textgreater{} è¦è®¡ç®—çš„åˆ— {-}\textgreater{} agg(å¤šä¸ªå‡½æ•°)}
\NormalTok{df.groupby(}\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}python\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}math\textquotesingle{}}\NormalTok{]].agg([}\StringTok{\textquotesingle{}mean\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}max\textquotesingle{}}\NormalTok{]).}\BuiltInTok{round}\NormalTok{(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
&
\multicolumn{2}{>{\raggedright\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.0000} + 2\tabcolsep}}{%
python} &
\multicolumn{2}{>{\raggedright\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.0000} + 2\tabcolsep}@{}}{%
math} \\
& mean & max & mean & max \\
class\_id & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
1 & 80.67 & 89 & 64.33 & 84 \\
2 & 57.33 & 69 & 71.67 & 85 \\
3 & 80.00 & 80 & 58.00 & 58 \\
4 & 69.67 & 80 & 82.00 & 88 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä¹Ÿå¯ä»¥å†™è‡ªå®šä¹‰å‡½æ•°}

\KeywordTok{def}\NormalTok{ calc\_range(x):}
    \CommentTok{"""è®¡ç®—åºåˆ—xä¸­ï¼Œæœ€å¤§å€¼å’Œæœ€å°å€¼ä¹‹å·®}
\CommentTok{    """}
    \ControlFlowTok{return} \BuiltInTok{max}\NormalTok{(x) }\OperatorTok{{-}} \BuiltInTok{min}\NormalTok{(x)}

\CommentTok{\# æ³¨æ„ï¼šè½¬é€’è‡ªå®šä¹‰å‡½æ•°ç»™aggï¼Œä¼ é€’çš„æ˜¯å‡½æ•°æœ¬èº«ï¼Œè€Œä¸æ˜¯å‡½æ•°åçš„å­—ç¬¦ä¸²ï¼ˆæ²¡æœ‰å¼•å·ï¼‰}
\NormalTok{df.groupby(}\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}python\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}math\textquotesingle{}}\NormalTok{]].agg([calc\_range])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& python & math \\
& calc\_range & calc\_range \\
class\_id & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
1 & 23 & 34 \\
2 & 18 & 34 \\
3 & 0 & 0 \\
4 & 17 & 10 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ³¨æ„åˆ°ï¼Œåˆ—åæ˜¯â€œå‡½æ•°åâ€ï¼Œå¯èƒ½ä¸æ˜¯å¾ˆåˆç†}
\CommentTok{\# å¯ä»¥ç»™aggä¼ é€’å‡½æ•°åï¼Œä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ªå…ƒç»„ \textasciigrave{}(åˆ—å, å‡½æ•°å)\textasciigrave{}}
\NormalTok{df.groupby(}\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}python\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}math\textquotesingle{}}\NormalTok{]].agg([}\StringTok{\textquotesingle{}mean\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}max\textquotesingle{}}\NormalTok{,  (}\StringTok{\textquotesingle{}range\textquotesingle{}}\NormalTok{, calc\_range)  ]).}\BuiltInTok{round}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllll@{}}
\toprule\noalign{}
&
\multicolumn{3}{>{\raggedright\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.0000} + 4\tabcolsep}}{%
python} &
\multicolumn{3}{>{\raggedright\arraybackslash}p{(\columnwidth - 12\tabcolsep) * \real{0.0000} + 4\tabcolsep}@{}}{%
math} \\
& mean & max & range & mean & max & range \\
class\_id & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
1 & 81.0 & 89 & 23 & 64.0 & 84 & 34 \\
2 & 57.0 & 69 & 18 & 72.0 & 85 & 34 \\
3 & 80.0 & 80 & 0 & 58.0 & 58 & 0 \\
4 & 70.0 & 80 & 17 & 82.0 & 88 & 10 \\
\end{longtable}

\hypertarget{ux5206ux7ec4ux5faaux73af}{%
\subsection{åˆ†ç»„å¾ªç¯}\label{ux5206ux7ec4ux5faaux73af}}

å¦‚æœå¯¹äºæ¯ä¸ªåˆ†ç»„ï¼Œéƒ½è¦è¿›è¡Œä¸€ä¸ªå¾ˆå¤æ‚çš„æ“ä½œï¼Œé‚£ä¹ˆå¯ä»¥å¯¹åˆ†ç»„è¿›è¡Œå¾ªç¯ï¼Œå¯ä»¥åœ¨å¾ªç¯ä½“å†…è·å¾—è¯¥åˆ†ç»„çš„æ•°æ®ã€‚

å¯¹æ¯ä¸€ä¸ªç»„å¤„ç†å®Œæ¯•åï¼Œappendåˆ°ä¸€ä¸ªç©ºåˆ—è¡¨ï¼Œç„¶åpd.concat()å³å¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç®€å•å¾ªç¯ä¸€ä¸‹ï¼Œçœ‹çœ‹æ¯ä¸ªç»„æ˜¯ä»€ä¹ˆç»“æ„}
\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ df.groupby(}\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{):}
    \CommentTok{\# x æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åˆ†ç»„çš„æ ‡ç­¾ï¼ˆåºå·ï¼‰ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯åˆ†ç»„åçš„DF}
    \BuiltInTok{print}\NormalTok{(x)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
('1',   class_id name  math  python math_rank python_rank
0        1    A    84      87         B           B
4        1    E    50      66         E           D
8        1    I    59      89         E           B)
('2',   class_id name  math  python math_rank python_rank
1        2    B    51      51         E           E
5        2    F    79      52         C           E
9        2    J    85      69         B           D)
('3',    class_id name  math  python math_rank python_rank
10        3    K    58      80         E           B)
('4',    class_id name  math  python math_rank python_rank
3         4    D    80      63         B           D
7         4    H    78      66         C           D
11        4    L    88      80         B           B)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä½ å¯ä»¥è¿›è¡Œå¾ˆå¤æ‚çš„æ“ä½œ}
\CommentTok{\# ä½†è¿™é‡Œç®€å•ä¸¾ä¾‹}
\NormalTok{result }\OperatorTok{=}\NormalTok{ []}

\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ df.groupby(}\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{):}
    \CommentTok{\# x æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åˆ†ç»„çš„æ ‡ç­¾ï¼ˆåºå·ï¼‰ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯åˆ†ç»„åçš„DF}
    
    \CommentTok{\# x[1]å…ƒç»„çš„ç¬¬äºŒä¸ªå…ƒç´ ï¼Œå°±æ˜¯æœ¬ç»„çš„æ•°æ®}

    \CommentTok{\# ä½ å¯ä»¥æ¯ä¸ªx[1]åšå¾ˆå¤æ‚çš„æ“ä½œï¼Œç„¶åappendåˆ°resultåé¢ã€‚}
    
    \CommentTok{\# å–å¾—mathæœ€é«˜åˆ†çš„è¡Œï¼šæ­£åºæ’åˆ—å–æœ€æœ«å°¾è¡Œ}
    
\NormalTok{    result.append(x[}\DecValTok{1}\NormalTok{].sort\_values(}\StringTok{\textquotesingle{}math\textquotesingle{}}\NormalTok{).tail(}\DecValTok{1}\NormalTok{))}


\NormalTok{pd.concat(result)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllll@{}}
\toprule\noalign{}
& class\_id & name & math & python & math\_rank & python\_rank \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1 & A & 84 & 87 & B & B \\
9 & 2 & J & 85 & 69 & B & D \\
10 & 3 & K & 58 & 80 & E & B \\
11 & 4 & L & 88 & 80 & B & B \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åˆ—è¡¨æ¨å¯¼ä¹Ÿå¯ä»¥å¾ªç¯åˆ†ç»„ï¼}
\CommentTok{\# è¿™é‡Œç•¥è¿‡}
\NormalTok{[}\BuiltInTok{print}\NormalTok{(x) }\ControlFlowTok{for}\NormalTok{ i,x }\KeywordTok{in}\NormalTok{ df.groupby(}\StringTok{\textquotesingle{}class\_id\textquotesingle{}}\NormalTok{)]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
  class_id name  math  python math_rank python_rank
0        1    A    84      87         B           B
4        1    E    50      66         E           D
8        1    I    59      89         E           B
  class_id name  math  python math_rank python_rank
1        2    B    51      51         E           E
5        2    F    79      52         C           E
9        2    J    85      69         B           D
   class_id name  math  python math_rank python_rank
10        3    K    58      80         E           B
   class_id name  math  python math_rank python_rank
3         4    D    80      63         B           D
7         4    H    78      66         C           D
11        4    L    88      80         B           B
\end{verbatim}

\begin{verbatim}
[None, None, None, None]
\end{verbatim}

\hypertarget{ux65f6ux95f4ux5e8fux5217ux7b80ux8ff0}{%
\section{æ—¶é—´åºåˆ—ç®€è¿°}\label{ux65f6ux95f4ux5e8fux5217ux7b80ux8ff0}}

å…¸å‹çš„æ—¶é—´åºåˆ—æ•°æ®å°±æ˜¯è‚¡ä»·ã€‚åœ¨Pandasä¸­ï¼Œä¸€èˆ¬æŠŠæ—¶é—´ä¿¡æ¯ï¼ˆè¡¨ç¤ºæ—¶é—´çš„åˆ—ï¼‰ï¼Œè½¬ä¸ºç´¢å¼•indexï¼Œä¾¿äºæˆ‘ä»¬æ“ä½œã€‚

\hypertarget{ux65f6ux95f4ux5e8fux5217ux6570ux636eux7684ux6784ux9020}{%
\subsection{æ—¶é—´åºåˆ—æ•°æ®çš„æ„é€ }\label{ux65f6ux95f4ux5e8fux5217ux6570ux636eux7684ux6784ux9020}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä¾‹è¡Œå…¬äº‹çš„å¯¼å…¥}
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}

\CommentTok{\# æ„é€ ä¸€ä¸ªæ™®é€šçš„DFï¼Œä½†å…¶ä¸­ä¸€åˆ—æ˜¯å­—ç¬¦ä¸²å½¢å¼çš„æ—¶é—´}
\CommentTok{\# æˆ‘ä»¬å¹³æ—¶è¯»å–çš„æ•°æ®ï¼Œå¾€å¾€ä¹Ÿæ˜¯è¿™ç§å½¢å¼}
\NormalTok{date }\OperatorTok{=}\NormalTok{  [}\StringTok{\textquotesingle{}2021{-}01{-}01\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2021{-}03{-}01\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2021{-}03{-}05\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2022{-}01{-}01\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2022{-}03{-}01\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2022{-}03{-}05\textquotesingle{}}\NormalTok{]}

\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(date }\OperatorTok{=}\NormalTok{ date,}
\NormalTok{                       x }\OperatorTok{=}\NormalTok{ np.arange(}\BuiltInTok{len}\NormalTok{(date))}\OperatorTok{+}\DecValTok{8}\NormalTok{))}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& date & x \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2021-01-01 & 8 \\
1 & 2021-03-01 & 9 \\
2 & 2021-03-05 & 10 \\
3 & 2022-01-01 & 11 \\
4 & 2022-03-01 & 12 \\
5 & 2022-03-05 & 13 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.info() }\CommentTok{\# date çš„ç±»å‹æ˜¯objectï¼ˆå³å­—ç¬¦ä¸²strï¼‰}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 6 entries, 0 to 5
Data columns (total 2 columns):
 #   Column  Non-Null Count  Dtype 
---  ------  --------------  ----- 
 0   date    6 non-null      object
 1   x       6 non-null      int64 
dtypes: int64(1), object(1)
memory usage: 228.0+ bytes
\end{verbatim}

ä¸€èˆ¬çš„é¢„å¤„ç†ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æŠŠæ—¥æœŸæˆ–è€…æ—¶é—´åˆ—è½¬ä¸ºdatetimeæ ¼å¼
\item
  æŠŠä¸Šè¿°åˆ—è®¾ç½®ä¸ºindex
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.date }\OperatorTok{=}\NormalTok{ pd.to\_datetime(df.date)}
\NormalTok{df.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,inplace }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& x \\
date & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2021-01-01 & 8 \\
2021-03-01 & 9 \\
2021-03-05 & 10 \\
2022-01-01 & 11 \\
2022-03-01 & 12 \\
2022-03-05 & 13 \\
\end{longtable}

\hypertarget{ux7d22ux5f15ux548cux5207ux7247}{%
\subsection{ç´¢å¼•å’Œåˆ‡ç‰‡}\label{ux7d22ux5f15ux548cux5207ux7247}}

æŒ‰æ•´æ•°åºå·ç´¢å¼•ï¼Œåˆ‡ç‰‡ç­‰ï¼Œå’Œä¸€èˆ¬çš„DataFrameç±»ä¼¼ã€‚

\begin{Shaded}
\begin{Highlighting}[]

\CommentTok{\# ç´¢å¼•}
\NormalTok{df.iloc[}\DecValTok{1}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
x    9
Name: 2021-03-01 00:00:00, dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åˆ‡ç‰‡}
\NormalTok{df.iloc[}\DecValTok{2}\NormalTok{:}\DecValTok{4}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& x \\
date & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2021-03-05 & 10 \\
2022-01-01 & 11 \\
\end{longtable}

å¯¹äºæ—¶é—´åºåˆ—æ•°æ®ï¼ˆindexæ˜¯datetimeçš„DataFrameï¼‰ï¼ŒæŒ‰ç´¢å¼•å–å€¼(\texttt{.loc()})æœ‰ä¸€äº›ç‰¹æ®Šçš„ä¾¿åˆ©ï¼šå¯ä»¥æ¥å—ä»»ä½•``å¯ä»¥è§£é‡Šä¸ºæ—¶é—´''çš„å­—ç¬¦ä¸²ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[}\StringTok{\textquotesingle{}2022{-}01{-}01\textquotesingle{}}\NormalTok{] }\CommentTok{\# æŒ‰è¡Œæ ‡ç­¾å–å€¼ï¼Œæ ‡å‡†åšæ³•ï¼Œå’Œä¸€èˆ¬çš„DataFrameä¸€æ ·}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
x    11
Name: 2022-01-01 00:00:00, dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å†™æˆå…¶ä»–æ ¼å¼ï¼ˆæˆ–è€…å…¶ä»–åœ°åŒºçš„æ ‡å‡†ï¼‰ä¹Ÿå¯ä»¥è¢«loc[]ç†è§£}
\NormalTok{df.loc[}\StringTok{\textquotesingle{}20220101\textquotesingle{}}\NormalTok{]      }
\NormalTok{df.loc[}\StringTok{\textquotesingle{}01/01/2022\textquotesingle{}}\NormalTok{]  }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
x    11
Name: 2022-01-01 00:00:00, dtype: int64
\end{verbatim}

åªä½¿ç”¨æœˆä»½æˆ–è€…å¹´ä»½ä¹Ÿå¯ä»¥

\begin{Shaded}
\begin{Highlighting}[]

\NormalTok{df.loc[}\StringTok{\textquotesingle{}2021\textquotesingle{}}\NormalTok{] }\CommentTok{\# æå–2021å¹´æ‰€æœ‰æ•°æ®}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& x \\
date & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2021-01-01 & 8 \\
2021-03-01 & 9 \\
2021-03-05 & 10 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[}\StringTok{\textquotesingle{}2021{-}03\textquotesingle{}}\NormalTok{] }\CommentTok{\# æå–2021å¹´3æœˆæ‰€æœ‰æ•°æ®}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& x \\
date & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2021-03-01 & 9 \\
2021-03-05 & 10 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åˆ‡ç‰‡ä¹Ÿå¯ä»¥æ¥å—è¿™ç±»â€œçœ‹èµ·æ¥åƒæ—¥æœŸâ€çš„å­—ç¬¦ä¸²}
\CommentTok{\# å…¶ä»–çš„ç”¨æ³•å’Œä¸€èˆ¬çš„DataFrameç±»ä¼¼ã€‚}

\NormalTok{df.loc[}\StringTok{\textquotesingle{}2021\textquotesingle{}}\NormalTok{:}\StringTok{\textquotesingle{}2022{-}1\textquotesingle{}}\NormalTok{] }\CommentTok{\# 2021å¹´ï¼ˆå…¨å¹´ï¼‰åˆ°2022å¹´1æœˆçš„æ•°æ®}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& x \\
date & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2021-01-01 & 8 \\
2021-03-01 & 9 \\
2021-03-05 & 10 \\
2022-01-01 & 11 \\
\end{longtable}

æ—¶é—´åºåˆ—çš„è¿ç®—ï¼Œè‡ªç„¶ä¹Ÿä¼šä»¥æ—¶é—´ä¸ºåŸºå‡†ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ„é€ å¦ä¸€ä¸ªDataFrameï¼Œå’Œdfæœ‰æ‰€ä¸åŒ}
\NormalTok{df2 }\OperatorTok{=}\NormalTok{ df.copy()}
\NormalTok{df2.drop([}\StringTok{\textquotesingle{}2021{-}03{-}05\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2022{-}03{-}01\textquotesingle{}}\NormalTok{], axis }\OperatorTok{=} \DecValTok{0}\NormalTok{,inplace }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\NormalTok{df2.loc[pd.to\_datetime(}\StringTok{\textquotesingle{}2022{-}09{-}01\textquotesingle{}}\NormalTok{)] }\OperatorTok{=} \DecValTok{14}
\NormalTok{df2.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{]}
\NormalTok{df2.y }\OperatorTok{=}\NormalTok{ df2.y}\OperatorTok{/}\DecValTok{2}
\NormalTok{df2}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& y \\
date & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2021-01-01 & 4.0 \\
2021-03-01 & 4.5 \\
2022-01-01 & 5.5 \\
2022-03-05 & 6.5 \\
2022-09-01 & 7.0 \\
\end{longtable}

æ¨ªå‘concatä¼šè‡ªåŠ¨å¯¹é½æ—¶é—´

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df3 }\OperatorTok{=}\NormalTok{ pd.concat([df,df2],axis }\OperatorTok{=} \DecValTok{1}\NormalTok{) }\CommentTok{\# æ¨ªå‘åˆå¹¶(concat)ï¼Œä¼šè‡ªåŠ¨å¯¹é½æ—¶é—´}
\NormalTok{df3}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& x & y \\
date & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2021-01-01 & 8.0 & 4.0 \\
2021-03-01 & 9.0 & 4.5 \\
2021-03-05 & 10.0 & NaN \\
2022-01-01 & 11.0 & 5.5 \\
2022-03-01 & 12.0 & NaN \\
2022-03-05 & 13.0 & 6.5 \\
2022-09-01 & NaN & 7.0 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åŒæ ·ï¼Œä¸€èˆ¬çš„åˆ—è¿ç®—ä¹Ÿä¼šå¯¹é½æ—¶é—´}
\NormalTok{df3[}\StringTok{\textquotesingle{}result\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ (df3.x }\OperatorTok{/} \DecValTok{3} \OperatorTok{{-}}\NormalTok{ np.sqrt(df3.y) ).}\BuiltInTok{round}\NormalTok{(}\DecValTok{2}\NormalTok{)}
\NormalTok{df3}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& x & y & result \\
date & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2021-01-01 & 8.0 & 4.0 & 0.67 \\
2021-03-01 & 9.0 & 4.5 & 0.88 \\
2021-03-05 & 10.0 & NaN & NaN \\
2022-01-01 & 11.0 & 5.5 & 1.32 \\
2022-03-01 & 12.0 & NaN & NaN \\
2022-03-05 & 13.0 & 6.5 & 1.78 \\
2022-09-01 & NaN & 7.0 & NaN \\
\end{longtable}

\hypertarget{ux6784ux9020ux65f6ux95f4series}{%
\subsection{æ„é€ æ—¶é—´Series}\label{ux6784ux9020ux65f6ux95f4series}}

ç”¨ \texttt{pd.date\_range()}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ pd.date\_range(}\StringTok{\textquotesingle{}2022{-}01{-}15\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2022{-}02{-}15\textquotesingle{}}\NormalTok{) }\CommentTok{\# å®šä¹‰èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œé»˜è®¤çš„é¢‘ç‡æ˜¯â€œDâ€(æ—¥)}
\NormalTok{x}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
DatetimeIndex(['2022-01-15', '2022-01-16', '2022-01-17', '2022-01-18',
               '2022-01-19', '2022-01-20', '2022-01-21', '2022-01-22',
               '2022-01-23', '2022-01-24', '2022-01-25', '2022-01-26',
               '2022-01-27', '2022-01-28', '2022-01-29', '2022-01-30',
               '2022-01-31', '2022-02-01', '2022-02-02', '2022-02-03',
               '2022-02-04', '2022-02-05', '2022-02-06', '2022-02-07',
               '2022-02-08', '2022-02-09', '2022-02-10', '2022-02-11',
               '2022-02-12', '2022-02-13', '2022-02-14', '2022-02-15'],
              dtype='datetime64[ns]', freq='D')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ pd.date\_range(}\StringTok{\textquotesingle{}2022{-}01{-}15\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2022{-}06{-}15\textquotesingle{}}\NormalTok{,freq }\OperatorTok{=} \StringTok{\textquotesingle{}M\textquotesingle{}}\NormalTok{) }\CommentTok{\# é¢‘ç‡Mï¼šæœˆ}
\NormalTok{x}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
DatetimeIndex(['2022-01-31', '2022-02-28', '2022-03-31', '2022-04-30',
               '2022-05-31'],
              dtype='datetime64[ns]', freq='M')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# periodsï¼šæŒ‡å®šæ—¥æœŸçš„æ•°é‡}
\CommentTok{\# é¢‘ç‡Bï¼šå·¥ä½œæ—¥}
\NormalTok{x }\OperatorTok{=}\NormalTok{ pd.date\_range(}\StringTok{\textquotesingle{}2022{-}01{-}15\textquotesingle{}}\NormalTok{,periods }\OperatorTok{=} \DecValTok{5}\NormalTok{, freq }\OperatorTok{=} \StringTok{"B"}\NormalTok{) }\CommentTok{\# 2022{-}01{-}15èµ·çš„5ä¸ªå·¥ä½œæ—¥}
\NormalTok{x}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
DatetimeIndex(['2022-01-17', '2022-01-18', '2022-01-19', '2022-01-20',
               '2022-01-21'],
              dtype='datetime64[ns]', freq='B')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è·å¾—å¹´ã€æœˆã€æ—¥çš„åºåˆ—}
\BuiltInTok{print}\NormalTok{(x.year)}
\BuiltInTok{print}\NormalTok{(x.month)}
\BuiltInTok{print}\NormalTok{(x.day)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Int64Index([2022, 2022, 2022, 2022, 2022], dtype='int64')
Int64Index([1, 1, 1, 1, 1], dtype='int64')
Int64Index([17, 18, 19, 20, 21], dtype='int64')
\end{verbatim}

\hypertarget{ux4f4dux79fbux548cux5deeux5206}{%
\subsection{ä½ç§»å’Œå·®åˆ†}\label{ux4f4dux79fbux548cux5deeux5206}}

æ„é€ ä¸€ä¸ªè™šæ‹Ÿè‚¡ä»·åºåˆ—ï¼Œè®¡ç®—ï¼ˆä¸€é˜¶ï¼‰æ»åã€ï¼ˆä¸€é˜¶ï¼‰å·®åˆ†å’Œï¼ˆæ—¥ï¼‰å›æŠ¥ç‡ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ„é€ ä¸€ä¸ªè™šæ‹Ÿçš„ä»·æ ¼åºåˆ—}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(price }\OperatorTok{=}\NormalTok{ [}\FloatTok{10.9}\NormalTok{,}\FloatTok{12.1}\NormalTok{,}\FloatTok{11.3}\NormalTok{,}\FloatTok{11.6}\NormalTok{,}\FloatTok{12.7}\NormalTok{]),index }\OperatorTok{=}\NormalTok{ x) }\CommentTok{\# xè§ä¸Šä¸€èŠ‚ã€‚}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& price \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2022-01-17 & 10.9 \\
2022-01-18 & 12.1 \\
2022-01-19 & 11.3 \\
2022-01-20 & 11.6 \\
2022-01-21 & 12.7 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# né˜¶æ»åï¼šé»˜è®¤æ˜¯1é˜¶}
\NormalTok{df[}\StringTok{\textquotesingle{}price\_1\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df.price.shift()}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& price & price\_1 \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2022-01-17 & 10.9 & NaN \\
2022-01-18 & 12.1 & 10.9 \\
2022-01-19 & 11.3 & 12.1 \\
2022-01-20 & 11.6 & 11.3 \\
2022-01-21 & 12.7 & 11.6 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å·®åˆ†ï¼šé»˜è®¤æ˜¯1é˜¶}
\CommentTok{\# å¯ä»¥ï¼š1. ç”¨price {-} price\_1ï¼Œ2. ç”¨price.diff()æ–¹æ³•ã€‚}
\NormalTok{df[}\StringTok{\textquotesingle{}diff\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df.price.diff()}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& price & price\_1 & diff \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2022-01-17 & 10.9 & NaN & NaN \\
2022-01-18 & 12.1 & 10.9 & 1.2 \\
2022-01-19 & 11.3 & 12.1 & -0.8 \\
2022-01-20 & 11.6 & 11.3 & 0.3 \\
2022-01-21 & 12.7 & 11.6 & 1.1 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç™¾åˆ†æ¯”å˜åŒ–ï¼ˆæ—¥å›æŠ¥ç‡ï¼‰}
\CommentTok{\# å¯ä»¥ 1. ç”¨ä¸€é˜¶å·®åˆ†é™¤ä»¥ä¸€é˜¶æ»åã€‚ æˆ–è€…2. ç›´æ¥ç”¨price.pct\_change()æ–¹æ³•ã€‚}
\NormalTok{df[}\StringTok{\textquotesingle{}ret\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}diff\textquotesingle{}}\NormalTok{] }\OperatorTok{/}\NormalTok{ df[}\StringTok{\textquotesingle{}price\_1\textquotesingle{}}\NormalTok{]}

\NormalTok{df[}\StringTok{\textquotesingle{}ret\_2\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}price\textquotesingle{}}\NormalTok{].pct\_change()}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
& price & price\_1 & diff & ret & ret\_2 \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2022-01-17 & 10.9 & NaN & NaN & NaN & NaN \\
2022-01-18 & 12.1 & 10.9 & 1.2 & 0.110092 & 0.110092 \\
2022-01-19 & 11.3 & 12.1 & -0.8 & -0.066116 & -0.066116 \\
2022-01-20 & 11.6 & 11.3 & 0.3 & 0.026549 & 0.026549 \\
2022-01-21 & 12.7 & 11.6 & 1.1 & 0.094828 & 0.094828 \\
\end{longtable}

\hypertarget{ux4eceux56deux62a5ux7387ux8ba1ux7b97ux4ef7ux683c}{%
\subsection{ä»å›æŠ¥ç‡è®¡ç®—ä»·æ ¼}\label{ux4eceux56deux62a5ux7387ux8ba1ux7b97ux4ef7ux683c}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä»å›æŠ¥ç‡è®¡ç®—ä»·æ ¼}
\CommentTok{\# åˆ©ç”¨comprod()ï¼šåºåˆ—çš„ç´¯ç§¯è¿ä¹˜}
\CommentTok{\# è§ï¼šhttps://pandas.pydata.org/docs/reference/api/pandas.DataFrame.cumprod.html}

\CommentTok{\# ä»1å¼€å§‹çš„ä»·æ ¼ï¼š}
\CommentTok{\# ä»·æ ¼1 = (1 + å›æŠ¥ç‡).cumprod()}


\NormalTok{df[}\StringTok{\textquotesingle{}price\_2\textquotesingle{}}\NormalTok{ ] }\OperatorTok{=}\NormalTok{  (}\DecValTok{1} \OperatorTok{+}\NormalTok{ df[}\StringTok{\textquotesingle{}ret\textquotesingle{}}\NormalTok{].fillna(}\DecValTok{0}\NormalTok{)).cumprod()}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllll@{}}
\toprule\noalign{}
& price & price\_1 & diff & ret & ret\_2 & price\_2 \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2022-01-17 & 10.9 & NaN & NaN & NaN & NaN & 1.000000 \\
2022-01-18 & 12.1 & 10.9 & 1.2 & 0.110092 & 0.110092 & 1.110092 \\
2022-01-19 & 11.3 & 12.1 & -0.8 & -0.066116 & -0.066116 & 1.036697 \\
2022-01-20 & 11.6 & 11.3 & 0.3 & 0.026549 & 0.026549 & 1.064220 \\
2022-01-21 & 12.7 & 11.6 & 1.1 & 0.094828 & 0.094828 & 1.165138 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç®€å•éªŒç®—ï¼š é™¤äº†ç¬¬ä¸€å¤©ï¼Œåºåˆ—priceå’Œprice\_2çš„æ—¥å›æŠ¥åº”è¯¥ç›¸åŒã€‚}
\NormalTok{df.price\_2.pct\_change().}\BuiltInTok{round}\NormalTok{(}\DecValTok{3}\NormalTok{) }\OperatorTok{==}\NormalTok{ df.ret.}\BuiltInTok{round}\NormalTok{(}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
2022-01-17    False
2022-01-18     True
2022-01-19     True
2022-01-20     True
2022-01-21     True
Freq: B, dtype: bool
\end{verbatim}

\hypertarget{ux91cdux91c7ux6837}{%
\subsection{é‡é‡‡æ ·}\label{ux91cdux91c7ux6837}}

ä¸åŒé¢‘ç‡å‘¨æœŸçš„æ•°æ®ç›¸äº’è½¬æ¢ï¼šå¦‚æ—¥é¢‘æ•°æ®åˆ°å‘¨é¢‘æˆ–è€…æœˆé¢‘ï¼ˆæ—¥çº¿åˆ°å‘¨çº¿ã€æœˆçº¿ç­‰ï¼‰ï¼Œæˆ–è€…åè¿‡æ¥ã€‚

ä½¿ç”¨\texttt{.resample()}ã€‚

df

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ„é€ ä¸€ä¸ª3ä¸ªæœˆçš„æ—¥çº¿åºåˆ—}
\NormalTok{ts }\OperatorTok{=}\NormalTok{ pd.date\_range(}\StringTok{\textquotesingle{}2022{-}01{-}01\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2022{-}03{-}31\textquotesingle{}}\NormalTok{)}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(value }\OperatorTok{=}\NormalTok{ np.arange(}\BuiltInTok{len}\NormalTok{(ts))),index }\OperatorTok{=}\NormalTok{ ts)}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& value \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2022-01-01 & 0 \\
2022-01-02 & 1 \\
2022-01-03 & 2 \\
2022-01-04 & 3 \\
2022-01-05 & 4 \\
... & ... \\
2022-03-27 & 85 \\
2022-03-28 & 86 \\
2022-03-29 & 87 \\
2022-03-30 & 88 \\
2022-03-31 & 89 \\
\end{longtable}

éœ€è¦æŒ‡å®šå‘¨æœŸå’Œå½’çº³çš„æ–¹æ³•ï¼Œå¦‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# é‡é‡‡æ ·ä¸ºå‘¨"W"ï¼Œå–æ¯å‘¨çš„æœ€åä¸€ä¸ªå€¼}
\NormalTok{df.resample(}\StringTok{\textquotesingle{}W\textquotesingle{}}\NormalTok{).last().head() }\CommentTok{\# å‘¨æ•°æ®çš„æœ€åä¸€ä¸ªå€¼ï¼Œé»˜è®¤æ˜¯å–"å‘¨æ—¥"ä¸ºæœ€åä¸€å¤©}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& value \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2022-01-02 & 1 \\
2022-01-09 & 8 \\
2022-01-16 & 15 \\
2022-01-23 & 22 \\
2022-01-30 & 29 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¯ä»¥è®¾ç½®ä»¥å‘¨äº”ä¸ºæœ€åä¸€å¤©ï¼Œè¿™æ ·å°±å¯ä»¥å–å¾—å…¨éƒ¨çš„å‘¨äº”}
\CommentTok{\# ç¬¦åˆä¸–ç•Œä¸Šä¸»è¦å›½å®¶æ¯å‘¨çš„æœ€åä¸€ä¸ªå·¥ä½œæ—¥ï¼Œæ¯”å¦‚è‚¡ç¥¨çš„å‘¨çº¿æ”¶ç›˜ä»·}
\NormalTok{df.resample(}\StringTok{\textquotesingle{}W{-}FRI\textquotesingle{}}\NormalTok{).last().head() }
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& value \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2022-01-07 & 6 \\
2022-01-14 & 13 \\
2022-01-21 & 20 \\
2022-01-28 & 27 \\
2022-02-04 & 34 \\
\end{longtable}

å¯ç”¨çš„æ¯å‘¨ç»“æŸæ—¥æœŸåŒ…æ‹¬

`W-SUN' æˆ– `W': å‘¨æ—¥

`W-MON': å‘¨ä¸€

`W-TUE': å‘¨äºŒ

`W-WED': å‘¨ä¸‰

`W-THU': å‘¨å››

`W-FRI': å‘¨äº”

`W-SAT': å‘¨å…­

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# é‡é‡‡æ ·ä¸ºæœˆçº¿Mï¼Œå–åŒºé—´å†…æ‰€æœ‰å€¼çš„å’Œ}
\NormalTok{df.resample(}\StringTok{\textquotesingle{}M\textquotesingle{}}\NormalTok{).}\BuiltInTok{sum}\NormalTok{() }\CommentTok{\# æœˆæ•°æ®çš„æ±‚å’Œ}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& value \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2022-01-31 & 465 \\
2022-02-28 & 1246 \\
2022-03-31 & 2294 \\
\end{longtable}

å¯ä»¥ç”¨çš„å‡½æ•°åŒ…æ‹¬:

\texttt{mean()}: è®¡ç®—æ—¶é—´æ®µå†…çš„å¹³å‡å€¼ã€‚

\texttt{sum()}: è®¡ç®—æ—¶é—´æ®µå†…çš„æ€»å’Œã€‚

\texttt{max()}: æ‰¾åˆ°æ—¶é—´æ®µå†…çš„æœ€å¤§å€¼ã€‚

\texttt{min()}: æ‰¾åˆ°æ—¶é—´æ®µå†…çš„æœ€å°å€¼ã€‚

\texttt{count()}: è®¡ç®—æ—¶é—´æ®µå†…çš„è§‚æµ‹æ•°ã€‚

\texttt{first()}: è·å–æ—¶é—´æ®µå†…çš„ç¬¬ä¸€ä¸ªå€¼ã€‚

\texttt{last()}: è·å–æ—¶é—´æ®µå†…çš„æœ€åä¸€ä¸ªå€¼ã€‚

\texttt{median()}: è®¡ç®—æ—¶é—´æ®µå†…çš„ä¸­ä½æ•°ã€‚

\texttt{std()}: è®¡ç®—æ—¶é—´æ®µå†…çš„æ ‡å‡†å·®ã€‚

\texttt{var()}: è®¡ç®—æ—¶é—´æ®µå†…çš„æ–¹å·®ã€‚

\texttt{ohlc()}:
ä¸ºé‡‘èæ•°æ®æä¾›å¼€ç›˜ä»·ï¼ˆopenï¼‰ã€æœ€é«˜ä»·ï¼ˆhighï¼‰ã€æœ€ä½ä»·ï¼ˆlowï¼‰ã€æ”¶ç›˜ä»·ï¼ˆcloseï¼‰çš„èšåˆã€‚

\hypertarget{ux4fddux5b58dataframeux5230ux6587ux4ef6}{%
\section{ä¿å­˜DataFrameåˆ°æ–‡ä»¶}\label{ux4fddux5b58dataframeux5230ux6587ux4ef6}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\end{Highlighting}
\end{Shaded}

æ„é€ ç¤ºä¾‹æ•°æ®

æ³¨æ„ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{df{[}\textquotesingle{}datetime\textquotesingle{}{]}}åˆ—æ˜¯``æ—¥æœŸå’Œæ—¶é—´''æ ¼å¼ï¼ˆPandasé»˜è®¤ï¼‰ï¼Œæœ‰æ—¥æœŸå’Œæ—¶é—´çš„ä¿¡æ¯ï¼Œè¿™ä¼šåæ˜ åœ¨ä¿å­˜åçš„æ•°æ®ä¸­ã€‚
\item
  \texttt{df{[}\textquotesingle{}datetime\textquotesingle{}{]}.dt.date}å¯ä»¥ä»ä¸­è·å¾—ä»…æœ‰``æ—¥æœŸ''ä¿¡æ¯ï¼ˆè§å‰é¢çš„``æ—¶é—´æ–¹æ³•''ï¼‰ã€‚
\item
  ä½ æ‰“å¼€ä¿å­˜åçš„excelæ–‡ä»¶å°±å¯ä»¥çœ‹å‡ºå·®å¼‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df  }\OperatorTok{=}\NormalTok{  pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(datetime }\OperatorTok{=}\NormalTok{ pd.date\_range(}\StringTok{\textquotesingle{}2022{-}01{-}15\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2022{-}01{-}19\textquotesingle{}}\NormalTok{),number }\OperatorTok{=} \BuiltInTok{range}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{6}\NormalTok{),name }\OperatorTok{=} \BuiltInTok{list}\NormalTok{(}\StringTok{\textquotesingle{}ABCDE\textquotesingle{}}\NormalTok{),value }\OperatorTok{=}\NormalTok{ np.random.randn(}\DecValTok{5}\NormalTok{)))}
\NormalTok{df[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}datetime\textquotesingle{}}\NormalTok{].dt.date}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
& datetime & number & name & value & date \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2022-01-15 & 1 & A & 0.551319 & 2022-01-15 \\
1 & 2022-01-16 & 2 & B & 0.508283 & 2022-01-16 \\
2 & 2022-01-17 & 3 & C & 1.427345 & 2022-01-17 \\
3 & 2022-01-18 & 4 & D & -0.854368 & 2022-01-18 \\
4 & 2022-01-19 & 5 & E & 1.899462 & 2022-01-19 \\
\end{longtable}

ä½¿ç”¨\texttt{df.to\_excel()}å’Œ\texttt{df.to\_csv()}ç­‰æ–¹æ³•ï¼Œå¯ä»¥æŠŠ\texttt{df}ä¿å­˜ä¸ºæ–‡ä»¶ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  é»˜è®¤ä¼šä¿å­˜æŠŠç´¢å¼•\texttt{index}ä¹Ÿä¿å­˜ä¸ºåˆ—ï¼Œå¹¶ä¸”å¯èƒ½æ²¡æœ‰åˆ—åï¼ˆæ³¨æ„çœ‹indexæœ‰æ²¡æœ‰åå­—ï¼‰
\item
  ä¸€èˆ¬è€Œè¨€ï¼Œä¸ºäº†ä¿æŒåœ¨ä¸åŒè½¯ä»¶ä¹‹é—´çš„é€šç”¨æ€§ï¼Œå¯ä»¥è€ƒè™‘æŠŠæ‰€ä»¥æœ‰æ„ä¹‰çš„ä¿¡æ¯æ”¾åœ¨ä¸€ä¸ªæ™®é€šçš„åˆ—ä¸­ï¼Œåˆ™ä¿å­˜DFåˆ°æ–‡ä»¶æ—¶å°±å¯ä»¥æ”¾å¿ƒåœ°ä¸¢å¼ƒindexã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŠŠdfä¿å­˜åˆ°å·¥ä½œç›®å½•ï¼ˆæœ¬ipynbæ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼‰ä¸‹çš„dataæ–‡ä»¶å¤¹ä¸‹çš„output.xlsxæ–‡ä»¶ä¸­}
\CommentTok{\# é»˜è®¤å‚æ•°ï¼Œä¼šè¿å¸¦ä¿å­˜indexä¸€èµ·ä¿å­˜ã€‚å¦‚æœindexæ— åç§°ï¼Œåˆ™å°±ä¼šäº§ç”Ÿä¸€ç³»åˆ—æ— ååˆ—ã€‚}
\NormalTok{df.to\_excel(}\StringTok{\textquotesingle{}data/output.xlsx\textquotesingle{}}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä¸¢å¼ƒindex}
\CommentTok{\# å¦‚æœindexæ²¡æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œæˆ–è€…æœ‰ä»·å€¼çš„ä¿¡æ¯å·²ç»é€šè¿‡reset\_index()è½¬ä¸ºæ™®é€šåˆ—ï¼Œåˆ™å¯ä»¥æ”¾å¿ƒä¸¢å¼ƒ}
\NormalTok{df.to\_excel(}\StringTok{\textquotesingle{}data/output\_noindex.xlsx\textquotesingle{}}\NormalTok{,index}\OperatorTok{=}\VariableTok{False}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

ä½ å¯ä»¥æ‰“å¼€è¿™\texttt{output.xlsx}å’Œ\texttt{output\_noindex}è¿›è¡Œå¯¹æ¯”ã€‚

\hypertarget{plotux597dux770bux6700ux91cdux8981}{%
\chapter{Plotï¼šå¥½çœ‹æœ€é‡è¦}\label{plotux597dux770bux6700ux91cdux8981}}

æœ¬ç« ä¼šä»‹ç»å¦‚ä½•ç»˜åˆ¶å›¾å½¢ã€‚ç»˜å›¾çš„å†…å®¹éå¸¸å¤šï¼Œå¯ä»¥å•ç‹¬å†™ä¸€æœ¬ä¹¦ã€‚å› æ­¤ï¼Œ

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æœ¬ç« é‡äºå¯¹DataFrameæ ¼å¼çš„æ•°æ®è¿›è¡Œç»˜å›¾ã€‚
\item
  æœ¬ç« åªè¿›è¡Œä¸€èˆ¬æ€§çš„ä»‹ç»ï¼Œæ›´å¤æ‚ä¾‹å­ä¼šç•™åœ¨æ¡ˆä¾‹ä¸­ã€‚
\end{enumerate}

\hypertarget{ux7b80ux5355ux793aux4f8b}{%
\section{ç®€å•ç¤ºä¾‹}\label{ux7b80ux5355ux793aux4f8b}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä»¥ä¸‹éƒ½æ˜¯ä¾‹è¡Œå…¬äº‹ï¼Œç›´æ¥æ‹·è´å³å¯}

\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np }

\CommentTok{\# å¯¼å…¥matplotlib.pyplotç»˜å›¾åº“ï¼Œå…¶ä¸­plt.plot()æ˜¯æœ€å¸¸ç”¨çš„ç»˜å›¾å‡½æ•°ä¹‹ä¸€}
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt }

\ImportTok{import}\NormalTok{ seaborn }\ImportTok{as}\NormalTok{ sns}

\NormalTok{sns.}\BuiltInTok{set}\NormalTok{() }\CommentTok{\# é»˜è®¤ç”¨seabornçš„ç»˜å›¾æ ·å¼}

\NormalTok{plt.rcParams[}\StringTok{"font.sans{-}serif"}\NormalTok{]}\OperatorTok{=}\NormalTok{[}\StringTok{"Microsoft YaHei"}\NormalTok{] }\CommentTok{\#è®¾ç½®å­—ä½“ã€‚å¦‚æœä¸è®¾ç½®ï¼Œä¸­æ–‡ä¼šä¹±ç ã€‚è¿™é‡Œé‡‡ç”¨å¾®è½¯é›…é»‘\textquotesingle{}Microsoft YaHei\textquotesingle{}ï¼Œå¦‚æœæ˜¾ç¤ºä¸æ­£å¸¸ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»‘ä½“\textquotesingle{}SimHei\textquotesingle{}æˆ–è€…å®‹ä½“\textquotesingle{}SimSun\textquotesingle{}ç­‰}
\NormalTok{plt.rcParams[}\StringTok{"axes.unicode\_minus"}\NormalTok{]}\OperatorTok{=}\VariableTok{False} \CommentTok{\#è¯¥è¯­å¥è§£å†³å›¾åƒä¸­çš„â€œ{-}â€è´Ÿå·çš„ä¹±ç é—®é¢˜}

\CommentTok{\# ç»˜å›¾ä½¿ç”¨\textquotesingle{}svg\textquotesingle{}åç«¯ï¼šsvgæ˜¯çŸ¢é‡æ ¼å¼ï¼Œå¯ä»¥ä»»æ„ç¼©æ”¾å‡ä¿æŒæ¸…æ™°ï¼Œå„ç§å±å¹•çš„æ˜¾ç¤ºè‰¯å¥½ã€‚}
\OperatorTok{\%}\NormalTok{config InlineBackend.figure\_formats }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}svg\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

ä»æ•°æ®ä¸­ç®€å•ç»˜åˆ¶ä¸€ä¸ªäºŒç»´å›¾å½¢ï¼Œå¦‚æ­£å¼¦æ›²çº¿å’Œä½™å¼¦æ›²çº¿ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç”Ÿæˆæ­£å¼¦å’Œä½™å¼¦æ›²çº¿çš„æ•°æ®
\item
  åˆ©ç”¨\texttt{df.plot()}ä»¿ä½›è¿›è¡Œç»˜å›¾
\item
  åˆ©ç”¨\texttt{plt.xxx()}å¢åŠ å…¶ä»–ç»„ä»¶
\end{enumerate}

ç”Ÿæˆæ•°æ®ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.arange(np.pi }\OperatorTok{*} \DecValTok{20}\NormalTok{)}\OperatorTok{/}\DecValTok{10} \CommentTok{\# }
\NormalTok{y }\OperatorTok{=}\NormalTok{ np.sin(x) }\CommentTok{\# å¯¹xåºåˆ—ä¸­çš„æ¯ä¸€ä¸ªå€¼æ±‚sin(*)}
\NormalTok{z }\OperatorTok{=}\NormalTok{ np.cos(x)}

\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{:x,}\StringTok{\textquotesingle{}sin(x)\textquotesingle{}}\NormalTok{: y ,}\StringTok{\textquotesingle{}cos(x)\textquotesingle{}}\NormalTok{:z\})}
\NormalTok{df.set\_index(}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{,inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& sin(x) & cos(x) \\
x & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0.0 & 0.000000 & 1.000000 \\
0.1 & 0.099833 & 0.995004 \\
0.2 & 0.198669 & 0.980067 \\
0.3 & 0.295520 & 0.955336 \\
0.4 & 0.389418 & 0.921061 \\
\end{longtable}

å…¶ä¸­ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{index}ï¼ˆæœ¬æ¡ˆä¸­ä¸ºxï¼‰ä¼šæˆä¸ºæ¨ªè½´
\item
  åˆ—æ ‡ç­¾ä¼šè‡ªåŠ¨æˆä¸ºæ›²çº¿çš„æ ‡ç­¾ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.plot()}\OperatorTok{;} \CommentTok{\# é»˜è®¤ç»˜å›¾ï¼}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-4-output-1.pdf}

}

\end{figure}

\texttt{df.plot()}å…¶ä»–å¸¸ç”¨å‚æ•°ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{figsize}ï¼šå›¾å°ºå¯¸ï¼Œå‚æ•°æ¥å—ä¸€ä¸ªtupleï¼Œè¡¨ç¤ºé•¿å’Œå®½ï¼ˆè‹±å¯¸ï¼‰
\item
  \texttt{style}ï¼šçº¿çš„é£æ ¼ï¼šé¢œè‰²-å½¢çŠ¶-çº¿å‹ï¼Œæ¯”å¦‚'ro-'è¡¨ç¤º``çº¢è‰²+åœ†ç‚¹+æ¨ªçº¿''
\end{enumerate}

é£æ ¼å…·ä½“è§\href{https://matplotlib.org/2.1.2/api/_as_gen/matplotlib.pyplot.plot.html}{Matplotlibå®˜ç½‘}

ç»˜å›¾çš„å…¶ä»–ç»„ä»¶ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{plt.xlabel()}ï¼šè®¾ç½®xè½´æ ‡ç­¾
\item
  \texttt{plt.ylabel()}ï¼šè®¾ç½®yè½´æ ‡ç­¾
\item
  \texttt{plt.title()}ï¼šè®¾ç½®æ ‡é¢˜
\item
  \texttt{plt.xlim()}å’Œ\texttt{plt.ylim}ï¼šç»˜åˆ¶çš„xæˆ–è€…yçš„èŒƒå›´ï¼Œå‚æ•°æ¥æ”¶ä¸€ä¸ªtupleï¼Œè¡¨ç¤ºèµ·æ­¢ç‚¹ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç»˜å›¾æœ¬èº«å¯ä»¥ä¿å­˜åˆ°ä¸€ä¸ªå˜é‡ä¸­}
\CommentTok{\# é»‘ç™½é£æ ¼ï¼Œä½¿ç”¨æ¨ªçº¿å’Œè™šçº¿ï¼Œä¾¿äºæ‰“å°}
\NormalTok{p }\OperatorTok{=}\NormalTok{ df.plot(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{6}\NormalTok{,}\DecValTok{3}\NormalTok{), style}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}{-}\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}{-}{-}\textquotesingle{}}\NormalTok{], linewidth}\OperatorTok{=}\DecValTok{1}\NormalTok{, c}\OperatorTok{=}\StringTok{\textquotesingle{}black\textquotesingle{}}\NormalTok{) }


\CommentTok{\# è®¾ç½®ä¸€ä¸ªå›¾å½¢ä¸­çš„å…¶ä»–ç»„ä»¶}
\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}å‚æ•°x\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}å‡½æ•°å€¼\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}æ­£å¼¦å‡½æ•°å’Œä½™å¼¦å‡½æ•°\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.xlim((}\DecValTok{0}\NormalTok{,}\DecValTok{2}\NormalTok{)) }\CommentTok{\# åªç»˜åˆ¶xä»0åˆ°5çš„åŒºé—´}
\NormalTok{plt.legend(frameon}\OperatorTok{=}\VariableTok{False}\NormalTok{)}\OperatorTok{;} \CommentTok{\# å»æ‰å›¾ä¾‹çš„æ–¹æ¡†}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-5-output-1.pdf}

}

\end{figure}

\hypertarget{ux4fddux5b58ux7ed8ux56fe}{%
\subsection{ä¿å­˜ç»˜å›¾}\label{ux4fddux5b58ux7ed8ux56fe}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç›´æ¥ç‚¹å›¾å½¢å³ä¾§çš„'save as'ç£ç›˜å›¾æ ‡ã€‚
\item
  ç”¨ä»£ç ä¿å­˜ã€‚
\end{enumerate}

ä¸€èˆ¬å¯ä»¥é‡‡ç”¨pngæ ¼å¼ï¼Œæ¯”å¦‚\texttt{sin\_cos.png}ã€‚

å¯¹äºä½å›¾æ ¼å¼ï¼ˆç‚¹é˜µï¼‰å‚æ•°dpiè®¾å®šæ¯è‹±å¯¸ç‚¹çš„æ•°é‡ï¼šæ‰“å°å“è´¨ä¸€èˆ¬è¦æ±‚dpiä¸º300ä»¥ä¸Š

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# pæ˜¯å‰é¢plot()è¿›è¡Œç»˜å›¾æ‰€è¿”å›çš„å¯¹è±¡ï¼Œå¯ä»¥è§†ä¸ºå›¾å½¢æœ¬èº«}
\CommentTok{\# p.figure.savefig()å‡½æ•°è¿›è¡Œä¿å­˜ã€‚}

\NormalTok{p.figure.savefig(}\StringTok{\textquotesingle{}sin\_cos\_dpi100.png\textquotesingle{}}\NormalTok{,dpi}\OperatorTok{=}\DecValTok{100}\NormalTok{)}
\NormalTok{p.figure.savefig(}\StringTok{\textquotesingle{}sin\_cos\_dpi300.png\textquotesingle{}}\NormalTok{,dpi}\OperatorTok{=}\DecValTok{300}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

ä¹Ÿå¯ä»¥é‡‡ç”¨svgçŸ¢é‡æ ¼å¼ï¼Œè¿™ä¸ªæ ¼å¼å¯ä»¥ä»»æ„ç¼©æ”¾éƒ½ä¿æŒæ¸…æ™°ï¼Œå› æ­¤ä¸ç”¨è€ƒè™‘dpié—®é¢˜ï¼Œä½†æŸäº›æ¯”è¾ƒè€çš„è½¯ä»¶å¯èƒ½ä¸è®¤è¯†svgæ ¼å¼ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{p.figure.savefig(}\StringTok{\textquotesingle{}sin\_cos.svg\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\hypertarget{ux6563ux70b9ux56fe}{%
\subsection{æ•£ç‚¹å›¾}\label{ux6563ux70b9ux56fe}}

æ•°æ®æ˜¯ä½œä¸š03çš„è´¢åŠ¡æ•°æ®ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/sample\_fin\_data.xlsx\textquotesingle{}}\NormalTok{,converters}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}è¯åˆ¸ä»£ç \textquotesingle{}}\NormalTok{:}\BuiltInTok{str}\NormalTok{,}\StringTok{\textquotesingle{}ç»Ÿè®¡æˆªæ­¢æ—¥æœŸ\textquotesingle{}}\NormalTok{:pd.to\_datetime\})}
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è¯åˆ¸ä»£ç  & è¯åˆ¸ç®€ç§° & ç»Ÿè®¡æˆªæ­¢æ—¥æœŸ & æ€»èµ„äº§ & æ€»è´Ÿå€º & å‡€èµ„äº§ & å‡€åˆ©æ¶¦
& è¥ä¸šæ€»æ”¶å…¥ & èµ„äº§è´Ÿå€ºç‡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000001 & å¹³å®‰é“¶è¡Œ & 2016-12-31 & 2.953434e+12 & 2.751263e+12 &
2.021710e+11 & 2.259900e+10 & 1.044160e+11 & 0.9315 \\
1 & 000001 & å¹³å®‰é“¶è¡Œ & 2017-12-31 & 3.248474e+12 & 3.026420e+12 &
2.220540e+11 & 2.318900e+10 & 1.048690e+11 & 0.9316 \\
2 & 000001 & å¹³å®‰é“¶è¡Œ & 2018-12-31 & 3.418592e+12 & 3.178550e+12 &
2.400420e+11 & 2.481800e+10 & 1.062120e+11 & 0.9298 \\
3 & 000001 & å¹³å®‰é“¶è¡Œ & 2019-12-31 & 3.939070e+12 & 3.626087e+12 &
3.129830e+11 & 2.819500e+10 & 1.268140e+11 & 0.9205 \\
4 & 000001 & å¹³å®‰é“¶è¡Œ & 2020-12-31 & 4.468514e+12 & 4.104383e+12 &
3.641310e+11 & 2.892800e+10 & 1.432420e+11 & 0.9185 \\
\end{longtable}

åˆ©ç”¨\texttt{.plot.scatter()}ï¼šç»˜åˆ¶æ•£ç‚¹å›¾ã€‚å¦‚ï¼š

æˆ‘ä»¬æƒ³çœ‹ä¸€ä¸‹ï¼Œ2020å¹´å¹´æŠ¥ä¸­ï¼Œæ‰€ä»¥è‚¡ç¥¨çš„æ€»èµ„äº§å’Œå‡€åˆ©æ¶¦ä¹‹é—´çš„å…³ç³»ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OperatorTok{=}\NormalTok{ df.query(}\StringTok{"ç»Ÿè®¡æˆªæ­¢æ—¥æœŸ.dt.year == 2020"}\NormalTok{)}
\NormalTok{data.plot.scatter(x }\OperatorTok{=} \StringTok{\textquotesingle{}æ€»èµ„äº§\textquotesingle{}}\NormalTok{, y }\OperatorTok{=} \StringTok{\textquotesingle{}å‡€åˆ©æ¶¦\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
*c* argument looks like a single numeric RGB or RGBA sequence, which should be avoided as value-mapping will have precedence in case its length matches with *x* & *y*.  Please use the *color* keyword-argument or provide a 2D array with a single row if you intend to specify the same RGB or RGBA value for all points.
\end{verbatim}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-9-output-2.pdf}

}

\end{figure}

\texttt{.plot.scatter()}çš„å¸¸ç”¨å‚æ•°ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{c}ï¼šé¢œè‰²ã€‚å…·ä½“è§\href{https://matplotlib.org/stable/gallery/color/named_colors.html}{Matplotlibå®˜ç½‘}
\item
  \texttt{s}ï¼šç‚¹çš„å¤§å°
\item
  \texttt{alpha}ï¼šé€æ˜åº¦
\item
  \texttt{logx}å’Œ\texttt{logy}ï¼šxæˆ–è€…yåæ ‡æ˜¯å¦é‡‡ç”¨å¯¹æ•°åæ ‡
\end{enumerate}

2ä¸ªè€ƒè™‘ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å³ååˆ†å¸ƒï¼ˆå’Œé’±æœ‰å…³çš„ï¼Œä¾‹å¦‚æ€»èµ„äº§ï¼Œå¤šæ•°å¦‚æ­¤ï¼‰ï¼Œåœ¨å›¾å½¢ä¸Šä¼šèšé›†åœ¨æ•°å­—å°çš„åŒºåŸŸï¼ˆå¦‚ä¸Šå›¾ï¼‰ï¼Œå–å¯¹æ•°ä¼šæ›´å®¹æ˜“ä½“ç°å˜é‡çš„å…³ç³»ã€‚
\item
  æ•£ç‚¹å›¾çš„ç‚¹å¦‚æœå¾ˆå¤šï¼Œå¯ä»¥è€ƒè™‘å¢åŠ é€æ˜åº¦ï¼Œé‚£ä¹ˆç‚¹é›†ä¸­çš„éƒ¨åˆ†ï¼Œé¢œè‰²è‡ªç„¶è¾ƒæ·±ï¼›åä¹‹è‡ªç„¶è¾ƒæµ…ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# logxå’Œlogyï¼šé‡‡ç”¨å¯¹æ•°åæ ‡}
\CommentTok{\# å½“ç„¶ï¼Œæ‰‹åŠ¨ç”Ÿæˆæ–°çš„â€œå¯¹æ•°æ€»èµ„äº§â€åˆ—ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚}
\CommentTok{\# ä½¿ç”¨é»‘ç™½é£æ ¼ï¼Œä¾¿äºæ‰“å°}
\NormalTok{data.plot.scatter(x }\OperatorTok{=} \StringTok{\textquotesingle{}æ€»èµ„äº§\textquotesingle{}}\NormalTok{, y }\OperatorTok{=} \StringTok{\textquotesingle{}å‡€åˆ©æ¶¦\textquotesingle{}}\NormalTok{ ,logx }\OperatorTok{=} \VariableTok{True}\NormalTok{,logy }\OperatorTok{=}\VariableTok{True}\NormalTok{,c}\OperatorTok{=}\StringTok{\textquotesingle{}black\textquotesingle{}}\NormalTok{,alpha}\OperatorTok{=}\FloatTok{0.1}\NormalTok{,s }\OperatorTok{=} \DecValTok{30}\NormalTok{)}\OperatorTok{;}
\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}æ€»èµ„äº§(å¯¹æ•°åæ ‡)\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}å‡€åˆ©æ¶¦(å¯¹æ•°åæ ‡)\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}æ€»èµ„äº§å’Œå‡€åˆ©æ¶¦å…³ç³»\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-10-output-1.pdf}

}

\end{figure}

\hypertarget{ux5206ux5e03ux56feux548cux5bc6ux5ea6ux56fe}{%
\subsection{åˆ†å¸ƒå›¾å’Œå¯†åº¦å›¾}\label{ux5206ux5e03ux56feux548cux5bc6ux5ea6ux56fe}}

ç”¨ \texttt{.plot.hist()}ç»˜åˆ¶åˆ†å¸ƒï¼Œç”¨\texttt{.plot.density()}ç»˜åˆ¶å¯†åº¦ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OperatorTok{=}\NormalTok{ df.query(}\StringTok{"ç»Ÿè®¡æˆªæ­¢æ—¥æœŸ.dt.year == 2020"}\NormalTok{)}
\NormalTok{data[}\StringTok{\textquotesingle{}å¯¹æ•°æ€»èµ„äº§\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.log(data[}\StringTok{\textquotesingle{}æ€»èµ„äº§\textquotesingle{}}\NormalTok{])}
\NormalTok{data[}\StringTok{\textquotesingle{}å¯¹æ•°æ€»è´Ÿå€º\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.log(data[}\StringTok{\textquotesingle{}æ€»è´Ÿå€º\textquotesingle{}}\NormalTok{])}
\NormalTok{data[[}\StringTok{\textquotesingle{}å¯¹æ•°æ€»èµ„äº§\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}å¯¹æ•°æ€»è´Ÿå€º\textquotesingle{}}\NormalTok{]].head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/tmp/ipykernel_476/795033559.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  data['å¯¹æ•°æ€»èµ„äº§'] = np.log(data['æ€»èµ„äº§'])
/tmp/ipykernel_476/795033559.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  data['å¯¹æ•°æ€»è´Ÿå€º'] = np.log(data['æ€»è´Ÿå€º'])
\end{verbatim}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& å¯¹æ•°æ€»èµ„äº§ & å¯¹æ•°æ€»è´Ÿå€º \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
4 & 29.128077 & 29.043077 \\
9 & 28.256519 & 28.049292 \\
14 & 21.170233 & 18.485856 \\
19 & 21.626827 & 20.850492 \\
24 & 23.459888 & 22.750988 \\
\end{longtable}

ç”¨\texttt{.plot.hist()}ç»˜åˆ¶åˆ†å¸ƒï¼šå¸¸ç”¨å‚æ•°

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{bins} = åˆ†æˆå¤šå°‘æ®µ
\item
  \texttt{color} = ä¸­å¿ƒå¡«å……çš„é¢œè‰²ï¼Œæœ¬æ¡ˆä¸­ä¿æŒé»˜è®¤
\item
  \texttt{ec} =
  æŸ±çŠ¶å›¾çš„è¾¹ç¼˜é¢œè‰²ï¼Œæœ¬æ¡ˆè®¾ä¸º'black'é»‘è‰²ï¼Œé¢œè‰²çš„åˆ—è¡¨è§å‰é¢ã€‚
\item
  \texttt{alpha} = é€æ˜åº¦ï¼šä¼šé‡å çš„å›¾å½¢å¸¸ç”¨ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data[[}\StringTok{\textquotesingle{}å¯¹æ•°æ€»èµ„äº§\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}å¯¹æ•°æ€»è´Ÿå€º\textquotesingle{}}\NormalTok{]].plot.hist(bins }\OperatorTok{=} \DecValTok{30}\NormalTok{,ec}\OperatorTok{=}\StringTok{\textquotesingle{}black\textquotesingle{}}\NormalTok{,alpha }\OperatorTok{=} \FloatTok{0.5}\NormalTok{)}\OperatorTok{;}
\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}æ€»èµ„äº§ï¼ˆå¯¹æ•°ï¼‰\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}é¢‘ç‡\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}2020å¹´åº¦ä¸Šå¸‚å…¬å¸çš„æ€»èµ„äº§çš„å¯¹æ•°åˆ†å¸ƒ\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\NormalTok{plt.legend(frameon}\OperatorTok{=}\VariableTok{False}\NormalTok{)}\OperatorTok{;} \CommentTok{\# å»æ‰å›¾ä¾‹çš„æ–¹æ¡†}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-12-output-1.pdf}

}

\end{figure}

ç”¨\texttt{.plot.density()}ç»˜åˆ¶æ¦‚ç‡å¯†åº¦ï¼Œä¹Ÿæ˜¯ç±»ä¼¼

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data[[}\StringTok{\textquotesingle{}å¯¹æ•°æ€»èµ„äº§\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}å¯¹æ•°æ€»è´Ÿå€º\textquotesingle{}}\NormalTok{]].plot.density()}\OperatorTok{;}
\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}æ€»èµ„äº§ï¼ˆå¯¹æ•°ï¼‰\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}æ¦‚ç‡å¯†åº¦\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}2020å¹´åº¦ä¸Šå¸‚å…¬å¸çš„æ€»èµ„äº§çš„å¯¹æ•°åˆ†å¸ƒæ¦‚ç‡å¯†åº¦\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\NormalTok{plt.xlim((}\DecValTok{15}\NormalTok{,}\DecValTok{32}\NormalTok{)) }\CommentTok{\# é™åˆ¶ä¸€ä¸‹èŒƒå›´}
\NormalTok{plt.legend(frameon}\OperatorTok{=}\VariableTok{False}\NormalTok{)}\OperatorTok{;} \CommentTok{\# å»æ‰å›¾ä¾‹çš„æ–¹æ¡†}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-13-output-1.pdf}

}

\end{figure}

\hypertarget{ux6761ux5f62ux56fe}{%
\subsection{æ¡å½¢å›¾}\label{ux6761ux5f62ux56fe}}

ç»˜åˆ¶2020å¹´å‰5å¤§å…¬å¸çš„è§„æ¨¡ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{top5\_com }\OperatorTok{=}\NormalTok{ df.query(}\StringTok{\textquotesingle{}ç»Ÿè®¡æˆªæ­¢æ—¥æœŸ.dt.year == 2020\textquotesingle{}}\NormalTok{).sort\_values(}\StringTok{\textquotesingle{}æ€»èµ„äº§\textquotesingle{}}\NormalTok{,ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{).head(}\DecValTok{5}\NormalTok{)}
\NormalTok{top5\_com.iloc[:}\DecValTok{3}\NormalTok{,:}\DecValTok{3}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& è¯åˆ¸ä»£ç  & è¯åˆ¸ç®€ç§° & ç»Ÿè®¡æˆªæ­¢æ—¥æœŸ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
11384 & 601398 & å·¥å•†é“¶è¡Œ & 2020-12-31 \\
11701 & 601939 & å»ºè®¾é“¶è¡Œ & 2020-12-31 \\
11306 & 601288 & å†œä¸šé“¶è¡Œ & 2020-12-31 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{top5\_com[}\StringTok{\textquotesingle{}æ€»èµ„äº§\_äº¿\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \BuiltInTok{round}\NormalTok{(top5\_com[}\StringTok{\textquotesingle{}æ€»èµ„äº§\textquotesingle{}}\NormalTok{] }\OperatorTok{/} \DecValTok{100000000}\NormalTok{,}\DecValTok{2}\NormalTok{)}

\CommentTok{\# ä¸ºäº†æ·»åŠ æ•°å­—ï¼Œè¿™é‡Œè¦æŠŠç»˜å›¾ä¿å­˜åˆ°ä¸€ä¸ªå˜é‡ä¸­}
\NormalTok{p }\OperatorTok{=}\NormalTok{ top5\_com.plot.bar(x }\OperatorTok{=} \StringTok{\textquotesingle{}è¯åˆ¸ç®€ç§°\textquotesingle{}}\NormalTok{,y }\OperatorTok{=} \StringTok{\textquotesingle{}æ€»èµ„äº§\_äº¿\textquotesingle{}}\NormalTok{)}\OperatorTok{;}

\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{) }\CommentTok{\# å»æ‰è¡Œæ ‡ç­¾}

\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}æ€»èµ„äº§ï¼ˆäº¿å…ƒï¼‰\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}2020å¹´åº¦æ€»èµ„äº§å‰5åä¸Šå¸‚å…¬å¸\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.legend(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{,frameon}\OperatorTok{=}\VariableTok{False}\NormalTok{) }\CommentTok{\# å»æ‰å›¾ä¾‹}

\CommentTok{\# æ·»åŠ æŸ±é¡¶éƒ¨æ•°å­—ï¼Œè¿™é‡Œçš„pæ˜¯å‰é¢ä¿å­˜çš„ç»˜å›¾å˜é‡ï¼Œpaddingæ˜¯é—´è·ã€‚}
\NormalTok{plt.bar\_label(p.containers[}\DecValTok{0}\NormalTok{], padding}\OperatorTok{=}\DecValTok{5}\NormalTok{)}\OperatorTok{;}

\CommentTok{\# ä¸ºäº†ç•™å‡ºæ˜¾ç¤ºæ•°å­—çš„ç©ºé—´ï¼ŒæŠŠyè½´çš„ä¸Šé™æé«˜ä¸€ç‚¹}
\NormalTok{plt.ylim((}\DecValTok{0}\NormalTok{,}\DecValTok{370000}\NormalTok{))}

\CommentTok{\# æ—‹è½¬xè½´åˆ»åº¦çš„å­—ä½“ï¼Œæ¯”å¦‚è½¬30åº¦}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{30}\NormalTok{)}\OperatorTok{;} 
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-15-output-1.pdf}

}

\end{figure}

ç”¨\texttt{.plot.barh()}å¯ä»¥ç»˜åˆ¶æ¨ªå‘çš„æŸ±çŠ¶å›¾ï¼ˆæ³¨æ„ï¼Œå‡½æ•°åå¤šäº†ä¸ª\texttt{h}ï¼‰

ç»˜å›¾çš„å…¶ä»–éƒ¨åˆ†è¿™é‡Œå°±ç•¥è¿‡äº†ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç”¨plot.barh()ç»˜åˆ¶æ¨ªå‘æŸ±çŠ¶å›¾ã€‚}
\NormalTok{top5\_com.plot.barh(x }\OperatorTok{=} \StringTok{\textquotesingle{}è¯åˆ¸ç®€ç§°\textquotesingle{}}\NormalTok{,y }\OperatorTok{=} \StringTok{\textquotesingle{}æ€»èµ„äº§\_äº¿\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-16-output-1.pdf}

}

\end{figure}

\hypertarget{ux997cux56fe}{%
\subsection{é¥¼å›¾}\label{ux997cux56fe}}

ç»˜åˆ¶æ€»èµ„äº§å‰5å¤§ä¸Šå¸‚å…¬å¸å¯¹å¯¹æ¯”

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{top5\_com.set\_index(}\StringTok{\textquotesingle{}è¯åˆ¸ç®€ç§°\textquotesingle{}}\NormalTok{)[}\StringTok{\textquotesingle{}æ€»èµ„äº§\_äº¿\textquotesingle{}}\NormalTok{].plot.pie(autopct}\OperatorTok{=}\StringTok{\textquotesingle{}}\SpecialCharTok{\%.2f\%\%}\StringTok{\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}2022å¹´æ€»èµ„äº§å‰5å¤§ä¸Šå¸‚å…¬å¸å¯¹æ¯”\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-17-output-1.pdf}

}

\end{figure}

\hypertarget{ux65f6ux95f4ux5e8fux5217ux4e13ux9898}{%
\section{æ—¶é—´åºåˆ—ä¸“é¢˜}\label{ux65f6ux95f4ux5e8fux5217ux4e13ux9898}}

å®Œæ•´çš„apiå‚è€ƒï¼Œè§
\href{https://matplotlib.org/stable/api/dates_api.html}{å®˜æ–¹ç½‘ç«™:
matplotlib.dates}

\hypertarget{ux7b80ux5355ux793aux4f8b-1}{%
\subsection{ç®€å•ç¤ºä¾‹}\label{ux7b80ux5355ux793aux4f8b-1}}

ä¾‹å¦‚ï¼šè¦åœ¨å›¾ä¸Šç»˜åˆ¶ä¸‡ç§‘Açš„æ€»èµ„äº§å’Œæ€»è´Ÿå€ºçš„å˜åŒ–ã€‚

æ˜¾ç„¶ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ä¸ªæ—¶é—´åºåˆ—æ•°æ®ï¼šç”¨\texttt{set\_index()}æŠŠæ—¥æœŸå˜æˆindex

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OperatorTok{=}\NormalTok{ df.query(}\StringTok{\textquotesingle{}è¯åˆ¸ç®€ç§° == "ä¸‡ç§‘A"\textquotesingle{}}\NormalTok{).set\_index(}\StringTok{\textquotesingle{}ç»Ÿè®¡æˆªæ­¢æ—¥æœŸ\textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}æ€»èµ„äº§\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}æ€»è´Ÿå€º\textquotesingle{}}\NormalTok{]]}
\NormalTok{data.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& æ€»èµ„äº§ & æ€»è´Ÿå€º \\
ç»Ÿè®¡æˆªæ­¢æ—¥æœŸ & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2016-12-31 & 8.306742e+11 & 6.689976e+11 \\
2017-12-31 & 1.165347e+12 & 9.786730e+11 \\
2018-12-31 & 1.528579e+12 & 1.292959e+12 \\
2019-12-31 & 1.729929e+12 & 1.459350e+12 \\
2020-12-31 & 1.869177e+12 & 1.519333e+12 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è½¬ä¸ºäº¿å…ƒ}
\NormalTok{data }\OperatorTok{=} \BuiltInTok{round}\NormalTok{(data}\OperatorTok{/}\DecValTok{100000000}\NormalTok{,}\DecValTok{2}\NormalTok{)}
\NormalTok{data}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& æ€»èµ„äº§ & æ€»è´Ÿå€º \\
ç»Ÿè®¡æˆªæ­¢æ—¥æœŸ & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2016-12-31 & 8306.74 & 6689.98 \\
2017-12-31 & 11653.47 & 9786.73 \\
2018-12-31 & 15285.79 & 12929.59 \\
2019-12-31 & 17299.29 & 14593.50 \\
2020-12-31 & 18691.77 & 15193.33 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data.plot(style}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}s{-}\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}o{-}.\textquotesingle{}}\NormalTok{])}\OperatorTok{;} 

\NormalTok{plt.xlim((}\StringTok{\textquotesingle{}2015\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2021\textquotesingle{}}\NormalTok{))}
\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}å¹´åº¦\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}æ€»é¢ï¼ˆäº¿å…ƒï¼‰\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}ä¸‡ç§‘Aï¼šæ€»èµ„äº§å’Œæ€»è´Ÿå€ºèµ°åŠ¿\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.legend(frameon}\OperatorTok{=}\VariableTok{False}\NormalTok{)}\OperatorTok{;} \CommentTok{\# å»æ‰å›¾ä¾‹çš„æ–¹æ¡†}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-20-output-1.pdf}

}

\end{figure}

\hypertarget{ux683cux5f0fux5316ux65e5ux671fux4e0eux8bbeux5b9aux523bux5ea6}{%
\subsection{æ ¼å¼åŒ–æ—¥æœŸä¸è®¾å®šåˆ»åº¦}\label{ux683cux5f0fux5316ux65e5ux671fux4e0eux8bbeux5b9aux523bux5ea6}}

å…ˆåˆ›é€ ä¸€ä¸ªç¤ºä¾‹æ•°æ®ï¼šä¸¤ä¸ªéšæœºæ¸¸èµ°å˜é‡xå’Œyï¼Œæ—¶é—´è·¨åº¦æ˜¯'2020-01-01'åˆ°'2021-06-30'ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.seed(}\DecValTok{2}\NormalTok{)}

\NormalTok{date }\OperatorTok{=}\NormalTok{ pd.date\_range(}\StringTok{\textquotesingle{}2020{-}01{-}01\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2021{-}06{-}30\textquotesingle{}}\NormalTok{)}

\NormalTok{x }\OperatorTok{=}\NormalTok{ (np.random.uniform(}\OperatorTok{{-}}\DecValTok{1}\NormalTok{,}\FloatTok{1.1}\NormalTok{,}\BuiltInTok{len}\NormalTok{(date))).cumsum()}
\NormalTok{y }\OperatorTok{=}\NormalTok{ (np.random.uniform(}\OperatorTok{{-}}\DecValTok{1}\NormalTok{,}\FloatTok{1.1}\NormalTok{,}\BuiltInTok{len}\NormalTok{(date))).cumsum()}

\NormalTok{tmp\_df }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{:x,}\StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{:y\}, index}\OperatorTok{=}\NormalTok{ date)}
\NormalTok{ax }\OperatorTok{=}\NormalTok{ tmp\_df.plot()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-21-output-1.pdf}

}

\end{figure}

\begin{quote}
\textbf{æ ¼å¼åŒ–æ—¥æœŸ}
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä½¿ç”¨\texttt{DateFormatter()}å‡½æ•°ï¼Œå‚æ•°ä¸ºä¸€ç§æ—¥æœŸçš„æ ¼å¼åŒ–è¿”å›æ ¼å¼åŒ–å™¨formatterã€‚å¦‚æœ¬ä¾‹ä¸­ä½¿ç”¨ISOæ—¥æœŸæ ¼å¼\texttt{\%Y-\%m-\%d}ã€‚
\item
  ä½¿ç”¨\texttt{ax.xaxis.set\_major\_formatter()}ï¼Œå¯¹æŸä¸ªåæ ‡ç³»çš„xè½´è¿›è¡Œè®¾å®šæ ¼å¼ã€‚å‚æ•°æ˜¯ä¸€ä¸ªformatterã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ matplotlib.dates }\ImportTok{import}\NormalTok{ DateFormatter}

\CommentTok{\# ç»˜å›¾ï¼Œå¹¶è·å¾—è¿™å¼ å›¾çš„åæ ‡ç³»ax}
\NormalTok{ax }\OperatorTok{=}\NormalTok{ tmp\_df.plot()}\OperatorTok{;}

\CommentTok{\# æ„é€ ä¸€ä¸ªæ—¥æœŸæ ¼å¼åŒ–å·¥å…·ï¼Œ}
\NormalTok{iso\_formatter }\OperatorTok{=}\NormalTok{ DateFormatter(}\StringTok{"\%Y{-}\%m{-}}\SpecialCharTok{\%d}\StringTok{"}\NormalTok{)}

\CommentTok{\# è®¾å®šè®¾å®šåæ ‡ç³»axçš„xè½´çš„æ—¥æœŸæ ¼å¼}
\NormalTok{ax.xaxis.set\_major\_formatter(iso\_formatter)}

\NormalTok{fig }\OperatorTok{=}\NormalTok{ plt.gcf() }\CommentTok{\# è·å¾—å›¾å½¢å¯¹è±¡ï¼ˆç”»å¸ƒï¼‰}

\NormalTok{fig.autofmt\_xdate() }\CommentTok{\# è‡ªåŠ¨è®¾å®šxè½´çš„æ ·å¼ï¼ŒåŒ…æ‹¬è‡ªåŠ¨æ—‹è½¬ã€å¹³ç§»ç­‰ç­‰}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-22-output-1.pdf}

}

\end{figure}

å¤šå­å›¾çš„æƒ…å†µä¹Ÿæ˜¯ç±»ä¼¼ï¼ˆè¯¦è§ä¸‹ä¸€èŠ‚ï¼‰ã€‚\texttt{plt.subplots()}è¿”å›\texttt{fig,\ axes}ï¼Œé’ˆå¯¹axesä¸­çš„æŸä¸ªaxè¿›è¡Œä¿®æ”¹å³å¯ã€‚

\begin{quote}
\textbf{è®¾å®šåˆ»åº¦ï¼ˆticksï¼‰}
\end{quote}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä¸€ä¸ªåæ ‡ç³»\texttt{ax}éƒ½æœ‰2ä¸ªè½´ï¼šxè½´ï¼ˆ\texttt{ax.xaxis}ï¼‰å’Œyè½´ï¼ˆ\texttt{ax.yaxis}ï¼‰
\item
  æ¯ä¸ªè½´éƒ½æœ‰2ç§åˆ»åº¦ï¼šä¸»åˆ»åº¦\texttt{major\_ticks}å’Œè¾…åˆ»åº¦\texttt{minor\_ticks}ï¼ˆåŒæ—¶ä¹Ÿæ˜¯ç½‘æ ¼çš„åæ ‡ï¼‰
\item
  åˆ»åº¦å¯ä»¥ç”±\texttt{Locator}ä¿®æ”¹ï¼šæ—¶é—´åºåˆ—å¸¸ç”¨çš„åˆ»åº¦æœ‰\texttt{YearLocator}ï¼ˆå¹´åˆ»åº¦ï¼‰ï¼Œ\texttt{MonthLocator}ï¼ˆæœˆåˆ»åº¦ï¼‰ï¼Œ\texttt{DayLocator}ï¼ˆæ—¥åˆ»åº¦ï¼‰ç­‰ç­‰ï¼Œè¯¦è§
  \href{https://matplotlib.org/stable/api/dates_api.html}{å®˜ç½‘}
\end{enumerate}

æœ¬æ¡ˆä»¥æœˆåˆ»åº¦ä¸ºä¾‹ï¼Œç”¨ \texttt{MonthLocator()}åˆ›å»ºä¸€ä¸ªæœˆåº¦çš„åˆ»åº¦ï¼š

å¸¸ç”¨å‚æ•°ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{bymonth=}ï¼šï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰æŒ‡å®šæœˆä»½çš„tupleã€‚å¦‚åªåœ¨1æœˆå’Œ7æœˆæ˜¾ç¤ºåˆ»åº¦
  \texttt{MonthLocator((1,7))}
\item
  \texttt{interval=}ï¼šé—´éš”ã€‚å¦‚éš”ä¸€ä¸ªæœˆç”»ä¸€ä¸ªåˆ»åº¦
  \texttt{MonthLocator(interval=2)}
\item
  \texttt{bymonthday=}ï¼šåˆ»åº¦ç”»åœ¨æœˆä»½çš„ç¬¬å‡ å¤©ã€‚ï¼ˆé»˜è®¤ï¼‰1è¡¨ç¤ºç¬¬ä¸€å¤©ï¼Œ-1è¡¨ç¤ºæœ€åä¸€å¤©ï¼Œå¦‚æ­¤ç±»æ¨ã€‚
\end{enumerate}

é‚£ä¹ˆå›åˆ°æœ¬æ¡ˆï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ—¥æœŸæ˜¯ISOæ ¼å¼ï¼š\texttt{DateFormatter("\%Y-\%m-\%d")}
\item
  æ¯2ä¸ªæœˆç”»ä¸€ä¸ªåˆ»åº¦ï¼Œå¹¶åœ¨ç”»åœ¨æ¯æœˆ1æ—¥ï¼š\texttt{MonthLocator(interval=2)}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ matplotlib.dates }\ImportTok{import}\NormalTok{ DateFormatter}
\ImportTok{from}\NormalTok{ matplotlib.dates }\ImportTok{import}\NormalTok{ MonthLocator, YearLocator}
\CommentTok{\# ç»˜å›¾ï¼Œå¹¶è·å¾—è¿™å¼ å›¾çš„åæ ‡ç³»ax}
\NormalTok{ax }\OperatorTok{=}\NormalTok{ tmp\_df.plot()}\OperatorTok{;}

\NormalTok{ax.set\_xlim((}\StringTok{\textquotesingle{}2019{-}12{-}20\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2021{-}07{-}10\textquotesingle{}}\NormalTok{)) }\CommentTok{\# æ‹“å®½ä¸€ç‚¹}

\CommentTok{\# æ„é€ ä¸€ä¸ªæ—¥æœŸæ ¼å¼åŒ–å·¥å…·ï¼Œ}
\NormalTok{iso\_formatter }\OperatorTok{=}\NormalTok{ DateFormatter(}\StringTok{"\%Y{-}\%m{-}}\SpecialCharTok{\%d}\StringTok{"}\NormalTok{)}

\CommentTok{\# è®¾å®šè®¾å®šåæ ‡ç³»axçš„xè½´çš„æ—¥æœŸæ ¼å¼}
\NormalTok{ax.xaxis.set\_major\_formatter(iso\_formatter)}

\NormalTok{mloc }\OperatorTok{=}\NormalTok{ MonthLocator(interval}\OperatorTok{=}\DecValTok{2}\NormalTok{) }\CommentTok{\# æ¯2ä¸ªæœˆç”»ä¸€ä¸ªåˆ»åº¦}

\NormalTok{ax.xaxis.set\_major\_locator(mloc)}

\NormalTok{fig }\OperatorTok{=}\NormalTok{ plt.gcf() }\CommentTok{\# è·å¾—å›¾å½¢å¯¹è±¡ï¼ˆç”»å¸ƒï¼‰}

\NormalTok{fig.autofmt\_xdate() }\CommentTok{\# è‡ªåŠ¨è®¾å®šxè½´çš„æ ·å¼ï¼ŒåŒ…æ‹¬è‡ªåŠ¨æ—‹è½¬ã€å¹³ç§»ç­‰ç­‰}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-23-output-1.pdf}

}

\end{figure}

\hypertarget{ux591aux56feux7ec4ux5408ux5f85ux7eed}{%
\section{å¤šå›¾ç»„åˆï¼ˆå¾…ç»­ï¼‰}\label{ux591aux56feux7ec4ux5408ux5f85ux7eed}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& è¯åˆ¸ä»£ç  & è¯åˆ¸ç®€ç§° & ç»Ÿè®¡æˆªæ­¢æ—¥æœŸ & æ€»èµ„äº§ & æ€»è´Ÿå€º & å‡€èµ„äº§ & å‡€åˆ©æ¶¦
& è¥ä¸šæ€»æ”¶å…¥ & èµ„äº§è´Ÿå€ºç‡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000001 & å¹³å®‰é“¶è¡Œ & 2016-12-31 & 2.953434e+12 & 2.751263e+12 &
2.021710e+11 & 2.259900e+10 & 1.044160e+11 & 0.9315 \\
1 & 000001 & å¹³å®‰é“¶è¡Œ & 2017-12-31 & 3.248474e+12 & 3.026420e+12 &
2.220540e+11 & 2.318900e+10 & 1.048690e+11 & 0.9316 \\
2 & 000001 & å¹³å®‰é“¶è¡Œ & 2018-12-31 & 3.418592e+12 & 3.178550e+12 &
2.400420e+11 & 2.481800e+10 & 1.062120e+11 & 0.9298 \\
3 & 000001 & å¹³å®‰é“¶è¡Œ & 2019-12-31 & 3.939070e+12 & 3.626087e+12 &
3.129830e+11 & 2.819500e+10 & 1.268140e+11 & 0.9205 \\
4 & 000001 & å¹³å®‰é“¶è¡Œ & 2020-12-31 & 4.468514e+12 & 4.104383e+12 &
3.641310e+11 & 2.892800e+10 & 1.432420e+11 & 0.9185 \\
\end{longtable}

\hypertarget{ux7b80ux5355ux793aux4f8b-2}{%
\subsection{ç®€å•ç¤ºä¾‹}\label{ux7b80ux5355ux793aux4f8b-2}}

ç»˜å›¾çš„ç›®æ ‡ï¼šä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦ç»˜åˆ¶å¹³å®‰é“¶è¡Œçš„èµ„äº§ã€è´Ÿå€ºå’Œèµ„äº§è´Ÿå€ºç‡ã€‚

è¦è€ƒè™‘çš„é—®é¢˜ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  èµ„äº§å’Œè´Ÿå€ºåŸºæœ¬åœ¨ä¸€ä¸ªæ•°é‡çº§ï¼Œå¯ä»¥ç»˜åœ¨åŒä¸€å¼ å›¾ã€‚
\item
  èµ„äº§è´Ÿå€ºç‡æ˜¯ä¸€ä¸ªå¾ˆå°çš„æ•´æ•°ï¼Œæ²¡æ³•å’Œå‰ä¸¤è€…ç»˜åˆ¶åœ¨ä¸€èµ·ï¼ˆä½ å¯ä»¥å°è¯•ä¸€ä¸‹ï¼‰ã€‚
\item
  ä¸‰è€…çš„æ—¶é—´è·¨åº¦å®Œå…¨ç›¸åŒï¼Œå› æ­¤æ¨ªè½´ï¼ˆæ—¶é—´ï¼‰å®Œå…¨ä¸€æ ·ã€‚
\end{enumerate}

è¿™ä¹Ÿæ˜¯æ—¶é—´åºåˆ—åˆ†æå¸¸è§çš„æƒ…å†µï¼šæŠŠåŒä¸€æ—¶æ®µçš„ä¸åŒæ•°æ®æ”¾åœ¨ä¸€èµ·å¯¹æ¯”ã€‚

å› æ­¤å¯ä»¥è€ƒè™‘ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å› ä¸ºæ¨ªè½´ç›¸åŒï¼Œå› æ­¤ç»˜åˆ¶ä¸Šä¸‹ä¸¤å¼ å›¾ã€‚
\item
  ä¸Šå›¾æ˜¯èµ„äº§å’Œè´Ÿå€ºï¼Œå°ºåº¦ç›¸åŒå¯ä»¥ç»˜åˆ¶åœ¨ä¸€èµ·ã€‚
\item
  ä¸‹å›¾æ˜¯èµ„äº§è´Ÿå€ºç‡ã€‚
\item
  å› ä¸ºå…±ç”¨æ¨ªè½´ï¼Œé‚£ä¹ˆä¸Šå›¾çš„æ¨ªè½´æ—¶é—´å°±å¯ä»¥å»é™¤ã€‚
\end{enumerate}

ä½¿ç”¨å‡½æ•°\texttt{plt.subplots(2,\ 1)}ï¼Œä¼šåˆ›å»ºä¸€ç‰‡ç”»å¸ƒï¼Œä»¥åŠä¸Šä¸‹2ä¸ªç©ºç™½çš„åæ ‡ç³»ï¼ˆå­å›¾çš„ç»˜åˆ¶åŒºåŸŸï¼‰

ä¼šè¿”å›ä¸€ä¸ª2ä¸ªå…ƒç´ çš„å…ƒç»„\texttt{(fig,\ axes)}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{fig}ï¼šä¸€ä¸ªFigureï¼ˆå›¾ç‰‡ï¼‰å¯¹è±¡ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€æ•´å—``ç”»å¸ƒ''ã€‚
\item
  \texttt{axes}ï¼šä¸€ä¸ªaxesï¼ˆåæ ‡ç³»ï¼‰çš„Listã€‚æ¯ä¸ªå­å›¾çš„åŒºåŸŸï¼Œéƒ½å¯ä»¥è®¤ä¸ºæ˜¯æœ‰å…¶è‡ªå·±çš„åæ ‡ç³»ã€‚
\end{enumerate}

æˆ‘ä»¬ç»˜åˆ¶å­å›¾ï¼Œå®é™…ä¸Šæ˜¯æŠŠä¸€ä¸ªå•ç‹¬çš„å›¾å½¢ç»˜åˆ¶ç”»å¸ƒçš„æŸä¸ªåŒºåŸŸçš„åæ ‡ç³»ä¸Šã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è®¾ç½®ç»˜å›¾åŒºåŸŸï¼ˆç”»å¸ƒï¼‰}
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{, }\DecValTok{1}\NormalTok{) }\CommentTok{\# 1ç‰‡ç”»å¸ƒï¼ˆç™½è‰²åº•éƒ¨ï¼‰ï¼Œ2ä¸ªåæ ‡è½´ï¼ˆå­å›¾ï¼‰}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-25-output-1.pdf}

}

\end{figure}

æ˜¾è€Œæ˜“è§ï¼Œ\texttt{axes}å°±æ˜¯ä¸€ä¸ª2ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œåˆ†åˆ«è¡¨ç¤º2ä¸ªåæ ‡ç³»ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{axes}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([<AxesSubplot:>, <AxesSubplot:>], dtype=object)
\end{verbatim}

åœ¨ç»˜å›¾çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨\texttt{df.plot.xxx(ax=)}çš„å‚æ•°\texttt{ax}ï¼ŒæŒ‡å®šæˆ‘ä»¬è¦æŠŠè¿™ä¸ªå›¾å½¢ç»˜åˆ¶åœ¨å“ªä¸ªåæ ‡ç³»ä¸Šã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ„é€ ç¤ºä¾‹æ•°æ®ï¼šé€‰æ‹©å¹³å®‰é“¶è¡Œ}
\NormalTok{data }\OperatorTok{=}\NormalTok{ df.query(}\StringTok{\textquotesingle{}è¯åˆ¸ç®€ç§° == "å¹³å®‰é“¶è¡Œ"\textquotesingle{}}\NormalTok{)}
\NormalTok{data.set\_index(}\StringTok{\textquotesingle{}ç»Ÿè®¡æˆªæ­¢æ—¥æœŸ\textquotesingle{}}\NormalTok{,inplace }\OperatorTok{=} \VariableTok{True}\NormalTok{)}

\CommentTok{\# è®¾ç½®å›¾å½¢å’Œ2ä¸ªåæ ‡ç³»}
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{, }\DecValTok{1}\NormalTok{) }\CommentTok{\# è¡Œï¼Œåˆ—}

\CommentTok{\# ç»˜åˆ¶æ€»èµ„äº§å’Œæ€»è´Ÿå€ºï¼Œå¹¶æŒ‡å®šç»˜åˆ¶åœ¨ç¬¬ä¸€ä¸ªåæ ‡ç³»ä¸Š}
\NormalTok{data[[}\StringTok{\textquotesingle{}æ€»èµ„äº§\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}æ€»è´Ÿå€º\textquotesingle{}}\NormalTok{]].plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{0}\NormalTok{])}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-27-output-1.pdf}

}

\end{figure}

åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠèµ„äº§è´Ÿå€ºç‡è®¾ç½®åœ¨ç¬¬äºŒä¸ªåæ ‡ç³»ä¸Šã€‚

å‡ ä¸ªå¸¸ç”¨è®¾å®šï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è®¾ç½®å­å›¾çš„è¡Œåˆ—æ ‡ç­¾ã€æ ‡é¢˜ï¼š
  \texttt{axes{[}?{]}.set(xlabel\ =\ ?,ylabel\ =\ ?,\ title\ =\ ?)}
\end{enumerate}

æœ¬ä¾‹å»æ‰äº†æ‰€æœ‰å­å›¾çš„è¡Œæ ‡ç­¾ï¼Œç¬¬ä¸€ä¸ªå­å›¾æœ‰æ ‡é¢˜ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  å…±ç”¨åæ ‡è½´ï¼š\texttt{plt.subplots(sharex\ =\ ?,\ sharey\ =\ ?)}
\end{enumerate}

å› ä¸ºæ—¶é—´åŒºé—´æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆ2ä¸ªå­å›¾çš„æ¨ªåæ ‡ä¹Ÿå®Œå…¨ç›¸åŒï¼Œé‚£ä¹ˆå¯ä»¥å…±ç”¨æ¨ªè½´ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  å­å›¾é—´è·ï¼š\texttt{plt.subplots\_adjust(wspace\ =\ ?,hspace\ =\ ?)}
\end{enumerate}

è¿™é‡Œç¨å¾®ç¼©å°ä¸€ä¸‹é—´è·ï¼Œè®©2ä¸ªå­å›¾é è¿‘ä¸€ç‚¹ã€‚

å­å›¾çš„\texttt{set()}å‡½æ•°å¯ä»¥è°ƒæ•´çš„ä¸œè¥¿å¾ˆå¤šï¼Œä¸èƒ½ä¸€ä¸€åˆ—ä¸¾ï¼Œå…·ä½“è§å®˜ç½‘é“¾æ¥
\href{https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set.html}{matplotlib.axes.Axes.set}ã€‚

åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠèµ„äº§è´Ÿå€ºç‡è®¾ç½®åœ¨ç¬¬äºŒä¸ªåæ ‡ç³»ä¸Šã€‚

å‡ ä¸ªå¸¸ç”¨è®¾å®šï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è®¾ç½®å­å›¾çš„è¡Œåˆ—æ ‡ç­¾ã€æ ‡é¢˜ï¼š
  \texttt{axes{[}?{]}.set(xlabel\ =\ ?,ylabel\ =\ ?,\ title\ =\ ?)}
\end{enumerate}

æœ¬ä¾‹å»æ‰äº†æ‰€æœ‰å­å›¾çš„è¡Œæ ‡ç­¾ï¼Œç¬¬ä¸€ä¸ªå­å›¾æœ‰æ ‡é¢˜ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  å…±ç”¨åæ ‡è½´ï¼š\texttt{plt.subplots(sharex\ =\ ?,\ sharey\ =\ ?)}
\end{enumerate}

å› ä¸ºæ—¶é—´åŒºé—´æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆ2ä¸ªå­å›¾çš„æ¨ªåæ ‡ä¹Ÿå®Œå…¨ç›¸åŒï¼Œé‚£ä¹ˆå¯ä»¥å…±ç”¨æ¨ªè½´ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  å­å›¾é—´è·ï¼š\texttt{plt.subplots\_adjust(wspace\ =\ ?,hspace\ =\ ?)}
\end{enumerate}

è¿™é‡Œç¨å¾®ç¼©å°ä¸€ä¸‹é—´è·ï¼Œè®©2ä¸ªå­å›¾é è¿‘ä¸€ç‚¹ã€‚

å­å›¾çš„\texttt{set()}å‡½æ•°å¯ä»¥è°ƒæ•´çš„ä¸œè¥¿å¾ˆå¤šï¼Œä¸èƒ½ä¸€ä¸€åˆ—ä¸¾ï¼Œå…·ä½“è§å®˜ç½‘é“¾æ¥
\href{https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set.html}{matplotlib.axes.Axes.set}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è®¾ç½®å›¾å½¢å’Œ2ä¸ªåæ ‡ç³»}
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{, }\DecValTok{1}\NormalTok{, sharex }\OperatorTok{=} \VariableTok{True}\NormalTok{) }

\CommentTok{\# ç»˜åˆ¶æ€»èµ„äº§å’Œæ€»è´Ÿå€ºï¼Œå¹¶æŒ‡å®šç»˜åˆ¶åœ¨ç¬¬1ä¸ªåæ ‡ç³»ä¸Š}
\NormalTok{data[[}\StringTok{\textquotesingle{}æ€»èµ„äº§\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}æ€»è´Ÿå€º\textquotesingle{}}\NormalTok{]].plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{0}\NormalTok{])}\OperatorTok{;}
\NormalTok{axes[}\DecValTok{0}\NormalTok{].}\BuiltInTok{set}\NormalTok{(xlabel}\OperatorTok{=}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{,title }\OperatorTok{=} \StringTok{\textquotesingle{}å¹³å®‰é“¶è¡Œï¼šæ€»èµ„äº§/æ€»è´Ÿå€º vs èµ„äº§è´Ÿå€ºç‡\textquotesingle{}}\NormalTok{)}

\CommentTok{\# èµ„äº§è´Ÿå€ºç‡ï¼Œç»˜åˆ¶åœ¨ç¬¬2ä¸ªåæ ‡ç³»ä¸Š}
\NormalTok{data[[}\StringTok{\textquotesingle{}èµ„äº§è´Ÿå€ºç‡\textquotesingle{}}\NormalTok{]].plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{1}\NormalTok{]) }\CommentTok{\# ç»˜åˆ¶ç¬¬2æ ¼}
\NormalTok{axes[}\DecValTok{1}\NormalTok{].}\BuiltInTok{set}\NormalTok{(xlabel}\OperatorTok{=}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{)}

\CommentTok{\# å‹ç¼©ä¸€ä¸‹å­å›¾ä¹‹é—´çš„ç©ºç™½}
\NormalTok{plt.subplots\_adjust(wspace}\OperatorTok{=}\FloatTok{0.05}\NormalTok{,hspace}\OperatorTok{=}\FloatTok{0.05}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-28-output-1.pdf}

}

\end{figure}

æ¨ªå‘æ’åˆ—ç±»ä¼¼ï¼Œåªè¦1è¡Œå¤šåˆ—å³å¯ï¼Œå¦‚\texttt{fig,\ axes\ =\ plt.subplots(1,\ 2)}ã€‚æ­¤å¤„ç•¥è¿‡ã€‚

\hypertarget{ux591aux884cux591aux5217}{%
\subsection{å¤šè¡Œå¤šåˆ—}\label{ux591aux884cux591aux5217}}

å¤šè¡Œå¤šåˆ—ç¨æœ‰ä¸åŒï¼Œæ­¤æ—¶\texttt{axes}æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œç¬¬ä¸€ä¸ªä¸‹æ ‡æ˜¯è¡Œï¼Œç¬¬äºŒä¸ªä¸‹æ ‡æ˜¯åˆ—ã€‚

ä¾‹å¦‚\texttt{axes{[}0,0{]}}è¡¨ç¤ºç¬¬1è¡Œç¬¬1åˆ—çš„å­å›¾ï¼Œ\texttt{axes{[}0,1{]}}è¡¨ç¤ºç¬¬1è¡Œç¬¬2åˆ—çš„å­å›¾ï¼Œå¦‚æ­¤ç±»æ¨ã€‚

å…¶ä»–ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{fig.suptitle()}å¤šå­å›¾çš„æ€»æ ‡é¢˜ï¼šè¿™ä¸ªæ€»æ ‡é¢˜æ˜¯ç»˜åˆ¶åœ¨å­å›¾ä¹‹å¤–ï¼Œç”»å¸ƒçš„é¡¶ç«¯ï¼Œå› æ­¤æ˜¯\texttt{fig}ï¼ˆç”»å¸ƒï¼‰çš„å…ƒç´ ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{, }\DecValTok{2}\NormalTok{,figsize }\OperatorTok{=}\NormalTok{ (}\DecValTok{10}\NormalTok{,}\DecValTok{6}\NormalTok{)) }

\NormalTok{fig.suptitle(}\StringTok{\textquotesingle{}å¹³å®‰é“¶è¡Œçš„å‡ é¡¹æŒ‡æ ‡\textquotesingle{}}\NormalTok{)}

\NormalTok{data[[}\StringTok{\textquotesingle{}æ€»èµ„äº§\textquotesingle{}}\NormalTok{]].plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{])}\OperatorTok{;}

\NormalTok{data[[}\StringTok{\textquotesingle{}æ€»è´Ÿå€º\textquotesingle{}}\NormalTok{]].plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{])}

\NormalTok{data[[}\StringTok{\textquotesingle{}èµ„äº§è´Ÿå€ºç‡\textquotesingle{}}\NormalTok{]].plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{])}

\NormalTok{data[[}\StringTok{\textquotesingle{}å‡€åˆ©æ¶¦\textquotesingle{}}\NormalTok{]].plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{])}

\NormalTok{plt.subplots\_adjust(wspace}\OperatorTok{=}\FloatTok{0.2}\NormalTok{,hspace}\OperatorTok{=}\FloatTok{0.3}\NormalTok{) }\CommentTok{\# æ‹“å®½ä¸€ç‚¹è¡Œåˆ—ç©ºç™½}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/12-plot_files/figure-pdf/cell-29-output-1.pdf}

}

\end{figure}

\hypertarget{seabornux7684ux7ed3ux6784ux5316ux5b50ux56fetodo}{%
\subsection{Seabornçš„ç»“æ„åŒ–å­å›¾ï¼ˆTODOï¼‰}\label{seabornux7684ux7ed3ux6784ux5316ux5b50ux56fetodo}}

\hypertarget{ux4e3bux9898ux8272ux5f69ux4e0eux98ceux683ctodo}{%
\section{ä¸»é¢˜ã€è‰²å½©ä¸é£æ ¼ï¼ˆTODOï¼‰}\label{ux4e3bux9898ux8272ux5f69ux4e0eux98ceux683ctodo}}

\hypertarget{ux9009ux62e9ux4e3bux9898}{%
\subsection{é€‰æ‹©ä¸»é¢˜}\label{ux9009ux62e9ux4e3bux9898}}

\hypertarget{ux9009ux62e9ux8c03ux8272ux677f}{%
\subsection{é€‰æ‹©è°ƒè‰²æ¿}\label{ux9009ux62e9ux8c03ux8272ux677f}}

\hypertarget{ux7ec6ux8282ux4e0eux5faeux8c03ux5faeux8c03}{%
\subsection{ç»†èŠ‚ä¸å¾®è°ƒå¾®è°ƒ}\label{ux7ec6ux8282ux4e0eux5faeux8c03ux5faeux8c03}}

\part{ç¬¬3éƒ¨åˆ† å·¥å…·}

\hypertarget{ux673aux5668ux5b66ux4e60ux5206ux7c7bux7b97ux6cd5}{%
\chapter{æœºå™¨å­¦ä¹ åˆ†ç±»ç®—æ³•}\label{ux673aux5668ux5b66ux4e60ux5206ux7c7bux7b97ux6cd5}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä»¥ä¸‹éƒ½æ˜¯ä¾‹è¡Œå…¬äº‹ï¼Œç›´æ¥æ‹·è´å³å¯}

\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np }

\CommentTok{\# å¯¼å…¥matplotlib.pyplotç»˜å›¾åº“ï¼Œå…¶ä¸­plt.plot()æ˜¯æœ€å¸¸ç”¨çš„ç»˜å›¾å‡½æ•°ä¹‹ä¸€}
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt }

\ImportTok{import}\NormalTok{ seaborn }\ImportTok{as}\NormalTok{ sns}

\NormalTok{sns.}\BuiltInTok{set}\NormalTok{() }\CommentTok{\# é»˜è®¤ç”¨seabornçš„ç»˜å›¾æ ·å¼}

\NormalTok{plt.rcParams[}\StringTok{"font.sans{-}serif"}\NormalTok{]}\OperatorTok{=}\NormalTok{[}\StringTok{"SimHei"}\NormalTok{] }\CommentTok{\#è®¾ç½®å­—ä½“ã€‚å¦‚æœä¸è®¾ç½®ï¼Œä¸­æ–‡ä¼šä¹±ç ã€‚è¿™é‡Œé‡‡ç”¨é»‘ä½“SimHeiï¼Œä¹Ÿå¯ä»¥è€ƒè™‘å…¶ä»–å­—ä½“ï¼Œå¦‚å®‹ä½“SimSunç­‰}
\NormalTok{plt.rcParams[}\StringTok{"axes.unicode\_minus"}\NormalTok{]}\OperatorTok{=}\VariableTok{False} \CommentTok{\#è¯¥è¯­å¥è§£å†³å›¾åƒä¸­çš„â€œ{-}â€è´Ÿå·çš„ä¹±ç é—®é¢˜}

\CommentTok{\# ç»˜å›¾ä½¿ç”¨\textquotesingle{}svg\textquotesingle{}åç«¯ï¼šsvgæ˜¯çŸ¢é‡æ ¼å¼ï¼Œå¯ä»¥ä»»æ„ç¼©æ”¾å‡ä¿æŒæ¸…æ™°ï¼Œå„ç§å±å¹•çš„æ˜¾ç¤ºè‰¯å¥½ã€‚}
\OperatorTok{\%}\NormalTok{config InlineBackend.figure\_formats }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}svg\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\hypertarget{ux65e0ux76d1ux7763ux5b66ux4e60}{%
\section{æ— ç›‘ç£å­¦ä¹ }\label{ux65e0ux76d1ux7763ux5b66ux4e60}}

\hypertarget{k-means}{%
\subsection{k-means}\label{k-means}}

\hypertarget{section}{%
\section{}\label{section}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.random.seed(}\DecValTok{1000}\NormalTok{) }
\NormalTok{np.set\_printoptions(suppress}\OperatorTok{=}\VariableTok{True}\NormalTok{, precision}\OperatorTok{=}\DecValTok{4}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.datasets }\ImportTok{import}\NormalTok{ make\_blobs}
\NormalTok{X, y }\OperatorTok{=}\NormalTok{ make\_blobs(n\_samples}\OperatorTok{=}\DecValTok{250}\NormalTok{, centers}\OperatorTok{=}\DecValTok{4}\NormalTok{,}
\NormalTok{                  random\_state}\OperatorTok{=}\DecValTok{500}\NormalTok{, cluster\_std}\OperatorTok{=}\FloatTok{1.25}\NormalTok{)}

\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{, }\DecValTok{5}\NormalTok{)) }
\NormalTok{plt.scatter(X[:, }\DecValTok{0}\NormalTok{], X[:, }\DecValTok{1}\NormalTok{], s}\OperatorTok{=}\DecValTok{20}\NormalTok{)}\OperatorTok{;} 
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/20-ml_files/figure-pdf/cell-4-output-1.pdf}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.cluster }\ImportTok{import}\NormalTok{ KMeans}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model }\OperatorTok{=}\NormalTok{ KMeans(n\_clusters}\OperatorTok{=}\DecValTok{4}\NormalTok{, random\_state}\OperatorTok{=}\DecValTok{0}\NormalTok{)}
\NormalTok{model.fit(X) }
\NormalTok{y\_kmeans }\OperatorTok{=}\NormalTok{ model.predict(X)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{, }\DecValTok{5}\NormalTok{)) }
\NormalTok{plt.scatter(X[:, }\DecValTok{0}\NormalTok{], X[:, }\DecValTok{1}\NormalTok{], c}\OperatorTok{=}\NormalTok{y\_kmeans, cmap}\OperatorTok{=}\StringTok{\textquotesingle{}coolwarm\textquotesingle{}}\NormalTok{)}\OperatorTok{;} 
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/20-ml_files/figure-pdf/cell-7-output-1.pdf}

}

\end{figure}

\hypertarget{ux6709ux76d1ux7763ux5b66ux4e60}{%
\section{æœ‰ç›‘ç£å­¦ä¹ }\label{ux6709ux76d1ux7763ux5b66ux4e60}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.datasets }\ImportTok{import}\NormalTok{ make\_classification }

\NormalTok{n\_samples }\OperatorTok{=} \DecValTok{100} 
\NormalTok{X, y }\OperatorTok{=}\NormalTok{ make\_classification(n\_samples}\OperatorTok{=}\NormalTok{n\_samples, n\_features}\OperatorTok{=}\DecValTok{2}\NormalTok{, }
\NormalTok{                                    n\_informative}\OperatorTok{=}\DecValTok{2}\NormalTok{, n\_redundant}\OperatorTok{=}\DecValTok{0}\NormalTok{, }
\NormalTok{                                    n\_repeated}\OperatorTok{=}\DecValTok{0}\NormalTok{, random\_state}\OperatorTok{=}\DecValTok{250}\NormalTok{)}


\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{, }\DecValTok{5}\NormalTok{)) }
\NormalTok{plt.scatter(x}\OperatorTok{=}\NormalTok{X[:, }\DecValTok{0}\NormalTok{], y}\OperatorTok{=}\NormalTok{X[:, }\DecValTok{1}\NormalTok{], c}\OperatorTok{=}\NormalTok{y, cmap}\OperatorTok{=}\StringTok{\textquotesingle{}coolwarm\textquotesingle{}}\NormalTok{)}\OperatorTok{;} 
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/20-ml_files/figure-pdf/cell-8-output-1.pdf}

}

\end{figure}

\hypertarget{ux9ad8ux65afux6734ux7d20ux8d1dux53f6ux65af}{%
\subsection{é«˜æ–¯æœ´ç´ è´å¶æ–¯}\label{ux9ad8ux65afux6734ux7d20ux8d1dux53f6ux65af}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.naive\_bayes }\ImportTok{import}\NormalTok{ GaussianNB }
\ImportTok{from}\NormalTok{ sklearn.metrics }\ImportTok{import}\NormalTok{ accuracy\_score }
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model }\OperatorTok{=}\NormalTok{ GaussianNB()}
\NormalTok{model.fit(X, y) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
GaussianNB()
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model.predict\_proba(X).}\BuiltInTok{round}\NormalTok{(}\DecValTok{4}\NormalTok{)[:}\DecValTok{5}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([[0.0041, 0.9959],
       [0.8534, 0.1466],
       [0.9947, 0.0053],
       [0.0182, 0.9818],
       [0.5156, 0.4844]])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pred }\OperatorTok{=}\NormalTok{ model.predict(X) }
\BuiltInTok{print}\NormalTok{(pred[:}\DecValTok{5}\NormalTok{])}
\NormalTok{accuracy\_score(y, pred)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[1 0 0 1 0]
\end{verbatim}

\begin{verbatim}
0.87
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Xc }\OperatorTok{=}\NormalTok{ X[y }\OperatorTok{==}\NormalTok{ pred]}
\NormalTok{Xf }\OperatorTok{=}\NormalTok{ X[y }\OperatorTok{!=}\NormalTok{ pred]}

\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{, }\DecValTok{5}\NormalTok{))}

\NormalTok{plt.scatter(x}\OperatorTok{=}\NormalTok{Xc[:, }\DecValTok{0}\NormalTok{], y}\OperatorTok{=}\NormalTok{Xc[:, }\DecValTok{1}\NormalTok{], c}\OperatorTok{=}\NormalTok{y[y }\OperatorTok{==}\NormalTok{ pred],}
\NormalTok{            marker}\OperatorTok{=}\StringTok{\textquotesingle{}o\textquotesingle{}}\NormalTok{, cmap}\OperatorTok{=}\StringTok{\textquotesingle{}coolwarm\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.scatter(x}\OperatorTok{=}\NormalTok{Xf[:, }\DecValTok{0}\NormalTok{], y}\OperatorTok{=}\NormalTok{Xf[:, }\DecValTok{1}\NormalTok{], c}\OperatorTok{=}\NormalTok{y[y }\OperatorTok{!=}\NormalTok{ pred],}
\NormalTok{            marker}\OperatorTok{=}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{, cmap}\OperatorTok{=}\StringTok{\textquotesingle{}coolwarm\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/20-ml_files/figure-pdf/cell-13-output-1.pdf}

}

\end{figure}

\hypertarget{ux903bux8f91ux56deux5f52}{%
\subsection{é€»è¾‘å›å½’}\label{ux903bux8f91ux56deux5f52}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.linear\_model }\ImportTok{import}\NormalTok{ LogisticRegression}
\NormalTok{model }\OperatorTok{=}\NormalTok{ LogisticRegression(C}\OperatorTok{=}\DecValTok{1}\NormalTok{, solver}\OperatorTok{=}\StringTok{\textquotesingle{}lbfgs\textquotesingle{}}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model.fit(X,y)}
\NormalTok{pred }\OperatorTok{=}\NormalTok{ model.predict(X) }
\NormalTok{accuracy\_score(y, pred) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.9
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Xc }\OperatorTok{=}\NormalTok{ X[y }\OperatorTok{==}\NormalTok{ pred]}
\NormalTok{Xf }\OperatorTok{=}\NormalTok{ X[y }\OperatorTok{!=}\NormalTok{ pred]}

\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{, }\DecValTok{5}\NormalTok{))}

\NormalTok{plt.scatter(x}\OperatorTok{=}\NormalTok{Xc[:, }\DecValTok{0}\NormalTok{], y}\OperatorTok{=}\NormalTok{Xc[:, }\DecValTok{1}\NormalTok{], c}\OperatorTok{=}\NormalTok{y[y }\OperatorTok{==}\NormalTok{ pred],}
\NormalTok{            marker}\OperatorTok{=}\StringTok{\textquotesingle{}o\textquotesingle{}}\NormalTok{, cmap}\OperatorTok{=}\StringTok{\textquotesingle{}coolwarm\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.scatter(x}\OperatorTok{=}\NormalTok{Xf[:, }\DecValTok{0}\NormalTok{], y}\OperatorTok{=}\NormalTok{Xf[:, }\DecValTok{1}\NormalTok{], c}\OperatorTok{=}\NormalTok{y[y }\OperatorTok{!=}\NormalTok{ pred],}
\NormalTok{            marker}\OperatorTok{=}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{, cmap}\OperatorTok{=}\StringTok{\textquotesingle{}coolwarm\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/20-ml_files/figure-pdf/cell-16-output-1.pdf}

}

\end{figure}

\hypertarget{ux51b3ux7b56ux6811}{%
\subsection{å†³ç­–æ ‘}\label{ux51b3ux7b56ux6811}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.tree }\ImportTok{import}\NormalTok{ DecisionTreeClassifier}
\NormalTok{model }\OperatorTok{=}\NormalTok{ DecisionTreeClassifier(max\_depth}\OperatorTok{=}\DecValTok{4}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model.fit(X, y) }
\NormalTok{pred }\OperatorTok{=}\NormalTok{ model.predict(X) }
\NormalTok{accuracy\_score(y, pred) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.97
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Xc }\OperatorTok{=}\NormalTok{ X[y }\OperatorTok{==}\NormalTok{ pred]}
\NormalTok{Xf }\OperatorTok{=}\NormalTok{ X[y }\OperatorTok{!=}\NormalTok{ pred]}

\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{, }\DecValTok{5}\NormalTok{))}

\NormalTok{plt.scatter(x}\OperatorTok{=}\NormalTok{Xc[:, }\DecValTok{0}\NormalTok{], y}\OperatorTok{=}\NormalTok{Xc[:, }\DecValTok{1}\NormalTok{], c}\OperatorTok{=}\NormalTok{y[y }\OperatorTok{==}\NormalTok{ pred],}
\NormalTok{            marker}\OperatorTok{=}\StringTok{\textquotesingle{}o\textquotesingle{}}\NormalTok{, cmap}\OperatorTok{=}\StringTok{\textquotesingle{}coolwarm\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.scatter(x}\OperatorTok{=}\NormalTok{Xf[:, }\DecValTok{0}\NormalTok{], y}\OperatorTok{=}\NormalTok{Xf[:, }\DecValTok{1}\NormalTok{], c}\OperatorTok{=}\NormalTok{y[y }\OperatorTok{!=}\NormalTok{ pred],}
\NormalTok{            marker}\OperatorTok{=}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{, cmap}\OperatorTok{=}\StringTok{\textquotesingle{}coolwarm\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/20-ml_files/figure-pdf/cell-19-output-1.pdf}

}

\end{figure}

\hypertarget{ux6df1ux5ea6ux795eux7ecfux7f51ux7edc}{%
\subsection{æ·±åº¦ç¥ç»ç½‘ç»œ}\label{ux6df1ux5ea6ux795eux7ecfux7f51ux7edc}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.neural\_network }\ImportTok{import}\NormalTok{ MLPClassifier}
\NormalTok{model }\OperatorTok{=}\NormalTok{ MLPClassifier(solver}\OperatorTok{=}\StringTok{\textquotesingle{}lbfgs\textquotesingle{}}\NormalTok{, alpha}\OperatorTok{=}\FloatTok{1e{-}5}\NormalTok{,}
\NormalTok{                      hidden\_layer\_sizes}\OperatorTok{=}\DecValTok{2} \OperatorTok{*}\NormalTok{ [}\DecValTok{75}\NormalTok{], random\_state}\OperatorTok{=}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{\%}\NormalTok{time model.fit(X, y) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
CPU times: user 1.49 s, sys: 38.3 ms, total: 1.52 s
Wall time: 195 ms
\end{verbatim}

\begin{verbatim}
/home/lee/anaconda3/lib/python3.9/site-packages/sklearn/neural_network/_multilayer_perceptron.py:549: ConvergenceWarning: lbfgs failed to converge (status=1):
STOP: TOTAL NO. of ITERATIONS REACHED LIMIT.

Increase the number of iterations (max_iter) or scale the data as shown in:
    https://scikit-learn.org/stable/modules/preprocessing.html
  self.n_iter_ = _check_optimize_result("lbfgs", opt_res, self.max_iter)
\end{verbatim}

\begin{verbatim}
MLPClassifier(alpha=1e-05, hidden_layer_sizes=[75, 75], random_state=10,
              solver='lbfgs')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pred }\OperatorTok{=}\NormalTok{ model.predict(X) }
\NormalTok{accuracy\_score(y, pred) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
1.0
\end{verbatim}

\hypertarget{ux652fux6301ux5411ux91cfux673a}{%
\subsection{æ”¯æŒå‘é‡æœº}\label{ux652fux6301ux5411ux91cfux673a}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.svm }\ImportTok{import}\NormalTok{ SVC }
\ImportTok{from}\NormalTok{ sklearn.model\_selection }\ImportTok{import}\NormalTok{ train\_test\_split}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{train\_x, test\_x, train\_y, test\_y }\OperatorTok{=}\NormalTok{ train\_test\_split(X, y, test\_size}\OperatorTok{=}\FloatTok{0.33}\NormalTok{, random\_state}\OperatorTok{=}\DecValTok{0}\NormalTok{) }

\NormalTok{model }\OperatorTok{=}\NormalTok{ SVC(C}\OperatorTok{=}\DecValTok{1}\NormalTok{, kernel}\OperatorTok{=}\StringTok{\textquotesingle{}linear\textquotesingle{}}\NormalTok{) }
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model.fit(train\_x, train\_y)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
SVC(C=1, kernel='linear')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pred\_train }\OperatorTok{=}\NormalTok{ model.predict(train\_x) }
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{accuracy\_score(train\_y, pred\_train)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.9402985074626866
\end{verbatim}

\hypertarget{pythonux6570ux503cux65b9ux6cd5}{%
\chapter{Pythonæ•°å€¼æ–¹æ³•}\label{pythonux6570ux503cux65b9ux6cd5}}

\hypertarget{ux63d2ux503c}{%
\section{æ’å€¼}\label{ux63d2ux503c}}

ä¸–ç•Œä¸Šå¤§éƒ¨åˆ†çš„å˜é‡éƒ½æ˜¯è¿ç»­çš„ï¼Œä½†æ˜¯æˆ‘ä»¬çš„è§‚æµ‹è‚¯å®šæ˜¯ç¦»æ•£çš„ã€‚æ¯”å¦‚æ°”æ¸©ï¼Œæ°”è±¡ç«™å¯èƒ½æ•´ç‚¹ï¼ˆæ¯å°æ—¶ï¼‰å…¬å¸ƒä¸€æ¬¡æ°”æ¸©ï¼Œé‚£ä½ æ€ä¹ˆçŸ¥é“1ç‚¹åŠçš„æ°”æ¸©ï¼Ÿç›´è§‰ä¸Šï¼Œä½ å¯ä»¥ç”¨1ç‚¹å’Œ2ç‚¹çš„æ°”æ¸©çš„å¹³å‡å€¼ï¼Œä½œä¸º1ç‚¹åŠæ°”æ¸©çš„ä¼°è®¡ã€‚è¿™å°±æ˜¯æ‰€è°“``æ’å€¼''ï¼Œç›´æ¥æ±‚å¹³å‡ï¼ˆæˆ–è€…è¯´çº¿æ€§åŠ æƒï¼‰çš„æ–¹æ³•å±äºæ‰€è°“``çº¿æ€§æ’å€¼''ã€‚

å¦ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯æ—¶é—´åºåˆ—æ•°æ®å¯èƒ½æœ‰ç¼ºå¤±ï¼Œæ¯”å¦‚å¤šå¹´çš„æ•°æ®ä¸­é—´å°‘äº†1ä¸ªï¼Œä¹Ÿå¯ä»¥è€ƒè™‘é‡‡ç”¨æ’å€¼æ¥è¡¥å…¨ã€‚

é¦–å…ˆæ„é€ ç¤ºä¾‹æ•°æ®ã€‚å‡å®šä½ çš„æ•°æ®æœ‰11ä¸ªç¦»æ•£çš„è§‚æµ‹å€¼ \(x =0,1,2,3 ... 10\)
ï¼Œç»˜åˆ¶å‡ºå›¾å½¢ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt}

\CommentTok{\# æ•°æ®ç‚¹}

\NormalTok{np.random.seed(}\DecValTok{2}\NormalTok{)}
\NormalTok{N }\OperatorTok{=} \DecValTok{11}
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.linspace(}\DecValTok{0}\NormalTok{, }\DecValTok{10}\NormalTok{, N) }
\NormalTok{y }\OperatorTok{=}\NormalTok{ np.random.randint(}\DecValTok{10}\NormalTok{, size}\OperatorTok{=}\NormalTok{(N,)).}\BuiltInTok{round}\NormalTok{(}\DecValTok{3}\NormalTok{)}

\NormalTok{plt.plot(x, y, }\StringTok{\textquotesingle{}o\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/21-math_files/figure-pdf/cell-3-output-1.pdf}

}

\end{figure}

\hypertarget{ux4e00ux7ef4ux63d2ux503c}{%
\subsection{ä¸€ç»´æ’å€¼}\label{ux4e00ux7ef4ux63d2ux503c}}

è¿™é‡Œé‡‡ç”¨scipyä¸­çš„interpolateæ¨¡å—ï¼Œ\texttt{interpolate.interp1d()}å¯ä»¥æä¾›1ç»´æ’å€¼ã€‚

å‚æ•°ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¼€å¤´2ä¸ªå‚æ•°æ˜¯åŸå§‹æ•°æ®çš„xå’Œy
\item
  \texttt{kind}å‚æ•°æŒ‡å®šæ’å€¼çš„æ–¹æ³•ï¼Œå¸¸ç”¨çš„æ¯”å¦‚çº¿æ€§æ’å€¼\texttt{linear}ï¼ŒäºŒé˜¶æ ·æ¡æ›²çº¿\texttt{quadratic}ï¼Œæˆ–è€…ç›´æ¥ç”¨å‰å€¼\texttt{previous}ç­‰ç­‰ã€‚

  \begin{itemize}
  \tightlist
  \item
    æ’å€¼çš„æ–¹æ³•å¾ˆå¤šï¼Œå…·ä½“å¯è§
    \href{https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp1d.html}{SciPyå®˜ç½‘}ã€‚
  \end{itemize}
\end{enumerate}

è¿”å›å€¼ï¼š

è¿™ä¸ªå‡½æ•°ä¼šæ ¹æ®ä½ æä¾›çš„æ•°æ®ä»¥åŠæ’å€¼çš„æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°\texttt{f(x)}ã€‚å¦‚æœä½ åŸå§‹æ•°æ®ä¸­\textbf{åªæœ‰}1ç‚¹å’Œ2ç‚¹çš„æ°”æ¸©ï¼Œé‚£ä¹ˆä½ è°ƒç”¨\texttt{f(1.5)}ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šå‘Šè¯‰ä½ å®ƒæ‰€ä¼°è®¡1ç‚¹åŠæ°”æ¸©ã€‚

æ³¨æ„ï¼Œæ’å€¼çš„ç»“æœ\textbf{ä¸€å®šä¼šç©¿è¿‡åŸå§‹æ•°æ®}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}
\ImportTok{from}\NormalTok{ scipy.interpolate }\ImportTok{import}\NormalTok{ interp1d}

\CommentTok{\# åŒæ ·çš„æ•°æ®ï¼Œä¸åŒçš„æ’å€¼æ–¹æ³•å¯ä»¥è·å¾—ä¸åŒçš„å‡½æ•°}
\NormalTok{f0 }\OperatorTok{=}\NormalTok{ interp1d(x, y, kind }\OperatorTok{=} \StringTok{\textquotesingle{}linear\textquotesingle{}}\NormalTok{) }\CommentTok{\# çº¿æ€§}
\NormalTok{f1 }\OperatorTok{=}\NormalTok{ interp1d(x, y, kind }\OperatorTok{=} \StringTok{\textquotesingle{}quadratic\textquotesingle{}}\NormalTok{) }\CommentTok{\# äºŒé˜¶æ ·æ¡æ›²çº¿}
\NormalTok{f2 }\OperatorTok{=}\NormalTok{ interp1d(x, y, kind }\OperatorTok{=} \StringTok{\textquotesingle{}previous\textquotesingle{}}\NormalTok{) }\CommentTok{\# å‰å€¼}
\NormalTok{f3 }\OperatorTok{=}\NormalTok{ interp1d(x, y, kind }\OperatorTok{=} \StringTok{\textquotesingle{}nearest\textquotesingle{}}\NormalTok{) }\CommentTok{\# æœ€è¿‘å€¼}
\end{Highlighting}
\end{Shaded}

è™½ç„¶æˆ‘ä»¬çš„åŸå§‹æ•°æ®ä¸­å¹¶æ²¡æœ‰x =
1.5çš„è§‚æµ‹å€¼ï¼Œä½†æ˜¯é€šè¿‡ä¸Šé¢çš„è¿™å‡ ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—x
=1.5æ—¶çš„æ’å€¼çš„ç»“æœã€‚å¦‚ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\CommentTok{\# åŸå§‹æ•°æ®x}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10.])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{f0(}\FloatTok{1.5}\NormalTok{) }\CommentTok{\# çº¿æ€§æ’å€¼}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array(7.)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{f1(}\FloatTok{1.5}\NormalTok{) }\CommentTok{\# äºŒæ¬¡æ ·æ¡æ›²çº¿}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array(7.41522187)
\end{verbatim}

æˆ‘ä»¬æŠŠåŸå§‹æ•°æ®ï¼Œå’Œæ’å€¼çš„ç»“æœç»˜åˆ¶ä¸€ä¸‹è¿›è¡Œå¯¹æ¯”ã€‚æ˜¾è€Œæ˜“è§ï¼Œçº¿æ€§æ’å€¼å¯ä»¥çœ‹æˆæŠŠæ•°æ®ç‚¹ç›´æ¥è¿èµ·æ¥ï¼Œæ ·æ¡æ›²çº¿æ’å€¼ä¼šå°½å¯èƒ½åœ°å¹³æ»‘æ›²çº¿çš„èµ°åŠ¿ã€‚

å¯ä»¥çœ‹\texttt{f0(1.5),\ f1(1.5)}åœ¨å›¾ä¸Šçš„ä½ç½®ã€‚

æ³¨æ„ï¼Œæ’å€¼çš„ç»“æœ\textbf{ä¸€å®šä¼šç©¿è¿‡åŸå§‹æ•°æ®}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{new\_data\_x }\OperatorTok{=}\NormalTok{ np.linspace(}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{200}\NormalTok{) }\CommentTok{\# æŠŠ0åˆ°10åˆ‡å¾—æ›´å¯†é›†}

\NormalTok{plt.plot(x, y, }\StringTok{\textquotesingle{}o\textquotesingle{}}\NormalTok{,c}\OperatorTok{=}\StringTok{\textquotesingle{}k\textquotesingle{}}\NormalTok{,label }\OperatorTok{=} \StringTok{\textquotesingle{}åŸå§‹æ•°æ®\textquotesingle{}}\NormalTok{) }\CommentTok{\# åŸå§‹æ•°æ®ç‚¹ï¼Œé»‘è‰²}
\NormalTok{plt.plot(new\_data\_x, f0(new\_data\_x), label }\OperatorTok{=} \StringTok{\textquotesingle{}çº¿æ€§æ’å€¼\textquotesingle{}}\NormalTok{) }\CommentTok{\# çº¿æ€§æ’å€¼}
\NormalTok{plt.plot(new\_data\_x, f1(new\_data\_x), label }\OperatorTok{=} \StringTok{\textquotesingle{}äºŒé˜¶æ ·æ¡æ›²çº¿æ’å€¼\textquotesingle{}}\NormalTok{) }\CommentTok{\# äºŒé˜¶æ ·æ¡æ›²çº¿æ’å€¼}
\NormalTok{plt.legend()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/21-math_files/figure-pdf/cell-8-output-1.pdf}

}

\end{figure}

ç»˜åˆ¶åŸå§‹æ•°æ®å’Œ``æœ€è¿‘å€¼''å’Œ``å‰å€¼''çš„æ’å€¼ç»“æœã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{new\_data\_x }\OperatorTok{=}\NormalTok{ np.linspace(}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{100}\NormalTok{)}

\NormalTok{plt.plot(x, y, }\StringTok{\textquotesingle{}o\textquotesingle{}}\NormalTok{,c}\OperatorTok{=}\StringTok{\textquotesingle{}k\textquotesingle{}}\NormalTok{ ,label }\OperatorTok{=} \StringTok{\textquotesingle{}åŸå§‹æ•°æ®\textquotesingle{}}\NormalTok{) }\CommentTok{\# åŸå§‹æ•°æ®ç‚¹ï¼Œé»‘è‰²}
\NormalTok{plt.plot(new\_data\_x, f3(new\_data\_x),label }\OperatorTok{=} \StringTok{\textquotesingle{}æœ€è¿‘å€¼\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.plot(new\_data\_x, f2(new\_data\_x),label }\OperatorTok{=} \StringTok{\textquotesingle{}å‰å€¼\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.legend()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/21-math_files/figure-pdf/cell-9-output-1.pdf}

}

\end{figure}

\hypertarget{ux5355ux53d8ux91cfux6837ux6761ux66f2ux7ebf}{%
\subsection{å•å˜é‡æ ·æ¡æ›²çº¿}\label{ux5355ux53d8ux91cfux6837ux6761ux66f2ux7ebf}}

ä¸€ç»´æ’å€¼\texttt{interp1d()}æœ‰2ä¸ªç¼ºé™·ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä¸èƒ½å¤–æ¨ï¼Œå³åªèƒ½è¡¥å…¨2ä¸ªç«¯ç‚¹ä¸­é—´çš„å€¼ã€‚ä¸Šä¾‹ä¸­ï¼ŒåŸå§‹æ•°æ®xçš„åŒºé—´æ˜¯0-10ï¼Œé‚£ä¹ˆè¦å–\texttt{f(11)}å°±ä¼šå‡ºé”™ã€‚
\item
  å¼ºåˆ¶é€šè¿‡å…¨éƒ¨ç‚¹ï¼Œè¿™å¯¹æŸäº›æ•°æ®æ¥è¯´å°±æ²¡æ³•æ’å€¼äº†ã€‚
\end{enumerate}

å•å˜é‡æ ·æ¡æ›²çº¿\texttt{UnivariateSpline()}åˆ™å¯ä»¥å¯ä»¥è§£å†³è¿™2ç‚¹ã€‚

å‚æ•°

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{s}ï¼šsè¶Šå°ï¼Œåˆ™å¹³æ»‘çš„æ—¶å€™è€ƒè™‘çš„æ•°æ®ç‚¹å°‘ï¼Œæ›²çº¿çœ‹èµ·æ¥å°±æ¯”è¾ƒ``æ€¥è½¬å¼¯''ï¼Œ\texttt{s\ =\ 0}åˆ™å¼ºåˆ¶é€šè¿‡æ¯ä¸€ä¸ªç‚¹ã€‚é»˜è®¤\texttt{s\ =\ None}åˆ™ç”¨æ‰€æœ‰ç‚¹è¿›è¡ŒåŠ æƒï¼Œæ›²çº¿ä¼šå°½é‡``å¹³ç¼“åœ°è½¬å¼¯''ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ scipy.interpolate }\ImportTok{import}\NormalTok{ UnivariateSpline}
\NormalTok{g\_s0 }\OperatorTok{=}\NormalTok{ UnivariateSpline(x,y, s }\OperatorTok{=} \DecValTok{0}\NormalTok{) }\CommentTok{\# ç©¿è¿‡æ‰€æœ‰ç‚¹}
\NormalTok{g\_s3 }\OperatorTok{=}\NormalTok{ UnivariateSpline(x,y, s }\OperatorTok{=} \DecValTok{3}\NormalTok{)}
\NormalTok{g\_sn }\OperatorTok{=}\NormalTok{ UnivariateSpline(x,y)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{new\_data\_x }\OperatorTok{=}\NormalTok{ np.linspace(}\DecValTok{0}\NormalTok{,}\FloatTok{10.6}\NormalTok{,}\DecValTok{200}\NormalTok{) }\CommentTok{\# å–å€¼è¶…è¿‡äº†åŸå§‹æ•°æ®}

\NormalTok{plt.plot(x, y, }\StringTok{\textquotesingle{}o\textquotesingle{}}\NormalTok{,c}\OperatorTok{=}\StringTok{\textquotesingle{}k\textquotesingle{}}\NormalTok{,label }\OperatorTok{=} \StringTok{\textquotesingle{}åŸå§‹æ•°æ®\textquotesingle{}}\NormalTok{) }\CommentTok{\# åŸå§‹æ•°æ®ç‚¹ï¼Œé»‘è‰²}
\NormalTok{plt.plot(new\_data\_x, g\_s0(new\_data\_x), label }\OperatorTok{=} \StringTok{\textquotesingle{}s=0\textquotesingle{}}\NormalTok{) }
\NormalTok{plt.plot(new\_data\_x, g\_s3(new\_data\_x), label }\OperatorTok{=} \StringTok{\textquotesingle{}s=3\textquotesingle{}}\NormalTok{) }
\NormalTok{plt.plot(new\_data\_x, g\_sn(new\_data\_x), label }\OperatorTok{=} \StringTok{\textquotesingle{}s=None\textquotesingle{}}\NormalTok{) }
\NormalTok{plt.legend()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/21-math_files/figure-pdf/cell-11-output-1.pdf}

}

\end{figure}

æ³¨æ„ï¼Œæ’å€¼è·å¾—çš„å‡½æ•°å¯ä»¥å–è¶…è¿‡åŸå§‹æ•°æ®çš„xï¼Œæ›²çº¿ä¼šæŒ‰ç…§``æƒ¯æ€§''å‰è¿›ï¼Œè§ä¸Šå›¾æœ€å³ç«¯xè¶…è¿‡10çš„éƒ¨åˆ†ã€‚

\hypertarget{ux751fux6210nux9636ux6bb5ux5bfcux6570}{%
\subsection{ç”Ÿæˆné˜¶æ®µå¯¼æ•°}\label{ux751fux6210nux9636ux6bb5ux5bfcux6570}}

æ³¨æ„ï¼Œ\texttt{interp1d()}å’Œ\texttt{UnivariateSpline()}ï¼Œéƒ½ä¼šé€šè¿‡åŸå§‹æ•°æ®ï¼Œç›´æ¥è¿”å›ç»™ä½ ä¸€ä¸ªå‡½æ•°\texttt{f(x)}ï¼Œè°ƒç”¨è¿™å‡½æ•°å°±å¯ä»¥è·å¾—æ›²çº¿ä¸Šçš„å€¼ã€‚

å…¶å®é‡Œé¢æœ‰2æ­¥éª¤: 1. æ‹Ÿåˆæ ·æ¡æ›²çº¿ï¼ŒæŠŠæ•°æ®ä¿å­˜åœ¨\texttt{f(x)}ä¸­ã€‚ 2.
æ±‚å€¼ã€‚

æœ‰å¦ä¸€ç§åšæ³•ï¼Œå¯ä»¥å…ˆè·å¾—æ ·æ¡æ›²çº¿çš„æ•°æ®\texttt{tck}ï¼Œæˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªæ•°æ®ï¼Œé™¤äº†ç”Ÿæˆ\texttt{f(x)}ï¼Œè¿˜å¯ä»¥ç”Ÿæˆå…¶å¯¼æ•°\texttt{f\textquotesingle{}(x)}ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å‡½æ•°\texttt{splrep()}ï¼Œæ¥å—åŸå§‹æ•°æ®xå’Œyï¼Œè¿”å›æ ·æ¡æ›²çº¿çš„ä¿¡æ¯\texttt{tck}ã€‚
\item
  å‡½æ•°\texttt{splev()}ï¼Œåˆ©ç”¨ä¸Šä¸€æ­¥éª¤ç”Ÿæˆçš„æ›²çº¿ä¿¡æ¯\texttt{tck}ï¼Œæ±‚å¯¹æŸä¸ªxçš„å‡½æ•°å€¼ã€‚å…¶ä¸­å‚æ•°\texttt{der}ä¸ºå‡ é˜¶å¯¼æ•°ï¼Œä¸º0åˆ™ä¸ºåŸå‡½æ•°ã€‚
\end{enumerate}

é‚£ä¹ˆä¸€ä¸‹ä¸¤æ®µä»£ç æ˜¯åŒä¸€ä¸ªæ„æ€ï¼šä»åŸå§‹æ•°æ®xå’Œyä¸­ç”Ÿæˆè¿‡æ•°æ®ç‚¹çš„æ ·æ¡æ›²çº¿ï¼Œç„¶åæ±‚x=1.5çš„å‡½æ•°å€¼ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\# ä»£ç 1}
\NormalTok{f = UnivariateSpline(x,y,s=0)}
\NormalTok{f(1.5)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{\# ä»£ç 2}
\NormalTok{tck = splrep(x,y,s=0)}
\NormalTok{splev(1.5, tck, der = 0)}
\end{Highlighting}
\end{Shaded}

æ˜¾ç„¶ä¸¤ç§åšæ³•æ›²çº¿åº”è¯¥é‡åˆ

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ scipy.interpolate }\ImportTok{import}\NormalTok{ splrep, splev}

\CommentTok{\# ä¿å­˜æ ·æ¡æ›²çº¿çš„ä¿¡æ¯åˆ°tck}
\NormalTok{tck }\OperatorTok{=}\NormalTok{ splrep(x,y)}

\NormalTok{plt.plot(x, y, }\StringTok{\textquotesingle{}o\textquotesingle{}}\NormalTok{,c}\OperatorTok{=}\StringTok{\textquotesingle{}k\textquotesingle{}}\NormalTok{,label }\OperatorTok{=} \StringTok{\textquotesingle{}åŸå§‹æ•°æ®\textquotesingle{}}\NormalTok{) }

\CommentTok{\# ç”¨splev(new\_data\_x, tck)æ±‚æ•°æ®ç‚¹}
\NormalTok{plt.plot(new\_data\_x, splev(new\_data\_x, tck), label }\OperatorTok{=} \StringTok{\textquotesingle{}splev()\textquotesingle{}}\NormalTok{) }

\CommentTok{\# ç”¨UnivariateSpline()è¿”å›çš„å‡½æ•°æ±‚æ•°æ®ç‚¹}
\NormalTok{plt.plot(new\_data\_x, g\_s0(new\_data\_x), label }\OperatorTok{=} \StringTok{\textquotesingle{}US(s=0)\textquotesingle{}}\NormalTok{) }
\NormalTok{plt.legend()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/21-math_files/figure-pdf/cell-12-output-1.pdf}

}

\end{figure}

åŒæ ·ï¼Œç”¨\texttt{splev(der\ =\ 1)}å¯ä»¥è·å¾—ä¸€é˜¶å¯¼æ•°ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig,axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{,sharex}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{axes[}\DecValTok{0}\NormalTok{].plot(new\_data\_x, splev(new\_data\_x, tck, der }\OperatorTok{=} \DecValTok{0}\NormalTok{), label }\OperatorTok{=} \StringTok{\textquotesingle{}f(x)\textquotesingle{}}\NormalTok{ )}
\NormalTok{axes[}\DecValTok{1}\NormalTok{].plot(new\_data\_x, splev(new\_data\_x, tck, der }\OperatorTok{=} \DecValTok{1}\NormalTok{), label }\OperatorTok{=} \StringTok{\textquotesingle{}f}\CharTok{\textbackslash{}\textquotesingle{}}\StringTok{(x)\textquotesingle{}}\NormalTok{ )}
\NormalTok{axes[}\DecValTok{0}\NormalTok{].legend()}
\NormalTok{axes[}\DecValTok{1}\NormalTok{].legend()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/21-math_files/figure-pdf/cell-13-output-1.pdf}

}

\end{figure}

\hypertarget{ux51f8ux4f18ux5316}{%
\section{å‡¸ä¼˜åŒ–}\label{ux51f8ux4f18ux5316}}

è¿™éƒ¨åˆ†åŸºæœ¬å¯ä»¥ç†è§£ä¸º``æ±‚æå€¼''ï¼ŒåŒ…æœ‰çº¦æŸå’Œæ— çº¦æŸçš„æå€¼ã€‚

\hypertarget{ux7b80ux5355ux51fdux6570ux6c42ux6781ux503c}{%
\subsection{ç®€å•å‡½æ•°æ±‚æå€¼}\label{ux7b80ux5355ux51fdux6570ux6c42ux6781ux503c}}

ä»¥å‰é¢éšæœºç”Ÿæˆçš„å‡½æ•°ä¸ºä¾‹ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{f }\OperatorTok{=}\NormalTok{ g\_s0 }\CommentTok{\# ä¸Šä¸€èŠ‚ç”Ÿæˆçš„å‡½æ•°}

\NormalTok{x }\OperatorTok{=}\NormalTok{ np.linspace(}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{500}\NormalTok{)}
\NormalTok{y }\OperatorTok{=}\NormalTok{ f(x)}

\NormalTok{plt.plot(x,y)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/21-math_files/figure-pdf/cell-14-output-1.pdf}

}

\end{figure}

\texttt{brute()}å‡½æ•°é€šè¿‡æš´åŠ›ç©·ä¸¾ï¼Œå¯ä»¥æ±‚ä¸€ä¸ªåŒºé—´ä¹‹å†…çš„å‡½æ•°æå°å€¼æ‰€å¯¹åº”çš„xï¼Œæ˜¾ç„¶f(x)å°±å‡½æ•°çš„æå°å€¼ã€‚

æ³¨æ„è¿™é‡Œåªèƒ½æ±‚æå°å€¼ï¼Œå¦‚æœè¦æ±‚æå¤§å€¼ï¼Œä»¤\(g(x) = -f(x)\)å³å¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ scipy.optimize }\ImportTok{as}\NormalTok{ sco}

\CommentTok{\# æš´åŠ›æ±‚æå€¼}

\CommentTok{\# brute() çš„å‚æ•°ï¼š }
\CommentTok{\# 1. è¦æ±‚æå€¼çš„å‡½æ•°ã€‚ }
\CommentTok{\# 2. å‚æ•°åŒºé—´å’Œé—´éš”ï¼š2åˆ°8ï¼Œé—´éš”ä¸º0.01ã€‚æ³¨æ„è¿™æ˜¯ä¸€ä¸ªListçš„Listï¼Œå†…å±‚çš„æ¯ä¸ªListå¯¹åº”1ä¸ªå‚æ•°ã€‚}
\CommentTok{\# è¿”å›å€¼ï¼šä¸€ä¸ªåˆ—è¡¨ã€‚yçš„æå€¼å¯¹åº”çš„å‚æ•°ï¼Œæ¯ä¸ªå‚æ•°ä¸€ä¸ªä½ç½®ï¼Œæ˜¾ç„¶è¿™é‡Œåªæœ‰1ä¸ªå‚æ•°ã€‚}
\NormalTok{x1 }\OperatorTok{=}\NormalTok{ sco.brute(f, [[}\DecValTok{2}\NormalTok{, }\DecValTok{8}\NormalTok{, }\FloatTok{0.01}\NormalTok{]])[}\DecValTok{0}\NormalTok{]}
\NormalTok{y1 }\OperatorTok{=}\NormalTok{ f(x1)}


\NormalTok{g }\OperatorTok{=} \KeywordTok{lambda}\NormalTok{ x: }\OperatorTok{{-}}\DecValTok{1} \OperatorTok{*}\NormalTok{ f(x)}
\NormalTok{x2 }\OperatorTok{=}\NormalTok{ sco.brute(g, [[}\DecValTok{2}\NormalTok{, }\DecValTok{8}\NormalTok{, }\FloatTok{0.01}\NormalTok{]])[}\DecValTok{0}\NormalTok{]}
\NormalTok{y2 }\OperatorTok{=}\NormalTok{ f(x2)}

\NormalTok{plt.plot(x,y)}\OperatorTok{;}
\NormalTok{plt.scatter(x1, y1, color}\OperatorTok{=}\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\NormalTok{plt.scatter(x2, y2, color}\OperatorTok{=}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/21-math_files/figure-pdf/cell-15-output-1.pdf}

}

\end{figure}

\hypertarget{ux7b80ux5355ux7ea6ux675fux6c42ux6781ux503c}{%
\subsection{ç®€å•çº¦æŸæ±‚æå€¼}\label{ux7b80ux5355ux7ea6ux675fux6c42ux6781ux503c}}

åœ¨çº¦æŸæ¡ä»¶ä¸‹æ±‚æå€¼ï¼šå…¸å‹çš„å°±æ˜¯å¾®è§‚ç»æµçš„æ¶ˆè´¹è€…é—®é¢˜ï¼šåœ¨ä¸€å®šçš„çº¦æŸæ¡ä»¶ä¸‹ï¼ˆå¦‚æ”¶å…¥ï¼‰ï¼Œæœ€å¤§åŒ–ä¸€ä¸ªå‡½æ•°ï¼ˆå¦‚æ•ˆç”¨å‡½æ•°ï¼‰ã€‚

æœ‰ä¸¤ç§æ¶ˆè´¹å“xå’Œyï¼Œæ¶ˆè´¹è€…å…·æœ‰ä¸€ä¸ªCDå½¢å¼çš„æ•ˆç”¨å‡½æ•°ã€‚xå’Œyçš„ä»·æ ¼ä¸º1å’Œ2ï¼Œæ¶ˆè´¹è€…çš„æ”¶å…¥ä¸ºmã€‚

é‚£ä¹ˆæ¶ˆè´¹è€…çš„æœ€å¤§åŒ–é—®é¢˜ï¼Œå°±å¯ä»¥å†™æˆï¼š

\$\$

\begin{aligned}
\max \quad   u(x,y) = & x^{0.4} y^{0.6} \\

\text{s.t.} \quad      x + 2y =& m

\end{aligned}

\$\$

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{m }\OperatorTok{=} \DecValTok{10}

\KeywordTok{def}\NormalTok{ fun(p):}
    \CommentTok{"""}
\CommentTok{    è¦æœ€å°åŒ–çš„å‡½æ•°ï¼Œå³{-}1 * æ•ˆç”¨å‡½æ•°}
\CommentTok{    """}
\NormalTok{    x,y }\OperatorTok{=}\NormalTok{ p}
    \ControlFlowTok{return} \OperatorTok{{-}}\NormalTok{(x}\OperatorTok{**}\FloatTok{0.4} \OperatorTok{*}\NormalTok{ y}\OperatorTok{**}\FloatTok{0.6}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]

\KeywordTok{def}\NormalTok{ expend(p):}
    \CommentTok{"""}
\CommentTok{    ç¬¬ä¸€ä¸ªçº¦æŸï¼Œè¡¨è¾¾å¼åº”ç­‰äº0}
\CommentTok{    """}
\NormalTok{    x,y }\OperatorTok{=}\NormalTok{ p}
    \ControlFlowTok{return}\NormalTok{ m }\OperatorTok{{-}}\NormalTok{ (x }\OperatorTok{+} \DecValTok{2}\OperatorTok{*}\NormalTok{y)}

\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]

\CommentTok{\# å‚æ•°åŒºé—´}
\NormalTok{bnds }\OperatorTok{=}\NormalTok{ ((}\DecValTok{0}\NormalTok{, }\DecValTok{10}\NormalTok{), (}\DecValTok{0}\NormalTok{, }\DecValTok{5}\NormalTok{))}

\CommentTok{\# çº¦æŸ}
\NormalTok{cons }\OperatorTok{=}\NormalTok{ (\{}\StringTok{\textquotesingle{}type\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}eq\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}fun\textquotesingle{}}\NormalTok{: expend\}) }\CommentTok{\# ç¬¬1ä¸ªçº¦æŸæ˜¯ç­‰å¼çº¦æŸï¼Œtypeåº”ä¸º\textquotesingle{}eq\textquotesingle{}}

\CommentTok{\# æ±‚æå€¼}
\NormalTok{result }\OperatorTok{=}\NormalTok{ sco.minimize(fun, [}\DecValTok{5}\NormalTok{, }\DecValTok{3}\NormalTok{],  bounds}\OperatorTok{=}\NormalTok{bnds, constraints}\OperatorTok{=}\NormalTok{cons)}

\NormalTok{result}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
     fun: -3.365865430459912
     jac: array([-0.33656219, -0.67320558])
 message: 'Optimization terminated successfully'
    nfev: 18
     nit: 6
    njev: 6
  status: 0
 success: True
       x: array([4.00028954, 2.99985523])
\end{verbatim}

å…¶ä¸­result.xï¼Œå°±æ˜¯æœ€ä¼˜åŒ–åçš„2ä¸ªå•†å“æ¶ˆè´¹ï¼Œresult.funå°±æ˜¯ä¹˜ä»¥-1ä¹‹åçš„æœ€é«˜æ•ˆç”¨ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.}\BuiltInTok{round}\NormalTok{(result.x, }\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([4., 3.])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{expend(result.x).}\BuiltInTok{round}\NormalTok{(}\DecValTok{2}\NormalTok{) }\CommentTok{\# é’±å…¨éƒ¨èŠ±å®Œ}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.0
\end{verbatim}

å¦‚æœå¤šåŠ ä¸€ä¸ªçº¦æŸï¼Œä¾‹å¦‚xæ˜¯é…ç»™ä¾›åº”ï¼Œæœ€å¤šæ¶ˆè´¹3å•ä½ï¼Œé‚£ä¹ˆé—®é¢˜å°±æ˜¯ï¼š(ç°åœ¨ä¸è¦æ±‚é’±èŠ±å®Œ)

\$\$

\begin{aligned}
\max \quad  u(x,y) = & x^{0.4} y^{0.6} \\

\text{s.t.} \quad      x + 2y \leq & m \\

x \leq & 3

\end{aligned}

\$\$

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ xlim(p):}
    \CommentTok{"""}
\CommentTok{    ç¬¬ä¸€ä¸ªçº¦æŸï¼Œè¿™é‡Œçš„è¡¨è¾¾å¼åº”å¤§äº0ï¼›}
\CommentTok{    x \textless{}= 3ï¼Œå¯¹åº”3 {-} x \textgreater{}= 0}
\CommentTok{    """}
\NormalTok{    x,y }\OperatorTok{=}\NormalTok{ p}
    \ControlFlowTok{return} \DecValTok{3} \OperatorTok{{-}}\NormalTok{ x}

\NormalTok{cons }\OperatorTok{=}\NormalTok{ (\{}\StringTok{\textquotesingle{}type\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}ineq\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}fun\textquotesingle{}}\NormalTok{: expend\}, }\CommentTok{\# ç¬¬1ä¸ªçº¦æŸæ˜¯ä¸ç­‰å¼çº¦æŸï¼Œtypeåº”ä¸º\textquotesingle{}ineq\textquotesingle{}}
\NormalTok{        \{}\StringTok{\textquotesingle{}type\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}ineq\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}fun\textquotesingle{}}\NormalTok{: xlim\})   }\CommentTok{\# ç¬¬2ä¸ªçº¦æŸæ˜¯ä¸ç­‰å¼çº¦æŸï¼Œtypeåº”ä¸º\textquotesingle{}ineq\textquotesingle{}}

\CommentTok{\# æ±‚æå€¼ä¸å˜}
\NormalTok{result }\OperatorTok{=}\NormalTok{ sco.minimize(fun, [}\DecValTok{5}\NormalTok{, }\DecValTok{3}\NormalTok{],  bounds}\OperatorTok{=}\NormalTok{bnds, constraints}\OperatorTok{=}\NormalTok{cons)}

\NormalTok{result}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
     fun: -3.290707859718669
     jac: array([-0.43876103, -0.56412134])
 message: 'Optimization terminated successfully'
    nfev: 6
     nit: 2
    njev: 2
  status: 0
 success: True
       x: array([3. , 3.5])
\end{verbatim}

é…ç»™åˆ¶ä¸‹ï¼Œæœ€å¤§åŒ–æ•ˆç”¨ä¸‹é™äº†ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{expend(result.x).}\BuiltInTok{round}\NormalTok{(}\DecValTok{2}\NormalTok{) }\CommentTok{\# é’±å…¨éƒ¨èŠ±å®Œ}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.0
\end{verbatim}

\hypertarget{ux89e3ux65b9ux7a0bux7ec4}{%
\section{è§£æ–¹ç¨‹(ç»„)}\label{ux89e3ux65b9ux7a0bux7ec4}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{f }\OperatorTok{=}\NormalTok{ g\_s0 }\CommentTok{\# ä¸Šä¸€èŠ‚ç”Ÿæˆçš„å‡½æ•°}

\NormalTok{x }\OperatorTok{=}\NormalTok{ np.linspace(}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{500}\NormalTok{)}
\NormalTok{y }\OperatorTok{=}\NormalTok{ f(x)}

\NormalTok{plt.plot(x,y)}\OperatorTok{;}
\NormalTok{plt.plot([}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{],[}\DecValTok{4}\NormalTok{,}\DecValTok{4}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/21-math_files/figure-pdf/cell-23-output-1.pdf}

}

\end{figure}

è§£è¿™ä¸ªå‡½æ•°ï¼š\texttt{f(x)\ -\ 4\ =\ 0}ã€‚

fsolveå¯ä»¥ç”¨äºè§£æ–¹ç¨‹ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç¬¬1ä¸ªå‚æ•°ï¼šè¦è§£çš„å‡½æ•°ï¼Œå¿…é¡»æ˜¯ç­‰äº0çš„å½¢å¼
\item
  ç¬¬2ä¸ªå‚æ•°ï¼šä½ å¯¹è§£çš„çŒœæµ‹ï¼Œfsolveä¼šåœ¨ä½ çš„çŒœæµ‹çš„é™„è¿‘è¿›è¡Œæœç´¢
\end{enumerate}

æ³¨æ„ï¼šfsolveéå¸¸ä¾èµ–äºä½ çš„çŒœæµ‹ï¼Œæœ€å¥½ä¸è¦çŒœå¾—å¤ªè¿œï¼Œå¦åˆ™ä¼šæ‰¾ä¸åˆ°ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{g }\OperatorTok{=} \KeywordTok{lambda}\NormalTok{ x: f(x) }\OperatorTok{{-}} \DecValTok{4} \CommentTok{\# g(x) = f(x) {-} 4}

\NormalTok{result }\OperatorTok{=}\NormalTok{ sco.fsolve(g,[}\FloatTok{2.5}\NormalTok{, }\FloatTok{3.5}\NormalTok{, }\DecValTok{5}\NormalTok{, }\DecValTok{7}\NormalTok{])}
\NormalTok{result }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([2.35408601, 3.41291772, 5.58018654, 7.70212142])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=}\NormalTok{ np.linspace(}\DecValTok{0}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{500}\NormalTok{)}
\NormalTok{y }\OperatorTok{=}\NormalTok{ f(x)}

\NormalTok{plt.plot(x,y)}
\NormalTok{plt.scatter(result,f(result),color}\OperatorTok{=}\StringTok{\textquotesingle{}red\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/21-math_files/figure-pdf/cell-25-output-1.pdf}

}

\end{figure}

æ˜¾ç„¶ï¼Œfsolveåªä¼šæ‰¾åˆ°æˆ‘ä»¬çš„çŒœæµ‹å€¼é™„è¿‘çš„è§£ã€‚

æ–¹ç¨‹ç»„ä¹Ÿæ˜¯ç±»ä¼¼ï¼š

å¦‚2ä¸ªæ–¹ç¨‹è§£2ä¸ªæœªçŸ¥æ•°

\begin{cases}
1 + y - (x-1)^2 = 0\\
2(x+5) - y = 0
\end{cases}

å› ä¸ºæœ¬æ¡ˆçš„yå¾ˆå®¹æ˜“è§£å‡ºæ¥ï¼Œæ‰€ä»¥æ¯”è¾ƒå®¹æ˜“ç»˜å›¾ã€‚ä½†å¾ˆå¤šå‡½æ•°çš„yä¸èƒ½è§£å‡ºè¡¨è¾¾å¼ y
= \ldotsï¼Œå› æ­¤æœªå¿…èƒ½ç»˜å›¾ã€‚

æ˜¾ç„¶ï¼Œè®©ä¸Šé¢çš„æ–¹ç¨‹ç»„åŒæ—¶æˆç«‹ï¼Œå¿…ç„¶æ˜¯2ä¸ªæ›²çº¿çš„äº¤ç‚¹ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ f(x):}
    \ControlFlowTok{return}\NormalTok{ (x}\OperatorTok{{-}}\DecValTok{1}\NormalTok{)}\OperatorTok{**}\DecValTok{2} \OperatorTok{{-}} \DecValTok{1} 

\KeywordTok{def}\NormalTok{ g(x):}
    \ControlFlowTok{return} \DecValTok{2}\OperatorTok{*}\NormalTok{(x}\OperatorTok{+}\DecValTok{5}\NormalTok{)}

\NormalTok{x }\OperatorTok{=}\NormalTok{ np.linspace(}\OperatorTok{{-}}\DecValTok{10}\NormalTok{,}\DecValTok{10}\NormalTok{,}\DecValTok{100}\NormalTok{)}

\NormalTok{plt.plot(x,f(x))}
\NormalTok{plt.plot(x,g(x))}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/21-math_files/figure-pdf/cell-26-output-1.pdf}

}

\end{figure}

è§£ä¸º(x,y)çš„å½¢å¼ï¼Œxå’Œyä¼šè®©å‰é¢çš„æ–¹ç¨‹ç»„æˆç«‹ï¼ˆç»“æœç­‰äº0ï¼‰,å°±æ˜¯æˆ‘ä»¬è¦çš„è§£ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ equ(p): }
\NormalTok{    x, y }\OperatorTok{=}\NormalTok{ p }\CommentTok{\# på³ (x,y)}

    \CommentTok{\# ä¸¤ä¸ªæ–¹ç¨‹ï¼Œå¿…é¡»æ˜¯ç­‰äº0çš„å½¢å¼}
\NormalTok{    eq1 }\OperatorTok{=} \DecValTok{1} \OperatorTok{+}\NormalTok{ y }\OperatorTok{{-}}\NormalTok{ (x}\OperatorTok{{-}}\DecValTok{1}\NormalTok{)}\OperatorTok{**}\DecValTok{2} 
\NormalTok{    eq2 }\OperatorTok{=} \DecValTok{2}\OperatorTok{*}\NormalTok{(x}\OperatorTok{+}\DecValTok{5}\NormalTok{) }\OperatorTok{{-}}\NormalTok{ y}
    \ControlFlowTok{return}\NormalTok{ eq1, eq2}

\CommentTok{\# ç¬¬2ä¸ªå‚æ•°ä¾ç„¶æ˜¯ä½ çš„æœ€ä½³çŒœæµ‹ï¼Œè§£çš„å½¢å¼æ˜¯(x,y)ï¼Œæ˜¾ç„¶ä½ ä¹Ÿè¦é‡‡ä½¿æ–¹ç¨‹ç»„æˆç«‹çš„(x,y)}
\NormalTok{result1 }\OperatorTok{=}\NormalTok{ sco.fsolve(equ,(}\OperatorTok{{-}}\FloatTok{2.5}\NormalTok{,}\DecValTok{5}\NormalTok{))}
\NormalTok{result1}
\CommentTok{\# ç»“æœä¸­åŒ…å«äº†éœ€è¦çš„(x,y)}

\NormalTok{result2 }\OperatorTok{=}\NormalTok{ sco.fsolve(equ,(}\DecValTok{5}\NormalTok{,}\DecValTok{20}\NormalTok{))}
\NormalTok{result2}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([ 5.74165739, 21.48331477])
\end{verbatim}

result1å’Œresult2å°±æ˜¯æ–¹ç¨‹ç»„çš„2ä¸ªè§£ã€‚ç»˜åˆ¶æˆå›¾å½¢ï¼Œåˆ™æ­£å¥½æ˜¯2ä¸ªäº¤ç‚¹ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.plot(x,f(x))}
\NormalTok{plt.plot(x,g(x))}\OperatorTok{;}
\NormalTok{plt.scatter(result1[}\DecValTok{0}\NormalTok{],result1[}\DecValTok{1}\NormalTok{])}
\NormalTok{plt.scatter(result2[}\DecValTok{0}\NormalTok{],result2[}\DecValTok{1}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<matplotlib.collections.PathCollection at 0x7fb86abb2d00>
\end{verbatim}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/21-math_files/figure-pdf/cell-28-output-2.pdf}

}

\end{figure}

\part{ç¬¬4éƒ¨åˆ† æ¡ˆä¾‹}

\hypertarget{ux9884ux5907ux77e5ux8bc6ux6570ux636eux6e90}{%
\chapter{é¢„å¤‡çŸ¥è¯†ï¼šæ•°æ®æº}\label{ux9884ux5907ux77e5ux8bc6ux6570ux636eux6e90}}

åœ¨è¿›å…¥æ¡ˆä¾‹ä¹‹å‰ï¼Œç®€å•è¯´ä¸€ä¸‹æ•°æ®æºã€‚è¯åˆ¸å¸‚åœºç ”ç©¶å¸¸ç”¨çš„æ•°æ®æºæœ‰ï¼š

\hypertarget{ux5e38ux7528ux6570ux636eux6e90}{%
\section{å¸¸ç”¨æ•°æ®æº}\label{ux5e38ux7528ux6570ux636eux6e90}}

\hypertarget{csmarux56fdux6cf0ux5b89ux6570ux636eux5e93}{%
\subsection{CSMARå›½æ³°å®‰æ•°æ®åº“}\label{csmarux56fdux6cf0ux5b89ux6570ux636eux5e93}}

CSMARåŒ…æ‹¬å¤§é‡å®å¾®è§‚æ•°æ®å’Œä¸Šå¸‚å…¬å¸æ•°æ®ï¼ˆä¸»è¦æ˜¯\textbf{å†å²æ•°æ®}ï¼ŒåŒºåˆ«äº\textbf{å®æ—¶æ•°æ®}ï¼‰ï¼Œ
å¸¸ç”¨äºç§‘ç ”ã€‚è¿™ä¹Ÿæ˜¯æœ¬è¯¾ç¨‹ä¸»è¦çš„æ•°æ®æ¥æºã€‚

ä¸»é¡µåœ¨https://cn.gtadata.com/ï¼Œç½‘ç«™ä¼šè‡ªåŠ¨è¯†åˆ«ä½ çš„IPåœ°å€ï¼Œæ ¡å›­ç½‘å†…å¯ç›´æ¥ä½¿ç”¨ã€‚

å­¦æ ¡æœªå¿…ä¼šè´­ä¹°æ•´ä¸ªCSMARæ•°æ®åº“ï¼Œå¦‚æœé‡åˆ°éƒ¨åˆ†æ•°æ®å­¦æ ¡æ²¡æœ‰è´­ä¹°çš„æƒ…å†µï¼Œ
å¯ä»¥è€ƒè™‘æ·˜å®è´­ä¹°è´¦å·ï¼Œä»·æ ¼ä½å»‰ï¼Œè¿˜å¯ä»¥å¤šäººå…±ç”¨ã€‚

\hypertarget{windux4e07ux5f97ux548cifindux540cux82b1ux987aux5ba2ux6237ux7aefux7684api}{%
\subsection{Windä¸‡å¾—å’ŒiFinDåŒèŠ±é¡ºå®¢æˆ·ç«¯çš„API}\label{windux4e07ux5f97ux548cifindux540cux82b1ux987aux5ba2ux6237ux7aefux7684api}}

ä»·æ ¼æ˜‚è´µçš„æ•°æ®ç»ˆç«¯ï¼Œæˆ‘ä»¬å­¦æ ¡åº”è¯¥æ²¡ä¹°ï¼ŒåœŸè±ªå’Œé‡‘èæœºæ„çš„é€‰æ‹©ã€‚

\hypertarget{ux67d0ux4e9bpythonux5305}{%
\subsection{æŸäº›PythonåŒ…}\label{ux67d0ux4e9bpythonux5305}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Tushareã€‚ä¸»é¡µåœ¨https://tushare.pro/
\item
  AKShareã€‚ä¸»é¡µåœ¨https://www.akshare.xyz/
\end{enumerate}

è¿™2ä¸ªåŒ…æœ€åˆéƒ½æ˜¯ç°æˆå†™å¥½çš„çˆ¬è™«ï¼ŒèƒŒåæ˜¯æŠ“å–å¦‚æ–°æµªè´¢ç»æˆ–è€…ä¸œæ–¹è´¢å¯Œç½‘ç­‰ç½‘ç«™çš„æ•°æ®ã€‚å¦‚æœä½ éœ€è¦\textbf{å®æ—¶æ•°æ®}ï¼Œæˆ–è€…\textbf{å°‘é‡å†å²æ•°æ®}åˆä¸æƒ³å»CSMARæœç´¢ä¸‹è½½ï¼Œå¯ä»¥è€ƒè™‘ã€‚

æœ¬è¯¾æŸäº›åœºåˆå¯èƒ½ä¼šç”¨åˆ°AKShareï¼Œä¸ç”¨æ³¨å†Œï¼Œæ¯”è¾ƒçœäº‹ã€‚

\hypertarget{ux81eaux5df1ux5199ux722cux866b}{%
\subsection{è‡ªå·±å†™çˆ¬è™«}\label{ux81eaux5df1ux5199ux722cux866b}}

å¦‚æœæœ‰äº›æ•°æ®ï¼Œä¸Šè¿°å‡ ä¸ªæ¥æºçš„éƒ½æ— æ³•æ»¡è¶³ï¼Œåˆæ­£å¥½æœ‰ç½‘ç«™æä¾›ï¼ˆæ¯”å¦‚ä¸Šäº¤æ‰€å’Œæ·±äº¤æ‰€çš„ä¸»é¡µæœ‰å¤§é‡çš„æ•°æ®ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥è‡ªå·±å†™çˆ¬è™«çˆ¬å–ã€‚ç½‘ç«™å„ä¸ªä¸åŒï¼Œå› æ­¤å†™çˆ¬è™«æ˜¯``ä¸€äº‹ä¸€è®®''çš„å·¥ä½œï¼Œè€ƒè™‘ä½œä¸ºé€‰å­¦å†…å®¹ã€‚

\hypertarget{csmarux83b7ux53d6ux6570ux636eux8303ux4f8b}{%
\section{CSMARè·å–æ•°æ®èŒƒä¾‹}\label{csmarux83b7ux53d6ux6570ux636eux8303ux4f8b}}

ä»CSMARä¸­æœç´¢å¹¶ä¸‹è½½æ•°æ®ï¼Œå’Œç”¨ç™¾åº¦æœç´¢ï¼Œæˆ–è€…å’Œä»ç½‘åº—è´­ç‰©å·®ä¸å¤šã€‚å”¯ç‹¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒCSMARä¸­ä¸‹è½½çš„æ•°æ®å¯èƒ½æœ‰å¤šé‡headerã€‚

\includegraphics{images/csmar_data.png}

åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼ŒExcelè¡¨çš„å¼€å¤´3è¡Œéƒ½æ˜¯æ ‡é¢˜ï¼Œç¬¬4è¡Œæ‰æ˜¯æ•°æ®ã€‚

\hypertarget{ux591aux91cdux6807ux9898ux6570ux636eux7684ux5904ux7406}{%
\subsection{å¤šé‡æ ‡é¢˜æ•°æ®çš„å¤„ç†}\label{ux591aux91cdux6807ux9898ux6570ux636eux7684ux5904ux7406}}

å¤„ç†è¿™ç§æ•°æ®ï¼Œå¯ä»¥ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ‰‹å·¥åˆ é™¤ä¸éœ€è¦çš„è¡Œï¼Œåªä¿ç•™éœ€è¦çš„è¡Œï¼Œä¿å­˜å³å¯ã€‚
\end{enumerate}

æˆ–è€…ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  ç”¨\texttt{pd.read\_excel()}è¯»å–çš„æ—¶å€™è¿›è¡Œå¤„ç†ï¼Œä¹Ÿæœ‰2ç§æ–¹æ¡ˆï¼š

  \begin{itemize}
  \tightlist
  \item
    ç”¨å‚æ•°\texttt{header}æŒ‡å®šå“ªå‡ è¡Œæ˜¯æ ‡é¢˜ï¼Œå½¢æˆå¤šé‡åˆ—æ ‡ç­¾ã€‚å› ä¸ºè¿™é‡Œçš„å¤šé‡headerå¾ˆéš¾æŒ‡å®šconvertersï¼Œæ‰€ä»¥CSMARæ•°æ®ä¸æ¨èã€‚
  \item
    ç”¨å‚æ•°\texttt{skiprows}å¿½ç•¥æŸäº›è¡Œã€‚ï¼ˆ* \textbf{æ¨è}ï¼‰
  \end{itemize}
\end{enumerate}

\hypertarget{ux5f62ux6210ux591aux91cdheader}{%
\subsection{å½¢æˆå¤šé‡header}\label{ux5f62ux6210ux591aux91cdheader}}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{\%\%}\NormalTok{capture }\OperatorTok{{-}{-}}\NormalTok{no}\OperatorTok{{-}}\NormalTok{display }
\CommentTok{\# è¿™ä¸€è¡Œç”¨äºå¿½ç•¥æœ¬cellçš„warning}

\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}

\CommentTok{\# è¯»å–æ•°æ®ï¼Œå‰3è¡Œæ˜¯æ ‡é¢˜}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/TRD\_BwardQuotation.xlsx\textquotesingle{}}\NormalTok{,header}\OperatorTok{=}\NormalTok{[}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{])}
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& TradingDate & Symbol & ClosePrice \\
& äº¤æ˜“æ—¥æœŸ & è¯åˆ¸ä»£ç  & æ”¶ç›˜ä»· \\
& Unnamed: 0\_level\_2 & Unnamed: 1\_level\_2 & å…ƒ/è‚¡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2018-11-05 & 1 & 1596.518 \\
1 & 2018-11-06 & 1 & 1584.822 \\
2 & 2018-11-07 & 1 & 1580.436 \\
3 & 2018-11-08 & 1 & 1592.132 \\
4 & 2018-11-09 & 1 & 1542.423 \\
\end{longtable}

\hypertarget{ux8df3ux8fc7ux67d0ux4e9bux7684ux884c}{%
\subsection{è·³è¿‡æŸäº›çš„è¡Œ}\label{ux8df3ux8fc7ux67d0ux4e9bux7684ux884c}}

ä»Excelæ–‡ä»¶æœ¬èº«ï¼Œæˆ–è€…ä¸Šä¸€èŠ‚çš„ç»“æœéƒ½å¯çŸ¥ï¼Œæˆ‘ä»¬åº”è¯¥å»æ‰çš„æ˜¯0ã€2è¡Œï¼Œä¿ç•™1è¡Œä¸­æ–‡æ ‡ç­¾ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{\%\%}\NormalTok{capture }\OperatorTok{{-}{-}}\NormalTok{no}\OperatorTok{{-}}\NormalTok{display}

\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/TRD\_BwardQuotation.xlsx\textquotesingle{}}\NormalTok{, skiprows}\OperatorTok{=}\NormalTok{[}\DecValTok{0}\NormalTok{, }\DecValTok{2}\NormalTok{],}
\NormalTok{                   converters}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}è¯åˆ¸ä»£ç \textquotesingle{}}\NormalTok{: }\BuiltInTok{str}\NormalTok{, }\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{: pd.to\_datetime\})}
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& äº¤æ˜“æ—¥æœŸ & è¯åˆ¸ä»£ç  & æ”¶ç›˜ä»· \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2018-11-05 & 000001 & 1596.518 \\
1 & 2018-11-06 & 000001 & 1584.822 \\
2 & 2018-11-07 & 000001 & 1580.436 \\
3 & 2018-11-08 & 000001 & 1592.132 \\
4 & 2018-11-09 & 000001 & 1542.423 \\
\end{longtable}

\hypertarget{ux57faux7840ux6848ux4f8b}{%
\chapter{åŸºç¡€æ¡ˆä¾‹}\label{ux57faux7840ux6848ux4f8b}}

æœ¬ç« ä¸»è¦è®²è§£å‚è€ƒä¹¦ã€ŠPythoné‡‘èæ•°æ®åˆ†æä¸æŒ–æ˜å®æˆ˜ã€‹ä¸­çš„ç¬¬7ç« ï¼šåŸºç¡€æ¡ˆä¾‹ã€‚æŒ‰ç…§æˆ‘ä»¬å‰é¢æ‰€å­¦çš„çŸ¥è¯†ä»¥åŠä½œä¸šï¼Œè¿™å‡ ä¸ªæ¡ˆä¾‹åº”è¯¥éƒ½å¯ä»¥é¡ºåˆ©å®Œæˆã€‚

æ³¨ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä¸éœ€è¦ä½ æ‰‹ä¸­æœ‰è¿™æœ¬ä¹¦ã€‚æœ¬è®²ä¹‰å·²ç»åŒ…æ‹¬äº†å¯¹æ¡ˆä¾‹çš„æè¿°ï¼Œæ•°æ®ä¼šå‘é€ç»™å¤§å®¶ã€‚
\item
  è™½ç„¶é¢˜ç›®æ¥è‡ªå‚è€ƒä¹¦ï¼Œä½†åŸä¹¦ä¸­çš„``å†™æ³•''å¯èƒ½æœ‰ä¸€äº›é—®é¢˜ï¼Œå› æ­¤è¿™é‡Œä»¥æˆ‘ä»¬è‡ªå·±çš„å†™æ³•ä¸ºä¸»ã€‚å¦‚æœæœ‰ä¹¦ï¼Œå¤§å®¶å¯ä»¥å¯¹æ¯”çœ‹çœ‹ã€‚
\item
  æ•°æ®ç»Ÿä¸€æ”¾åœ¨å·¥ä½œç›®å½•çš„\texttt{data/case??/}ç›®å½•ä¸‹ï¼Œå¦‚åŸä¹¦æ¡ˆä¾‹7.2ï¼Œæ•°æ®åœ¨\texttt{data/case7.2/}ä¸‹
\end{enumerate}

\hypertarget{ux80a1ux7968ux4ef7ux683cux6307ux6570ux5468ux6536ux76caux7387ux548cux6708ux6536ux76caux7387ux7684ux8ba1ux7b97}{%
\section{è‚¡ç¥¨ä»·æ ¼æŒ‡æ•°å‘¨æ”¶ç›Šç‡å’Œæœˆæ”¶ç›Šç‡çš„è®¡ç®—}\label{ux80a1ux7968ux4ef7ux683cux6307ux6570ux5468ux6536ux76caux7387ux548cux6708ux6536ux76caux7387ux7684ux8ba1ux7b97}}

ï¼ˆåŸ7.2èŠ‚, p139ï¼‰

\hypertarget{ux8981ux6c42}{%
\subsection{è¦æ±‚}\label{ux8981ux6c42}}

ä»excelæ–‡ä»¶ä¸­è¯»å–è‚¡ç¥¨çš„æ—¥çº¿ä»·æ ¼ï¼Œç„¶åè®¡ç®—``å‘¨æ”¶ç›Šç‡''å’Œ``æœˆæ”¶ç›Šç‡''ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{IDX\_Idxtrd.xlsx}åŒ…æ‹¬è‚¡ç¥¨ä»·æ ¼
\item
  \texttt{TRD\_Cale.xlsx}åŒ…æ‹¬æ¯ä¸ªæ—¥æœŸæ˜¯æ˜ŸæœŸå‡ ï¼ˆåœ¨æˆ‘ä»¬çš„åšæ³•ä¸­ç”¨ä¸åˆ°ï¼‰
\end{enumerate}

\hypertarget{ux601dux8defux548cux5b9eux73b0}{%
\subsection{æ€è·¯å’Œå®ç°}\label{ux601dux8defux548cux5b9eux73b0}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¯»å–æ•°æ®ï¼Œä¿®æ­£æ¯ä¸€åˆ—çš„æ•°æ®ç±»å‹ã€‚
\item
  ç”¨\texttt{set\_index()}è½¬ä¸ºæ—¶é—´åºåˆ—ã€‚
\item
  ç”¨\texttt{resample()}æŠŠæ—¥çº¿è½¬ä¸ºå‘¨çº¿å’Œæœˆçº¿ï¼Œå‡é€‰æ‹©æ”¶ç›˜ä»·ã€‚
\item
  ç”¨\texttt{pct\_change()}åˆ†åˆ«è®¡ç®—å‘¨å’Œæœˆçš„æ”¶ç›Šç‡ã€‚
\end{enumerate}

å½“ç„¶ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨å·®åˆ†æ¥è®¡ç®—ã€‚

æ³¨æ„ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  æ•™æçš„ç®—æ³•ä¸å¯¹ã€‚æ”¶ç›Šç‡æ˜¯``æœ¬å‘¨æœŸçš„æœŸæœ«ä»·æ ¼''ç›¸å¯¹``ä¸Šä¸€ä¸ªå‘¨æœŸçš„æœŸæœ«ä»·æ ¼''çš„å˜åŒ–ç‡ã€‚
  å¦‚æœæ˜¯æ—¥é¢‘ï¼Œåˆ™æ˜¯ä»Šå¤©æ”¶ç›˜ä»·ç›¸å¯¹ä¸Šä¸€ä¸ªäº¤æ˜“æ—¥çš„æ”¶ç›˜ä»·çš„å˜åŒ–ã€‚å¦‚æœæ˜¯å‘¨é¢‘ï¼Œåˆ™æ˜¯æœ¬å‘¨æœ€åä¸€å¤©çš„æ”¶ç›˜ä»·ï¼Œç›¸å¯¹ä¸Šä¸€å‘¨æœ€åä¸€å¤©æ”¶ç›˜ä»·çš„å˜åŒ–ã€‚è€Œä¸æ˜¯æœ€åä¸€å¤©çš„ä»·æ ¼ç›¸å¯¹ç¬¬ä¸€å¤©çš„ä»·æ ¼çš„å˜åŒ–ã€‚
\item
  æ•™æçš„åšæ³•ä¸ä½³ã€‚åº”ä¼˜å…ˆä½¿ç”¨Pythonã€NumPyå’ŒPandasæä¾›å‡½æ•°ï¼Œä¸èƒ½æ»¡è¶³éœ€æ±‚å†è‡ªå·±å†™ç®—æ³•ã€‚å³ä½¿è‡ªå·±å†™ç®—æ³•ï¼Œä¼˜å…ˆè€ƒè™‘åºåˆ—åŒ–æ“ä½œï¼ˆndarrayçš„å¹¿æ’­ï¼Œæˆ–è€…Serieséƒ½å¯ä»¥æ”¯æŒï¼‰ï¼Œæœ€åæ‰è€ƒè™‘ç”¨å¾ªç¯ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä»¥ä¸‹éƒ½æ˜¯ä¾‹è¡Œå…¬äº‹ï¼Œç›´æ¥æ‹·è´å³å¯}

\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np }

\CommentTok{\# å¯¼å…¥matplotlib.pyplotç»˜å›¾åº“ï¼Œå…¶ä¸­plt.plot()æ˜¯æœ€å¸¸ç”¨çš„ç»˜å›¾å‡½æ•°ä¹‹ä¸€}
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt }

\ImportTok{import}\NormalTok{ seaborn }\ImportTok{as}\NormalTok{ sns}

\NormalTok{sns.}\BuiltInTok{set}\NormalTok{() }\CommentTok{\# é»˜è®¤ç”¨seabornçš„ç»˜å›¾æ ·å¼}

\NormalTok{plt.rcParams[}\StringTok{"font.sans{-}serif"}\NormalTok{]}\OperatorTok{=}\NormalTok{[}\StringTok{"Microsoft YaHei"}\NormalTok{] }\CommentTok{\#è®¾ç½®å­—ä½“ã€‚å¦‚æœä¸è®¾ç½®ï¼Œä¸­æ–‡ä¼šä¹±ç ã€‚è¿™é‡Œé‡‡ç”¨å¾®è½¯é›…é»‘\textquotesingle{}Microsoft YaHei\textquotesingle{}ï¼Œå¦‚æœæ˜¾ç¤ºä¸æ­£å¸¸ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»‘ä½“\textquotesingle{}SimHei\textquotesingle{}æˆ–è€…å®‹ä½“\textquotesingle{}SimSun\textquotesingle{}ç­‰}
\NormalTok{plt.rcParams[}\StringTok{"axes.unicode\_minus"}\NormalTok{]}\OperatorTok{=}\VariableTok{False} \CommentTok{\#è¯¥è¯­å¥è§£å†³å›¾åƒä¸­çš„â€œ{-}â€è´Ÿå·çš„ä¹±ç é—®é¢˜}

\CommentTok{\# ç»˜å›¾ä½¿ç”¨\textquotesingle{}svg\textquotesingle{}åç«¯ï¼šsvgæ˜¯çŸ¢é‡æ ¼å¼ï¼Œå¯ä»¥ä»»æ„ç¼©æ”¾å‡ä¿æŒæ¸…æ™°ï¼Œå„ç§å±å¹•çš„æ˜¾ç¤ºè‰¯å¥½ã€‚}
\OperatorTok{\%}\NormalTok{config InlineBackend.figure\_formats }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}svg\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#  è¯»å–æ•°æ®å¹¶æŸ¥çœ‹}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/case7.2/IDX\_Idxtrd.xlsx\textquotesingle{}}\NormalTok{)}
\NormalTok{df.head() }
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& Indexcd & Idxtrd01 & Idxtrd05 \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2 & 2017-01-03 & 3283.45 \\
1 & 2 & 2017-01-04 & 3307.45 \\
2 & 2 & 2017-01-05 & 3314.39 \\
3 & 2 & 2017-01-06 & 3302.79 \\
4 & 2 & 2017-01-09 & 3320.53 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 244 entries, 0 to 243
Data columns (total 3 columns):
 #   Column    Non-Null Count  Dtype  
---  ------    --------------  -----  
 0   Indexcd   244 non-null    int64  
 1   Idxtrd01  244 non-null    object 
 2   Idxtrd05  244 non-null    float64
dtypes: float64(1), int64(1), object(1)
memory usage: 5.8+ KB
\end{verbatim}

è§‚å¯Ÿç»“æœï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  åªæœ‰1åªè‚¡ç¥¨ï¼Œå› æ­¤è‚¡ç¥¨ä»£ç åˆ—ç”¨ä¸åˆ°ï¼Œå› æ­¤è™½ç„¶è¿™é‡Œç±»å‹é”™äº†ï¼Œä½†å¯ä»¥ä¸ç”¨å¤„ç†ï¼ˆå›å¿†å¯¹åº”ç« èŠ‚ï¼‰ã€‚
\item
  æ—¥æœŸåˆ—æ˜¯strï¼Œè¦ä¿®æ­£ï¼Œä»·æ ¼åˆ—æ²¡é—®é¢˜ã€‚
\item
  æ¯åˆ—çš„åå­—è¦æ”¹ï¼Œä¸­è‹±æ–‡çš†å¯ï¼Œä½†æ˜¯è¦é¡¾åæ€ä¹‰ï¼Œä¸èƒ½ç”¨æ— æ„ä¹‰çš„ä»£å·ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price\_d }\OperatorTok{=}\NormalTok{ df.iloc[:,[}\DecValTok{1}\NormalTok{,}\DecValTok{2}\NormalTok{]]}
\NormalTok{price\_d.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{]}
\NormalTok{price\_d.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& date & close \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2017-01-03 & 3283.45 \\
1 & 2017-01-04 & 3307.45 \\
2 & 2017-01-05 & 3314.39 \\
3 & 2017-01-06 & 3302.79 \\
4 & 2017-01-09 & 3320.53 \\
\end{longtable}

å¤„ç†æˆæ—¶é—´åºåˆ—æ•°æ®

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è¦åˆ©ç”¨Pandasæ—¶é—´åºåˆ—çš„ç‰¹æ€§ï¼Œé¦–å…ˆè¦æŠŠæ•°æ®è½¬ä¸ºæ—¶é—´åºåˆ—æ ¼å¼}
\NormalTok{price\_d[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ pd.to\_datetime(price\_d[}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{])}
\NormalTok{price\_d.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{price\_d.head()}

\CommentTok{\# ä»åŸå§‹æ•°æ®ä¸­æ•´ç†å¾—åˆ°çš„æ—¶é—´åºåˆ—æ•°æ®å°±å®Œæˆäº†ã€‚}
\CommentTok{\# æ£€éªŒè¿‡æ•°æ®æ²¡é—®é¢˜ï¼Œè¿™ä¸ªè­¦å‘Šå¯ä»¥æ— è§†ã€‚}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/tmp/ipykernel_894/753111952.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  price_d['date'] = pd.to_datetime(price_d['date'])
\end{verbatim}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& close \\
date & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2017-01-03 & 3283.45 \\
2017-01-04 & 3307.45 \\
2017-01-05 & 3314.39 \\
2017-01-06 & 3302.79 \\
2017-01-09 & 3320.53 \\
\end{longtable}

ç®€å•ç»˜åˆ¶ä¸€ä¸‹ä»·æ ¼èµ°åŠ¿å›¾

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price\_d.plot()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/32-basic_examples_files/figure-pdf/cell-7-output-1.pdf}

}

\end{figure}

æ—¥çº¿è½¬å‘¨çº¿ï¼šæ³¨æ„\texttt{resample}åªèƒ½ç”¨åœ¨æ—¶é—´åºåˆ—æ•°æ®ä¸Šã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price\_w }\OperatorTok{=}\NormalTok{ price\_d.resample(}\StringTok{\textquotesingle{}W\textquotesingle{}}\NormalTok{).last()}
\NormalTok{price\_w.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& close \\
date & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2017-01-08 & 3302.79 \\
2017-01-15 & 3259.27 \\
2017-01-22 & 3270.33 \\
2017-01-29 & 3308.06 \\
2017-02-05 & 3288.17 \\
\end{longtable}

è®¡ç®—å‘¨å›æŠ¥ç‡ï¼šåœ¨å‘¨çº¿ä¸Šè°ƒç”¨æ–¹æ³•\texttt{pct\_change()}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è®¡ç®—å‘¨å›æŠ¥ç‡}
\NormalTok{price\_w[}\StringTok{\textquotesingle{}return\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ price\_w[}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{].pct\_change().}\BuiltInTok{round}\NormalTok{(}\DecValTok{4}\NormalTok{)}
\NormalTok{price\_w.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& close & return \\
date & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2017-01-08 & 3302.79 & NaN \\
2017-01-15 & 3259.27 & -0.0132 \\
2017-01-22 & 3270.33 & 0.0034 \\
2017-01-29 & 3308.06 & 0.0115 \\
2017-02-05 & 3288.17 & -0.0060 \\
\end{longtable}

åŒæ ·çš„æ–¹æ³•è®¡ç®—æœˆçº¿å’Œæœˆå›æŠ¥ç‡ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è½¬ä¸ºæœˆçº¿ï¼šæ¯æœˆæœ€åä¸€å¤©çš„æ”¶ç›˜ä»·}
\NormalTok{price\_m }\OperatorTok{=}\NormalTok{ price\_d.resample(}\StringTok{\textquotesingle{}M\textquotesingle{}}\NormalTok{).last()}
\NormalTok{price\_m.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& close \\
date & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2017-01-31 & 3308.06 \\
2017-02-28 & 3394.50 \\
2017-03-31 & 3374.67 \\
2017-04-30 & 3303.44 \\
2017-05-31 & 3264.54 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è®¡ç®—æœˆå›æŠ¥ç‡}
\NormalTok{price\_m[}\StringTok{\textquotesingle{}return\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ price\_m[}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{].pct\_change().}\BuiltInTok{round}\NormalTok{(}\DecValTok{4}\NormalTok{)}
\NormalTok{price\_m.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& close & return \\
date & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2017-01-31 & 3308.06 & NaN \\
2017-02-28 & 3394.50 & 0.0261 \\
2017-03-31 & 3374.67 & -0.0058 \\
2017-04-30 & 3303.44 & -0.0211 \\
2017-05-31 & 3264.54 & -0.0118 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç®€å•éªŒç®—}
\FloatTok{3394.50} \OperatorTok{/} \FloatTok{3308.06} \OperatorTok{{-}} \DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.026130118558913784
\end{verbatim}

\hypertarget{ux4e0aux5e02ux516cux53f8ux51c0ux5229ux6da6ux589eux957fux7387}{%
\section{ä¸Šå¸‚å…¬å¸å‡€åˆ©æ¶¦å¢é•¿ç‡}\label{ux4e0aux5e02ux516cux53f8ux51c0ux5229ux6da6ux589eux957fux7387}}

ï¼ˆåŸ7.3å°èŠ‚ï¼Œp143ï¼‰

\hypertarget{ux8981ux6c42-1}{%
\subsection{è¦æ±‚}\label{ux8981ux6c42-1}}

ä»æ•°æ®ä¸­æ‰¾å‡ºè¿ç»­3å¹´ï¼Œå‡€åˆ©æ¶¦å¢é•¿ç‡éƒ½åœ¨40\%ä»¥ä¸Šçš„å…¬å¸ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{data2.xlsx}ï¼šåˆ©æ¶¦è¡¨
\item
  \texttt{info.xlsx}ï¼šè‚¡ç¥¨ä»£ç ã€ç®€ç§°å’Œè¡Œä¸š
\end{enumerate}

\hypertarget{ux601dux8defux548cux5b9eux73b0-1}{%
\subsection{æ€è·¯å’Œå®ç°}\label{ux601dux8defux548cux5b9eux73b0-1}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{merge()}æŒ‰ä»£ç åˆ—åˆå¹¶æ•°æ®
\item
  \texttt{groupby()}æŒ‰ä»£ç åˆ†ç»„ï¼Œ\texttt{pct\_change()}è®¡ç®—ç™¾åˆ†æ¯”å˜åŒ–ï¼ˆåˆ†ç»„åæ˜¾ç„¶å°±æ˜¯æ¯ä¸ªè‚¡ç¥¨è‡ªå·±å’Œè‡ªå·±ç›¸æ¯”ï¼Œåˆ©æ¶¦çš„å¹´åº¦å¢é•¿ç‡ï¼‰
\item
  \texttt{groupby()}æŒ‰ä»£ç åˆ†ç»„ï¼Œå¾ªç¯æ¯ä¸ªç»„ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä¾‹è¡Œå…¬äº‹ï¼Œä¸€èˆ¬ä¸€ä¸ªipynbæˆ–è€….pyæ–‡ä»¶æœ€å‰é¢importä¸€æ¬¡å³å¯}
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np}

\NormalTok{df1 }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/case7.3/data2.xlsx\textquotesingle{}}\NormalTok{,converters}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}Stkcd\textquotesingle{}}\NormalTok{:}\BuiltInTok{str}\NormalTok{, }\StringTok{\textquotesingle{}Accper\textquotesingle{}}\NormalTok{:pd.to\_datetime\})}
\NormalTok{df1.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& Stkcd & Accper & B002000101 \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000016 & 2014-12-31 & 5.262353e+07 \\
1 & 000016 & 2015-12-31 & -1.256819e+09 \\
2 & 000016 & 2016-12-31 & 9.567303e+07 \\
3 & 000016 & 2017-12-31 & 5.057025e+09 \\
4 & 000020 & 2014-12-31 & 7.687620e+06 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df2 }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/info.xlsx\textquotesingle{}}\NormalTok{,converters }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}Stkcd\textquotesingle{}}\NormalTok{:}\BuiltInTok{str}\NormalTok{\})}
\NormalTok{df2.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& Stkcd & Stknme & Nnindnme \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000016 & æ·±åº·ä½³A & è®¡ç®—æœºã€é€šä¿¡å’Œå…¶ä»–ç”µå­è®¾å¤‡åˆ¶é€ ä¸š \\
1 & 000020 & æ·±åå‘A & è®¡ç®—æœºã€é€šä¿¡å’Œå…¶ä»–ç”µå­è®¾å¤‡åˆ¶é€ ä¸š \\
2 & 000021 & æ·±ç§‘æŠ€ & è®¡ç®—æœºã€é€šä¿¡å’Œå…¶ä»–ç”µå­è®¾å¤‡åˆ¶é€ ä¸š \\
3 & 000045 & æ·±çººç»‡A & è®¡ç®—æœºã€é€šä¿¡å’Œå…¶ä»–ç”µå­è®¾å¤‡åˆ¶é€ ä¸š \\
4 & 000050 & æ·±å¤©é©¬A & è®¡ç®—æœºã€é€šä¿¡å’Œå…¶ä»–ç”µå­è®¾å¤‡åˆ¶é€ ä¸š \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ£€æŸ¥ä¸€ä¸‹æ•°æ®ï¼Œè¡Œä¸šåç§°å»é‡ï¼ŒæŸ¥çœ‹æœ‰å‡ ä¸ªè¡Œä¸šï¼š}
\CommentTok{\# å›å¿†ä½œä¸š1ï¼šæˆ‘ä»¬åšè¿‡è‡ªå·±çš„uniqueå‡½æ•°ã€‚}
\NormalTok{df2.Nnindnme.unique()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array(['è®¡ç®—æœºã€é€šä¿¡å’Œå…¶ä»–ç”µå­è®¾å¤‡åˆ¶é€ ä¸š'], dtype=object)
\end{verbatim}

æŠŠ2ä¸ªæ•°æ®æŒ‰è‚¡ç¥¨ä»£ç åˆ—è¿›è¡Œåˆå¹¶ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¿™ä¸ªæ–°æ•°æ®è¿›è¡Œå¤„ç†ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# mergeä¸¤ä¸ªæ•°æ®ï¼Œå»æ‰è¡Œä¸šåˆ—ï¼Œå› ä¸ºè¡Œä¸šå…¨éƒ¨ç›¸åŒã€‚}
\NormalTok{profit\_y }\OperatorTok{=}\NormalTok{ df1.merge(df2).drop(}\StringTok{\textquotesingle{}Nnindnme\textquotesingle{}}\NormalTok{,axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\NormalTok{profit\_y.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}ä¼šè®¡å¹´åº¦\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}å‡€åˆ©æ¶¦\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}è‚¡ç¥¨ç®€ç§°\textquotesingle{}}\NormalTok{]}
\NormalTok{profit\_y.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & ä¼šè®¡å¹´åº¦ & å‡€åˆ©æ¶¦ & è‚¡ç¥¨ç®€ç§° \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000016 & 2014-12-31 & 5.262353e+07 & æ·±åº·ä½³A \\
1 & 000016 & 2015-12-31 & -1.256819e+09 & æ·±åº·ä½³A \\
2 & 000016 & 2016-12-31 & 9.567303e+07 & æ·±åº·ä½³A \\
3 & 000016 & 2017-12-31 & 5.057025e+09 & æ·±åº·ä½³A \\
4 & 000020 & 2014-12-31 & 7.687620e+06 & æ·±åå‘A \\
\end{longtable}

æ±‚æ¯åªè‚¡ç¥¨çš„å¹´åº¦å‡€åˆ©æ¶¦å¢é•¿ç‡ï¼šå…ˆæŒ‰è‚¡ç¥¨åˆ†ç»„ï¼Œå†å¯¹å‡€åˆ©æ¶¦åˆ—è°ƒç”¨\texttt{pct\_change()}æ±‚ç™¾åˆ†æ¯”å˜åŒ–ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{growth }\OperatorTok{=}\NormalTok{ profit\_y.groupby(}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{}}\NormalTok{)[}\StringTok{\textquotesingle{}å‡€åˆ©æ¶¦\textquotesingle{}}\NormalTok{].pct\_change()}
\NormalTok{profit\_y[}\StringTok{\textquotesingle{}å¢é•¿ç‡\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ growth}
\NormalTok{profit\_y.head(}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & ä¼šè®¡å¹´åº¦ & å‡€åˆ©æ¶¦ & è‚¡ç¥¨ç®€ç§° & å¢é•¿ç‡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000016 & 2014-12-31 & 5.262353e+07 & æ·±åº·ä½³A & NaN \\
1 & 000016 & 2015-12-31 & -1.256819e+09 & æ·±åº·ä½³A & -24.883220 \\
2 & 000016 & 2016-12-31 & 9.567303e+07 & æ·±åº·ä½³A & -1.076123 \\
3 & 000016 & 2017-12-31 & 5.057025e+09 & æ·±åº·ä½³A & 51.857375 \\
4 & 000020 & 2014-12-31 & 7.687620e+06 & æ·±åå‘A & NaN \\
5 & 000020 & 2015-12-31 & -4.200846e+06 & æ·±åå‘A & -1.546443 \\
6 & 000020 & 2016-12-31 & 5.457710e+06 & æ·±åå‘A & -2.299193 \\
7 & 000020 & 2017-12-31 & 9.744094e+05 & æ·±åå‘A & -0.821462 \\
\end{longtable}

æ³¨æ„ï¼šå‡å¦‚ä¸æŒ‰è‚¡ç¥¨åˆ†ç»„ï¼Œç›´æ¥å–å‡€åˆ©æ¶¦æ±‚å¢é•¿ç‡ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°æŸä¸€åªè‚¡ç¥¨çš„ç¬¬ä¸€ä¸ªåˆ©æ¶¦ï¼Œå‡å»å‰ä¸€åªè‚¡ç¥¨æœ€åä¸€ä¸ªåˆ©æ¶¦çš„æƒ…å†µã€‚

å¦‚ä¸Šè¡¨ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç¬¬4è¡Œï¼Œæ·±åå‘2014å¹´çš„å¢é€Ÿï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰2013å¹´çš„æ•°æ®ï¼Œå› æ­¤æ— æ³•è®¡ç®—ï¼Œç»“æœæ˜¾ç¤ºNAæ˜¯æ­£ç¡®çš„ã€‚
\item
  å¦‚æœä¸åˆ†ç»„ï¼Œåˆ™ä¼šä½¿ç”¨æ·±åå‘2014å¹´çš„åˆ©æ¶¦ï¼ˆç¬¬4è¡Œï¼‰å’Œæ·±åº·ä½³2017å¹´ï¼ˆç¬¬3è¡Œï¼‰è¿›è¡Œæ¯”è¾ƒï¼Œæ˜¾ç„¶å¹¶ä¸æ­£ç¡®ã€‚
\end{enumerate}

å¯¹åˆ†ç»„è¿›è¡Œå¾ªç¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´æ˜æ˜¾ç¬¬çœ‹åˆ°è¿™ä¸€ç‚¹ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å…ˆç½—åˆ—ä¸€ä¸‹å‰å‡ åªè‚¡ç¥¨}
\ControlFlowTok{for}\NormalTok{ i,x }\KeywordTok{in}\NormalTok{ profit\_y.iloc[:}\DecValTok{12}\NormalTok{].groupby(}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{}}\NormalTok{):}
\NormalTok{    display(x) }\CommentTok{\# ç±»ä¼¼äºprint()å‡½æ•°ï¼Œdisplay()ä¹Ÿå¯ä»¥æŠŠæ•°æ®æ˜¾ç¤ºå‡ºæ¥ï¼Œä½†å¯¹äºDataFrameçš„æ˜¾ç¤ºæ¯”è¾ƒå¥½}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & ä¼šè®¡å¹´åº¦ & å‡€åˆ©æ¶¦ & è‚¡ç¥¨ç®€ç§° & å¢é•¿ç‡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000016 & 2014-12-31 & 5.262353e+07 & æ·±åº·ä½³A & NaN \\
1 & 000016 & 2015-12-31 & -1.256819e+09 & æ·±åº·ä½³A & -24.883220 \\
2 & 000016 & 2016-12-31 & 9.567303e+07 & æ·±åº·ä½³A & -1.076123 \\
3 & 000016 & 2017-12-31 & 5.057025e+09 & æ·±åº·ä½³A & 51.857375 \\
\end{longtable}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & ä¼šè®¡å¹´åº¦ & å‡€åˆ©æ¶¦ & è‚¡ç¥¨ç®€ç§° & å¢é•¿ç‡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
4 & 000020 & 2014-12-31 & 7687620.27 & æ·±åå‘A & NaN \\
5 & 000020 & 2015-12-31 & -4200845.61 & æ·±åå‘A & -1.546443 \\
6 & 000020 & 2016-12-31 & 5457710.33 & æ·±åå‘A & -2.299193 \\
7 & 000020 & 2017-12-31 & 974409.39 & æ·±åå‘A & -0.821462 \\
\end{longtable}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & ä¼šè®¡å¹´åº¦ & å‡€åˆ©æ¶¦ & è‚¡ç¥¨ç®€ç§° & å¢é•¿ç‡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
8 & 000021 & 2014-12-31 & 1.756764e+08 & æ·±ç§‘æŠ€ & NaN \\
9 & 000021 & 2015-12-31 & 1.806603e+08 & æ·±ç§‘æŠ€ & 0.028370 \\
10 & 000021 & 2016-12-31 & 2.144235e+08 & æ·±ç§‘æŠ€ & 0.186888 \\
11 & 000021 & 2017-12-31 & 5.413030e+08 & æ·±ç§‘æŠ€ & 1.524457 \\
\end{longtable}

ç»§ç»­å¯¹åˆ†ç»„æ•°æ®è¿›è¡Œå¾ªç¯ï¼Œæå–''å¢é•¿ç‡æœ€å3ä¸ªå€¼å…¨éƒ¨å¤§äºç­‰äº0.4''çš„ç»„ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¼€å§‹å¾ªç¯æ¯åªè‚¡ç¥¨çš„åˆ†ç»„DataFrame}
\CommentTok{\# å¦‚æœç¬¦åˆè¦æ±‚ï¼ˆä¸‰å¹´å‡€åˆ©æ¶¦å¢é€Ÿéƒ½\textgreater{}=0.4ï¼‰ï¼Œæ·»åŠ åˆ°ç©ºåˆ—è¡¨result}

\NormalTok{result }\OperatorTok{=}\NormalTok{ []}
\ControlFlowTok{for}\NormalTok{ i,x }\KeywordTok{in}\NormalTok{ profit\_y.groupby(}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{}}\NormalTok{):}
    \ControlFlowTok{if} \BuiltInTok{all}\NormalTok{(x[}\StringTok{\textquotesingle{}å¢é•¿ç‡\textquotesingle{}}\NormalTok{].tail(}\DecValTok{3}\NormalTok{) }\OperatorTok{\textgreater{}=} \FloatTok{0.4}\NormalTok{):}
\NormalTok{        result.append(x)}

\NormalTok{result }\OperatorTok{=}\NormalTok{ pd.concat(result)}
\NormalTok{result.head(}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & ä¼šè®¡å¹´åº¦ & å‡€åˆ©æ¶¦ & è‚¡ç¥¨ç®€ç§° & å¢é•¿ç‡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
286 & 002383 & 2014-12-31 & 4.005807e+07 & åˆä¼—æ€å£® & NaN \\
287 & 002383 & 2015-12-31 & 6.057712e+07 & åˆä¼—æ€å£® & 0.512233 \\
288 & 002383 & 2016-12-31 & 9.644973e+07 & åˆä¼—æ€å£® & 0.592181 \\
289 & 002383 & 2017-12-31 & 2.419267e+08 & åˆä¼—æ€å£® & 1.508319 \\
310 & 002402 & 2014-12-31 & 4.505389e+07 & å’Œè€Œæ³° & NaN \\
311 & 002402 & 2015-12-31 & 7.494657e+07 & å’Œè€Œæ³° & 0.663487 \\
312 & 002402 & 2016-12-31 & 1.196604e+08 & å’Œè€Œæ³° & 0.596609 \\
313 & 002402 & 2017-12-31 & 1.781037e+08 & å’Œè€Œæ³° & 0.488410 \\
\end{longtable}

\hypertarget{ux957fux8868ux548cux5bbdux8868ux7684ux8f6cux6362}{%
\subsection{é•¿è¡¨å’Œå®½è¡¨çš„è½¬æ¢}\label{ux957fux8868ux548cux5bbdux8868ux7684ux8f6cux6362}}

é¦–å…ˆæ„é€ ä¸€ä¸ªç¤ºä¾‹æ•°æ®ï¼šè¿™æ˜¯ä¸€ä¸ªæœ€ä¸€èˆ¬çš„æ—¶é—´åºåˆ—æ•°æ®ï¼šABCä¸ªè§‚å¯Ÿå¯¹è±¡ï¼ˆäººæˆ–è€…å…¬å¸ç­‰ç­‰ï¼‰ï¼Œåœ¨2022-01-01åˆ°2022-01-03è¿™ä¸‰å¤©é‡Œçš„æŸä¸ªå±æ€§ã€‚

æ¯”å¦‚ï¼š3å®¶ä¸Šå¸‚å…¬å¸3å¤©çš„è‚¡ä»·ï¼›3ä¸ªäºº3å¤©çš„å¿ƒæƒ…æŒ‡æ•°ï¼›ç­‰ç­‰ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ„é€ ç¤ºä¾‹æ•°æ®}
\NormalTok{df\_long }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{: }\BuiltInTok{list}\NormalTok{(pd.date\_range(}\StringTok{\textquotesingle{}2022{-}01{-}01\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}2022{-}01{-}03\textquotesingle{}}\NormalTok{))}\OperatorTok{*}\DecValTok{3}\NormalTok{,}
                        \StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{: [}\StringTok{\textquotesingle{}A\textquotesingle{}}\NormalTok{]}\OperatorTok{*}\DecValTok{3} \OperatorTok{+}\NormalTok{ [}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{]}\OperatorTok{*}\DecValTok{3} \OperatorTok{+}\NormalTok{ [}\StringTok{\textquotesingle{}C\textquotesingle{}}\NormalTok{]}\OperatorTok{*}\DecValTok{3}\NormalTok{,}
                        \StringTok{\textquotesingle{}value\textquotesingle{}}\NormalTok{: np.random.randint(}\DecValTok{1}\NormalTok{, }\DecValTok{10}\NormalTok{, }\DecValTok{9}\NormalTok{)\})}
\NormalTok{df\_long}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& date & name & value \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2022-01-01 & A & 1 \\
1 & 2022-01-02 & A & 9 \\
2 & 2022-01-03 & A & 2 \\
3 & 2022-01-01 & B & 5 \\
4 & 2022-01-02 & B & 5 \\
5 & 2022-01-03 & B & 7 \\
6 & 2022-01-01 & C & 8 \\
7 & 2022-01-02 & C & 3 \\
8 & 2022-01-03 & C & 8 \\
\end{longtable}

è¿™æ˜¯ä¸€ä¸ª``é•¿æ•°æ® long data''ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ¯ä¸€åˆ—æ˜¯ä¸€ä¸ªå±æ€§ã€‚
\item
  æ¯ä¸€è¡Œæœ‰1ä¸ªæˆ–è€…å¤šä¸ªè§‚æµ‹å€¼ã€‚æ¯”å¦‚ç¬¬ä¸€è¡Œæ˜¯è¢«è§‚å¯Ÿå¯¹è±¡Aåœ¨2022å¹´1æœˆ1æ—¥çš„æŸä¸ªå±æ€§ï¼Œå€¼ä¸º3ã€‚
\end{enumerate}

å› ä¸ºæ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ªå±æ€§ï¼Œå› æ­¤ä½ å¯ä»¥é€šè¿‡ç®€å•çš„è¡Œç­›é€‰åˆ—æ¥æ‰¾åˆ°ä½ è¦çš„å€¼ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_long.query(}\StringTok{\textquotesingle{}date == "2022{-}01{-}02" \& name == "B"\textquotesingle{}}\NormalTok{)[}\StringTok{\textquotesingle{}value\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
4    5
Name: value, dtype: int64
\end{verbatim}

å®½æ•°æ®åˆ™ä¸åŒï¼šè¡Œæ ‡ç­¾è¡¨ç¤ºæŸä¸ªï¼ˆæˆ–è€…å‡ ä¸ªï¼‰å±æ€§çš„å–å€¼ï¼Œåˆ—æ ‡ç­¾è¡¨ç¤ºå¦ä¸€ä¸ªï¼ˆæˆ–è€…å‡ ä¸ªï¼‰å±æ€§çš„å–å€¼ï¼Œè¡¨æ ¼çš„å†…å®¹å°±æ˜¯æ•°æ®ã€‚

ä¸‹è¡¨æ˜¯ä¸ª``å®½æ•°æ®''ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¡Œæ ‡ç­¾æ˜¯æ—¥æœŸï¼Œåˆ—æ ‡ç­¾æ˜¯å§“å
\item
  è¡Œå’Œåˆ—ï¼ˆæ—¥æœŸ-å§“åï¼‰å…±åŒæŒ‡ç¤ºä¸€ä¸ªæ•°æ®ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_wide }\OperatorTok{=}\NormalTok{ df\_long.pivot(index }\OperatorTok{=} \StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,columns }\OperatorTok{=} \StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{,values }\OperatorTok{=} \StringTok{\textquotesingle{}value\textquotesingle{}}\NormalTok{)}
\NormalTok{df\_wide}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
name & A & B & C \\
date & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2022-01-01 & 1 & 5 & 8 \\
2022-01-02 & 9 & 5 & 3 \\
2022-01-03 & 2 & 7 & 8 \\
\end{longtable}

å› æ­¤é€‰æ‹©æ•°æ®å¾€å¾€è¦åŒæ—¶é€‰æ‹©è¡Œå’Œåˆ—ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_wide.loc[}\StringTok{\textquotesingle{}2022{-}01{-}02\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}B\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
5
\end{verbatim}

é•¿æ•°æ®è½¬å®½æ•°æ®ï¼Œä½¿ç”¨ \texttt{.pivot()}ï¼Œ3ä¸ªå‚æ•°:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  index:
  é€‰æ‹©é‚£ä¸€åˆ—ï¼ˆæˆ–è€…å‡ åˆ—ï¼‰ï¼Œä½œä¸ºå®½è¡¨çš„è¡Œæ ‡ç­¾ï¼ˆä½ å¸Œæœ›è¡Œæ˜¯ä»€ä¹ˆï¼Ÿè¿™é‡Œé€‰æ‹©æ¯è¡Œæ˜¯ä¸€ä¸ªäººï¼‰
\item
  columns:
  é€‰æ‹©é‚£ä¸€åˆ—ï¼ˆæˆ–è€…å‡ åˆ—ï¼‰ï¼Œä½œä¸ºå®½è¡¨çš„åˆ—æ ‡ç­¾ï¼ˆä½ å¸Œæœ›åˆ—æ˜¯ä»€ä¹ˆï¼Ÿè¿™é‡Œé€‰æ‹©æ¯åˆ—æ˜¯æ—¥æœŸï¼‰
\item
  value: è¡Œåˆ—æ‰€å†³å®šçš„æ•°æ®ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_long.pivot(index }\OperatorTok{=} \StringTok{\textquotesingle{}name\textquotesingle{}}\NormalTok{,columns }\OperatorTok{=} \StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,values }\OperatorTok{=} \StringTok{\textquotesingle{}value\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
date & 2022-01-01 & 2022-01-02 & 2022-01-03 \\
name & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
A & 1 & 9 & 2 \\
B & 5 & 5 & 7 \\
C & 8 & 3 & 8 \\
\end{longtable}

æ³¨æ„ï¼Œè¿™ä¸ªå®½è¡¨å’Œå‰é¢çš„å®½è¡¨ä¸åŒï¼šè¡Œåˆ—æ­£å¥½å¯¹æ¢ã€‚åŒæ ·çš„é•¿è¡¨ï¼Œå¯èƒ½å› ä¸ºä½ é€‰æ‹©ä¸åŒçš„è¡Œæˆ–è€…åˆ—ï¼Œå¯ä»¥å½¢æˆä¸åŒçš„å®½è¡¨ï¼Œä½†å«ä¹‰æ˜¯ä¸€æ ·çš„ã€‚é€‰æ‹©ä»€ä¹ˆä½œä¸ºè¡Œå’Œåˆ—ï¼Œä¸»è¦çœ‹å¯¹è¡¨æ ¼çš„è¦æ±‚ï¼Œæˆ–è€…å¯¹åç»­åˆ†æçš„ä¾¿åˆ©ã€‚

é‚£ä¹ˆå®½è¡¨è½¬é•¿è¡¨å‘¢ï¼Ÿç”¨\texttt{.stack()}ï¼Œæ°å¥½æ˜¯é•¿è½¬å®½åè¿‡æ¥ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_wide.stack().reset\_index() }\CommentTok{\# æ³¨æ„åˆ—åæ˜¯0ï¼Œä½ è¦æ‰‹åŠ¨æ”¹ä¸€ä¸‹ï¼Œè¿™é‡Œç•¥}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& date & name & 0 \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2022-01-01 & A & 1 \\
1 & 2022-01-01 & B & 5 \\
2 & 2022-01-01 & C & 8 \\
3 & 2022-01-02 & A & 9 \\
4 & 2022-01-02 & B & 5 \\
5 & 2022-01-02 & C & 3 \\
6 & 2022-01-03 & A & 2 \\
7 & 2022-01-03 & B & 7 \\
8 & 2022-01-03 & C & 8 \\
\end{longtable}

\hypertarget{ux56deux5230ux6848ux4f8b}{%
\subsection{å›åˆ°æ¡ˆä¾‹}\label{ux56deux5230ux6848ux4f8b}}

æŸ¥çœ‹æˆ‘ä»¬çš„æ•°æ®ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result.head(}\DecValTok{8}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & ä¼šè®¡å¹´åº¦ & å‡€åˆ©æ¶¦ & è‚¡ç¥¨ç®€ç§° & å¢é•¿ç‡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
286 & 002383 & 2014-12-31 & 4.005807e+07 & åˆä¼—æ€å£® & NaN \\
287 & 002383 & 2015-12-31 & 6.057712e+07 & åˆä¼—æ€å£® & 0.512233 \\
288 & 002383 & 2016-12-31 & 9.644973e+07 & åˆä¼—æ€å£® & 0.592181 \\
289 & 002383 & 2017-12-31 & 2.419267e+08 & åˆä¼—æ€å£® & 1.508319 \\
310 & 002402 & 2014-12-31 & 4.505389e+07 & å’Œè€Œæ³° & NaN \\
311 & 002402 & 2015-12-31 & 7.494657e+07 & å’Œè€Œæ³° & 0.663487 \\
312 & 002402 & 2016-12-31 & 1.196604e+08 & å’Œè€Œæ³° & 0.596609 \\
313 & 002402 & 2017-12-31 & 1.781037e+08 & å’Œè€Œæ³° & 0.488410 \\
\end{longtable}

æˆ‘ä»¬å¯ä»¥è½¬ä¸ºï¼šæ¯è¡Œæ˜¯``è‚¡ç¥¨ä»£ç +åç§°''ï¼Œæ¯åˆ—æ˜¯``ä¼šè®¡å¹´åº¦''ï¼Œæ•°æ®æ˜¯``å¢é•¿ç‡''

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result.pivot(index}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}è‚¡ç¥¨ç®€ç§°\textquotesingle{}}\NormalTok{], columns}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}ä¼šè®¡å¹´åº¦\textquotesingle{}}\NormalTok{],}
\NormalTok{             values}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}å¢é•¿ç‡\textquotesingle{}}\NormalTok{]).dropna(axis}\OperatorTok{=}\DecValTok{1}\NormalTok{).}\BuiltInTok{round}\NormalTok{(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& &
\multicolumn{3}{>{\raggedright\arraybackslash}p{(\columnwidth - 8\tabcolsep) * \real{0.0000} + 4\tabcolsep}@{}}{%
å¢é•¿ç‡} \\
& ä¼šè®¡å¹´åº¦ & 2015-12-31 & 2016-12-31 & 2017-12-31 \\
è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨ç®€ç§° & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
002383 & åˆä¼—æ€å£® & 0.51 & 0.59 & 1.51 \\
002402 & å’Œè€Œæ³° & 0.66 & 0.60 & 0.49 \\
002600 & é¢†ç›Šæ™ºé€  & 11.95 & 4.08 & 5.00 \\
300053 & æ¬§æ¯”ç‰¹ & 1.31 & 0.46 & 0.43 \\
300088 & é•¿ä¿¡ç§‘æŠ€ & 0.43 & 0.46 & 0.57 \\
300136 & ä¿¡ç»´é€šä¿¡ & 2.51 & 1.40 & 0.67 \\
300232 & æ´²æ˜ç§‘æŠ€ & 0.87 & 0.47 & 0.71 \\
300296 & åˆ©äºšå¾· & 1.05 & 1.02 & 0.81 \\
600260 & å‡¯ä¹ç§‘æŠ€ & 1.52 & 0.52 & 3.06 \\
600330 & å¤©é€šè‚¡ä»½ & 4.39 & 0.51 & 0.42 \\
600667 & å¤ªæå®ä¸š & 0.66 & 8.86 & 0.80 \\
\end{longtable}

æˆ–è€…ï¼šæ¯è¡Œ``ä¼šè®¡å¹´åº¦''ï¼Œæ¯åˆ—æ˜¯``è‚¡ç¥¨ä»£ç +åç§°''ï¼Œæ•°æ®æ˜¯``å¢é•¿ç‡''

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result.pivot(index}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}ä¼šè®¡å¹´åº¦\textquotesingle{}}\NormalTok{], columns}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}è‚¡ç¥¨ç®€ç§°\textquotesingle{}}\NormalTok{],}
\NormalTok{             values}\OperatorTok{=}\NormalTok{[}\StringTok{\textquotesingle{}å¢é•¿ç‡\textquotesingle{}}\NormalTok{]).dropna(axis}\OperatorTok{=}\DecValTok{0}\NormalTok{).}\BuiltInTok{round}\NormalTok{(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllllll@{}}
\toprule\noalign{}
&
\multicolumn{11}{>{\raggedright\arraybackslash}p{(\columnwidth - 22\tabcolsep) * \real{0.0000} + 20\tabcolsep}@{}}{%
å¢é•¿ç‡} \\
è‚¡ç¥¨ä»£ç  & 002383 & 002402 & 002600 & 300053 & 300088 & 300136 & 300232
& 300296 & 600260 & 600330 & 600667 \\
è‚¡ç¥¨ç®€ç§° & åˆä¼—æ€å£® & å’Œè€Œæ³° & é¢†ç›Šæ™ºé€  & æ¬§æ¯”ç‰¹ & é•¿ä¿¡ç§‘æŠ€ & ä¿¡ç»´é€šä¿¡ &
æ´²æ˜ç§‘æŠ€ & åˆ©äºšå¾· & å‡¯ä¹ç§‘æŠ€ & å¤©é€šè‚¡ä»½ & å¤ªæå®ä¸š \\
ä¼šè®¡å¹´åº¦ & & & & & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2015-12-31 & 0.51 & 0.66 & 11.95 & 1.31 & 0.43 & 2.51 & 0.87 & 1.05 &
1.52 & 4.39 & 0.66 \\
2016-12-31 & 0.59 & 0.60 & 4.08 & 0.46 & 0.46 & 1.40 & 0.47 & 1.02 &
0.52 & 0.51 & 8.86 \\
2017-12-31 & 1.51 & 0.49 & 5.00 & 0.43 & 0.57 & 0.67 & 0.71 & 0.81 &
3.06 & 0.42 & 0.80 \\
\end{longtable}

\hypertarget{ux80a1ux7968ux4ef7ux91cfux8d70ux52bfux56feux7684ux7ed8ux5236}{%
\section{è‚¡ç¥¨ä»·ã€é‡èµ°åŠ¿å›¾çš„ç»˜åˆ¶}\label{ux80a1ux7968ux4ef7ux91cfux8d70ux52bfux56feux7684ux7ed8ux5236}}

ï¼ˆåŸ7.4å°èŠ‚ p145ï¼‰

\hypertarget{ux8981ux6c42-2}{%
\subsection{è¦æ±‚}\label{ux8981ux6c42-2}}

ç»˜åˆ¶è‚¡ä»·çš„èµ°åŠ¿æ›²çº¿ã€æ—¥æˆäº¤é‡æŸ±çŠ¶å›¾ã€æœˆæˆäº¤é‡çš„é¥¼å›¾ï¼Œä»¥åŠä¸‰å›¾å¹¶åˆ—ã€‚

æ•°æ®ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{trd.xlsx}ï¼š3åªè‚¡ç¥¨çš„è‚¡ä»·åºåˆ—ï¼šé•¿æ•°æ®ï¼ˆå›å¿†ä¸Šä¸€èŠ‚ï¼‰
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}
    \StringTok{\textquotesingle{}data/case7.4/trd.xlsx\textquotesingle{}}\NormalTok{, converters}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{}}\NormalTok{: }\BuiltInTok{str}\NormalTok{, }\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{: pd.to\_datetime\})}
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & äº¤æ˜“æ—¥æœŸ & æ”¶ç›˜ä»· & äº¤æ˜“é‡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 600000 & 2017-01-03 & 16.30 & 16237125 \\
1 & 600000 & 2017-01-04 & 16.33 & 29658734 \\
2 & 600000 & 2017-01-05 & 16.30 & 26437646 \\
3 & 600000 & 2017-01-06 & 16.18 & 17195598 \\
4 & 600000 & 2017-01-09 & 16.20 & 14908745 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# çœ‹ä¸€ä¸‹éƒ½æœ‰ä»€ä¹ˆè‚¡ç¥¨}
\NormalTok{df[}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{}}\NormalTok{].unique()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array(['600000', '600004', '600005'], dtype=object)
\end{verbatim}

\hypertarget{ux4ef7ux683cux66f2ux7ebf}{%
\subsection{ä»·æ ¼æ›²çº¿}\label{ux4ef7ux683cux66f2ux7ebf}}

é—®é¢˜1ï¼š ç»˜åˆ¶600000è‚¡ç¥¨ï¼Œ`2017-01-03':'2017-01-20'ä¹‹é—´çš„æ”¶ç›˜ä»·

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  é€‰è‚¡ï¼Œé€‰åˆ—ï¼Œå½¢æˆæ—¶é—´åºåˆ—æ•°æ®
\item
  ç­›é€‰æ—¶é—´æ®µ
\item
  ç»˜å›¾
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{code }\OperatorTok{=} \StringTok{\textquotesingle{}600000\textquotesingle{}}

\NormalTok{x }\OperatorTok{=}\NormalTok{ df.query(}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç  == @code \textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}æ”¶ç›˜ä»·\textquotesingle{}}\NormalTok{]}
\NormalTok{                               ].set\_index(}\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{).loc[}\StringTok{\textquotesingle{}2017{-}01{-}03\textquotesingle{}}\NormalTok{:}\StringTok{\textquotesingle{}2017{-}01{-}20\textquotesingle{}}\NormalTok{]}
\NormalTok{p1 }\OperatorTok{=}\NormalTok{ x.plot(legend}\OperatorTok{=}\VariableTok{None}\NormalTok{)  }\CommentTok{\# ç»˜å›¾æ—¶å»æ‰ legend}
\CommentTok{\# plt.xlim((\textquotesingle{}2016{-}12{-}31\textquotesingle{},\textquotesingle{}2017{-}01{-}22\textquotesingle{}))}
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}æ”¶ç›˜ä»·\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\SpecialStringTok{f\textquotesingle{}}\SpecialCharTok{\{}\NormalTok{code}\SpecialCharTok{\}}\SpecialStringTok{ä»·æ ¼èµ°åŠ¿å›¾\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Text(0.5, 1.0, '600000ä»·æ ¼èµ°åŠ¿å›¾')
\end{verbatim}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/32-basic_examples_files/figure-pdf/cell-31-output-2.pdf}

}

\end{figure}

\hypertarget{ux65e5ux4ea4ux6613ux91cf}{%
\subsection{æ—¥äº¤æ˜“é‡}\label{ux65e5ux4ea4ux6613ux91cf}}

é—®é¢˜2ï¼šç»˜åˆ¶60000,1æœˆä»½çš„äº¤æ˜“é‡æŸ±çŠ¶å›¾

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  é€‰è‚¡ï¼Œé€‰åˆ—ï¼Œæ„é€ æ—¶é—´åºåˆ—æ•°æ®
\item
  é€‰æ‹©æ—¶é—´æ®µ
\item
  ç»˜å›¾
\end{enumerate}

ï¼ˆå’Œä¸Šä¸€é¢˜æ²¡ä»€ä¹ˆåŒºåˆ«ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y }\OperatorTok{=}\NormalTok{ df.query(}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç  == @code \textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}äº¤æ˜“é‡\textquotesingle{}}\NormalTok{]].set\_index(}\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{).loc[}\StringTok{\textquotesingle{}2017{-}01\textquotesingle{}}\NormalTok{]}
\NormalTok{p2 }\OperatorTok{=}\NormalTok{ y[}\StringTok{\textquotesingle{}äº¤æ˜“é‡\textquotesingle{}}\NormalTok{].plot.bar()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/32-basic_examples_files/figure-pdf/cell-32-output-1.pdf}

}

\end{figure}

æ³¨æ„åˆ°ï¼Œå› ä¸ºæˆ‘ä»¬çš„indexç”¨çš„æ˜¯\texttt{datetime}æ ¼å¼ï¼ˆ\texttt{pd.to\_datetime}ï¼‰ï¼Œå«æœ‰æ—¥æœŸå’Œæ—¶é—´ä¿¡æ¯ï¼Œä½†æˆ‘ä»¬åªæƒ³æ˜¾ç¤ºæ—¥æœŸï¼Œæˆ–è€…``æœˆ-æ—¥''ï¼Œå¯ä»¥è€ƒè™‘æ—¥æœŸæ ¼å¼åŒ–ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¯¹äº\texttt{DatetimeIndex}æ•°æ®ï¼ˆç´¢å¼•ä¸­çš„æ—¥æœŸï¼‰ï¼Œè°ƒç”¨\texttt{.strftime()}ã€‚
\item
  å¯¹äº\texttt{Series}æ•°æ®ï¼ˆæ™®é€šåˆ—ä¸­çš„æ—¥æœŸï¼‰ï¼Œåˆ™æ˜¯\texttt{.dt.strftime()}
\end{enumerate}

å‚æ•°æ˜¯æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œå¸¸ç”¨çš„ç¬¦å·åŒ…æ‹¬ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \%y ä¸¤ä½æ•°çš„å¹´ä»½è¡¨ç¤ºï¼ˆ00-99ï¼‰
\item
  \%Y å››ä½æ•°çš„å¹´ä»½è¡¨ç¤ºï¼ˆ000-9999ï¼‰
\item
  \%m æœˆä»½ï¼ˆ01-12ï¼‰
\item
  \%d æœˆå†…ä¸­çš„ä¸€å¤©ï¼ˆ0-31ï¼‰
\item
  \%H 24å°æ—¶åˆ¶å°æ—¶æ•°ï¼ˆ0-23ï¼‰
\item
  \%I 12å°æ—¶åˆ¶å°æ—¶æ•°ï¼ˆ01-12ï¼‰
\item
  \%M åˆ†é’Ÿæ•°ï¼ˆ00=59ï¼‰
\item
  \%S ç§’ï¼ˆ00-59ï¼‰
\end{enumerate}

å¦‚''\%Y-\%m-\%d''å°±æ˜¯å››ä½æ•°çš„å¹´-æœˆ-æ—¥ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# yæ˜¯ä¸€ä¸ªæ—¶é—´åºåˆ—æ•°æ®ï¼Œindexæ˜¯datetimeæ ¼å¼ï¼ŒåŒ…å«æ—¥æœŸå’Œæ—¶é—´æ•°æ®ï¼ˆé¡¾åæ€ä¹‰ï¼‰}
\NormalTok{y.index}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
DatetimeIndex(['2017-01-03', '2017-01-04', '2017-01-05', '2017-01-06',
               '2017-01-09', '2017-01-10', '2017-01-11', '2017-01-12',
               '2017-01-13', '2017-01-16', '2017-01-17', '2017-01-18',
               '2017-01-19', '2017-01-20', '2017-01-23', '2017-01-24',
               '2017-01-25', '2017-01-26'],
              dtype='datetime64[ns]', name='äº¤æ˜“æ—¥æœŸ', freq=None)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ ¼å¼åŒ–ä¸º\textquotesingle{}æœˆ{-}æ—¥\textquotesingle{}ï¼Œçœ‹çœ‹æ•ˆæœ}
\NormalTok{y.index.strftime(}\StringTok{"\%m{-}}\SpecialCharTok{\%d}\StringTok{"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Index(['01-03', '01-04', '01-05', '01-06', '01-09', '01-10', '01-11', '01-12',
       '01-13', '01-16', '01-17', '01-18', '01-19', '01-20', '01-23', '01-24',
       '01-25', '01-26'],
      dtype='object', name='äº¤æ˜“æ—¥æœŸ')
\end{verbatim}

ä½¿ç”¨\texttt{p.set\_xticklabels()}ï¼ŒæŠŠxåæ ‡çš„æ ‡ç­¾ï¼ˆxåæ ‡åˆ»åº¦ä¸Šçš„æ–‡å­—ï¼‰ï¼Œè®¾ç½®ä¸ºä½ æŒ‡å®šçš„åˆ—è¡¨ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{y }\OperatorTok{=}\NormalTok{ df.query(}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç  == @code \textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}äº¤æ˜“é‡\textquotesingle{}}\NormalTok{]].set\_index(}\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{).loc[}\StringTok{\textquotesingle{}2017{-}01\textquotesingle{}}\NormalTok{]}
\NormalTok{y[}\StringTok{\textquotesingle{}äº¤æ˜“é‡\_äº¿\textquotesingle{}}\NormalTok{] }\OperatorTok{=} \BuiltInTok{round}\NormalTok{(y[}\StringTok{\textquotesingle{}äº¤æ˜“é‡\textquotesingle{}}\NormalTok{]}\OperatorTok{/}\DecValTok{10000000}\NormalTok{,}\DecValTok{2}\NormalTok{)}
\NormalTok{p2 }\OperatorTok{=}\NormalTok{ y[}\StringTok{\textquotesingle{}äº¤æ˜“é‡\_äº¿\textquotesingle{}}\NormalTok{].plot.bar()}\OperatorTok{;}

\NormalTok{p2.set\_xticklabels(y.index.strftime(}\StringTok{"\%m{-}}\SpecialCharTok{\%d}\StringTok{"}\NormalTok{))}\OperatorTok{;} \CommentTok{\# æ”¹ä¸€ä¸‹æ¨ªåæ ‡åˆ»åº¦ä¸Šçš„æ ‡ç­¾}

\CommentTok{\# å…¶ä»–éƒ¨åˆ†}
\NormalTok{plt.xticks(rotation}\OperatorTok{=}\DecValTok{60}\NormalTok{)}\OperatorTok{;} 
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}æˆäº¤é‡ï¼ˆäº¿ï¼‰\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Text(0.5, 0, '')
\end{verbatim}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/32-basic_examples_files/figure-pdf/cell-35-output-2.pdf}

}

\end{figure}

\hypertarget{ux6708ux6210ux4ea4ux91cfux997cux56fe}{%
\subsection{æœˆæˆäº¤é‡é¥¼å›¾}\label{ux6708ux6210ux4ea4ux91cfux997cux56fe}}

é—®é¢˜3ï¼šç»˜åˆ¶è‚¡ç¥¨60000ï¼Œä»1æœˆåˆ°11æœˆçš„æˆäº¤é‡çš„é¥¼å›¾

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  é€‰æ‹©åˆ—ï¼šäº¤æ˜“æ—¥æœŸå’Œäº¤æ˜“é‡ï¼Œè®¾ç½®ä¸ºæ—¶é—´åºåˆ—æ•°æ®
\item
  \texttt{.resample(\textquotesingle{}M\textquotesingle{}).sum()}é‡é‡‡æ ·ä¸ºæœˆå¹¶æ±‚å’Œï¼šå¾—åˆ°æœˆäº¤æ˜“é‡çš„å’Œã€‚
\item
  ç”Ÿæˆä¸€åˆ—``æœˆ''ï¼š1-11æœˆ
\item
  ç»˜å›¾ï¼
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{code }\OperatorTok{=} \StringTok{\textquotesingle{}600000\textquotesingle{}}

\NormalTok{x }\OperatorTok{=}\NormalTok{ df.query(}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç  == @code \textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}äº¤æ˜“é‡\textquotesingle{}}\NormalTok{]].set\_index(}\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{).resample(}\StringTok{"M"}\NormalTok{).}\BuiltInTok{sum}\NormalTok{().reset\_index()}
\NormalTok{x}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& äº¤æ˜“æ—¥æœŸ & äº¤æ˜“é‡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2017-01-31 & 302255420 \\
1 & 2017-02-28 & 278793913 \\
2 & 2017-03-31 & 446555984 \\
3 & 2017-04-30 & 426042150 \\
4 & 2017-05-31 & 1086178385 \\
5 & 2017-06-30 & 1330750427 \\
6 & 2017-07-31 & 1317190884 \\
7 & 2017-08-31 & 1369766042 \\
8 & 2017-09-30 & 742796792 \\
9 & 2017-10-31 & 522531066 \\
10 & 2017-11-30 & 455222518 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç”¨æ—¶é—´æ–¹æ³•\textasciigrave{}.dt.month()\textasciigrave{}ï¼Œä»äº¤æ˜“æ—¥æœŸåˆ—ï¼ˆSeriesï¼‰ä¸­æå–æœˆ}
\NormalTok{trade\_month }\OperatorTok{=}\NormalTok{ pd.Series(x[}\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{].dt.month,name}\OperatorTok{=}\StringTok{\textquotesingle{}æœˆ\textquotesingle{}}\NormalTok{)}
\NormalTok{trade\_month}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0      1
1      2
2      3
3      4
4      5
5      6
6      7
7      8
8      9
9     10
10    11
Name: æœˆ, dtype: int64
\end{verbatim}

å‡ ä¸ªå‚æ•°ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{textprops}ï¼šæ”¹æ ‡ç­¾çš„å­—ä½“å±æ€§ï¼Œè¿™é‡Œæ”¹å­—å·ä¸º10å·ã€‚
\item
  \texttt{pctdistance}ï¼šç™¾åˆ†æ¯”æ ‡ç­¾çš„ä½ç½®ï¼šä»åœ†å¿ƒä¸º0ï¼Œåˆ°åœ†å‘¨ä¸º1ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç»˜å›¾ï¼æ ‡ç­¾å­—ä½“10å·ï¼Œç™¾åˆ†æ¯”æ”¾åœ¨0.8çš„ä½ç½®ä¸Š}
\NormalTok{p3 }\OperatorTok{=}\NormalTok{ x.set\_index(trade\_month)[}\StringTok{\textquotesingle{}äº¤æ˜“é‡\textquotesingle{}}\NormalTok{].plot.pie(}
\NormalTok{    autopct}\OperatorTok{=}\StringTok{\textquotesingle{}}\SpecialCharTok{\%.2f\%\%}\StringTok{\textquotesingle{}}\NormalTok{, textprops}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}fontsize\textquotesingle{}}\NormalTok{: }\DecValTok{10}\NormalTok{\}, pctdistance}\OperatorTok{=}\FloatTok{0.8}\NormalTok{)}\OperatorTok{;}

\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.title(}\StringTok{\textquotesingle{}æœˆæˆäº¤é‡åˆ†å¸ƒ\textquotesingle{}}\NormalTok{)}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/32-basic_examples_files/figure-pdf/cell-38-output-1.pdf}

}

\end{figure}

ä¸‰å›¾å¹¶åˆ—æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œç•¥è¿‡ã€‚å¯ä»¥å‚è€ƒç»˜å›¾ç« èŠ‚çš„å†…å®¹ï¼Œä¸‹ä¸€ä¸ªæ¡ˆä¾‹ä¸­ä¹Ÿæœ‰æ›´å¤æ‚çš„ä¾‹å­ã€‚

\hypertarget{ux80a1ux7968ux4ef7ux683cux79fbux52a8ux5e73ux5747ux7ebfux7684ux7ed8ux5236}{%
\section{è‚¡ç¥¨ä»·æ ¼ç§»åŠ¨å¹³å‡çº¿çš„ç»˜åˆ¶}\label{ux80a1ux7968ux4ef7ux683cux79fbux52a8ux5e73ux5747ux7ebfux7684ux7ed8ux5236}}

ï¼ˆåŸ7.5å°èŠ‚ p149ï¼‰

\hypertarget{ux8981ux6c42-3}{%
\subsection{è¦æ±‚}\label{ux8981ux6c42-3}}

å¯¹æ•°æ®ä¸­æ‰€æœ‰çš„è‚¡ç¥¨ï¼Œç»˜åˆ¶è‚¡ç¥¨çš„ä»·æ ¼å’Œ10æ—¥å‡çº¿ã€‚ç»˜å›¾4ä¸ªä¸€ç»„ï¼Œå¹¶æŒ‰2x2çš„æ ¼å¼æ’åˆ—ï¼Œç»˜åˆ¶å…¨éƒ¨è‚¡ç¥¨ã€‚

æ•°æ®ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{trd.xlsx}ï¼šè‚¡ç¥¨ä»£ç ã€äº¤æ˜“æ—¥ã€æ”¶ç›˜ä»·çš„æ•°æ®ï¼ˆé•¿è¡¨ï¼‰ï¼Œæ³¨æ„å’Œå‰é¢æœ‰ä¸ªæ•°æ®é‡åï¼Œè¿™ä»½æ•°æ®åœ¨\texttt{data/case7.5}ç›®å½•ä¸‹ã€‚
\end{enumerate}

\hypertarget{ux539fux7406ux548cux5b9eux73b0}{%
\subsection{åŸç†å’Œå®ç°}\label{ux539fux7406ux548cux5b9eux73b0}}

ä¾ç„¶è´¯å½»æˆ‘ä»¬çš„æ€è·¯ï¼š

å…ˆæŒ‰ç›®æ ‡ï¼ŒæŠŠæ•°æ®åˆ¶ä½œæˆç¬¦åˆè¦æ±‚çš„1ä¸ªDataFrameï¼Œå†å¯¹è¿™ä¸ªæˆå“DFè¿›è¡Œå…¶ä»–å¤„ç†ï¼Œå¦‚ç»Ÿè®¡ã€ç»˜åˆ¶ç­‰ã€‚é¿å…æŠŠæ•°æ®æ•´ç†ã€åˆ—è¿ç®—ã€åˆ†æå’Œç»˜åˆ¶å†™åœ¨ä¸€æ®µä»£ç ä¸­ï¼

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æµ‹è¯•å¦‚ä½•ç»˜åˆ¶1åªè‚¡ç¥¨çš„ä»·æ ¼å’Œå‡çº¿ã€‚
\item
  ç»˜åˆ¶4åªè‚¡ç¥¨åœ¨ä¸€å¼ å›¾ä¸­ï¼Œå†™æˆä¸€ä¸ªå‡½æ•°ã€‚
\item
  æŠŠè‚¡ç¥¨ä»£ç 4ä¸ªä¸€ç»„ï¼Œåˆ†æˆnæ®µï¼Œå½¢æˆä¸€ä¸ªåˆ—è¡¨ã€‚
\item
  å¾ªç¯ä¸Šè¿°åˆ—è¡¨ï¼Œè°ƒç”¨ç¬¬2æ­¥çš„å‡½æ•°ã€‚
\end{enumerate}

\hypertarget{ux8bfbux53d6ux6570ux636e}{%
\subsection{è¯»å–æ•°æ®}\label{ux8bfbux53d6ux6570ux636e}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/case7.5/trd.xlsx\textquotesingle{}}\NormalTok{,}
\NormalTok{                    converters}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}Stkcd\textquotesingle{}}\NormalTok{:}\BuiltInTok{str}\NormalTok{,}\StringTok{\textquotesingle{}Trddt\textquotesingle{}}\NormalTok{:pd.to\_datetime\})}
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& Stkcd & Trddt & Clsprc \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 002001 & 2016-05-03 & 20.99 \\
1 & 002001 & 2016-05-04 & 20.42 \\
2 & 002001 & 2016-05-05 & 20.49 \\
3 & 002001 & 2016-05-06 & 18.70 \\
4 & 002001 & 2016-05-09 & 18.67 \\
\end{longtable}

æŠŠåˆ—åæ”¹ä¸ºæœ‰æ„ä¹‰çš„åå­—ï¼Œç„¶åè½¬ä¸ºæ—¶é—´åºåˆ—æ•°æ®ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}code\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{] }\CommentTok{\# ä»£ç ï¼Œæ—¥æœŸï¼Œæ”¶ç›˜ä»·}
\NormalTok{df.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,inplace }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& code & close \\
date & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2016-05-03 & 002001 & 20.99 \\
2016-05-04 & 002001 & 20.42 \\
2016-05-05 & 002001 & 20.49 \\
2016-05-06 & 002001 & 18.70 \\
2016-05-09 & 002001 & 18.67 \\
\end{longtable}

çœ‹çœ‹éƒ½æœ‰ä»€ä¹ˆè‚¡ç¥¨

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.code.unique()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array(['002001', '002002', '002003', '002004', '002005', '002006',
       '002007', '002008', '002009', '002010', '002011', '002012',
       '002013', '002014', '002015', '002016', '002017', '002018',
       '002019', '002020'], dtype=object)
\end{verbatim}

\hypertarget{ux7ed8ux52361ux53eaux80a1ux7968}{%
\subsection{ç»˜åˆ¶1åªè‚¡ç¥¨}\label{ux7ed8ux52361ux53eaux80a1ux7968}}

è¦æŠŠ4åªè‚¡ç¥¨ç»˜åˆ¶æˆ2x2çš„æ ·å¼ï¼Œæˆ‘ä»¬é¦–å…ˆå°è¯•ç»˜åˆ¶1åªè‚¡ç¥¨ã€‚

ä»¥æŸ1åªè‚¡ç¥¨ä¸ºä¾‹ï¼Œç»˜åˆ¶è‚¡ä»·å’Œ10æ—¥å‡çº¿ï¼šç­›é€‰æ•°æ®ã€è®¡ç®—10maã€é€‰åˆ—ç»˜å›¾ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç®€å•ç§»åŠ¨å¹³å‡}
\KeywordTok{def}\NormalTok{ sma(x:pd.Series, period):}
    \ControlFlowTok{return}\NormalTok{ x.rolling(period).mean()}

\NormalTok{code }\OperatorTok{=} \StringTok{\textquotesingle{}002001\textquotesingle{}}

\NormalTok{tmp\_df }\OperatorTok{=}\NormalTok{ df.query(}\StringTok{\textquotesingle{}code == @code\textquotesingle{}}\NormalTok{) }

\NormalTok{tmp\_df[}\StringTok{\textquotesingle{}sma\_10\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(tmp\_df.query(}\StringTok{\textquotesingle{}code == @code\textquotesingle{}}\NormalTok{).close,}\DecValTok{10}\NormalTok{)}

\NormalTok{tmp\_df[[}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma\_10\textquotesingle{}}\NormalTok{]].plot()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/tmp/ipykernel_894/2619205272.py:9: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  tmp_df['sma_10'] = sma(tmp_df.query('code == @code').close,10)
\end{verbatim}

\begin{verbatim}
<AxesSubplot:xlabel='date'>
\end{verbatim}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/32-basic_examples_files/figure-pdf/cell-42-output-3.pdf}

}

\end{figure}

ä¸Šå›¾æ­£å¼æˆ‘ä»¬æƒ³è¦çš„ã€‚

è¦å¯¹æ‰€æœ‰è‚¡ç¥¨éƒ½è®¡ç®—å…¶10æ—¥MAï¼Œæ˜¾ç„¶å¯ä»¥åˆ†ç»„è¿›è¡Œï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æŒ‰è‚¡ç¥¨åˆ†ç»„ï¼Œå–æ”¶ç›˜ä»·
\item
  å¯¹æ¯ä¸€ç»„çš„æ”¶ç›˜ä»·æ ¼ï¼Œåº”ç”¨å‰é¢çš„\texttt{sma()}å‡½æ•°
\item
  ç»“æœå†™å…¥\texttt{df{[}\textquotesingle{}sam\_10\textquotesingle{}{]}}
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}sma\_10\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df.groupby(}\StringTok{\textquotesingle{}code\textquotesingle{}}\NormalTok{).close.}\BuiltInTok{apply}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ x: sma(x,}\DecValTok{10}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

éšä¾¿é€‰1åªè‚¡ç¥¨æ¥æµ‹è¯•ä¸€ä¸‹

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.query(}\StringTok{\textquotesingle{}code == "002003"\textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma\_10\textquotesingle{}}\NormalTok{]].plot()}
\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{)}
\NormalTok{plt.legend(}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{,frameon}\OperatorTok{=}\VariableTok{False}\NormalTok{)}\OperatorTok{;} \CommentTok{\# å›¾ä¾‹æ— å†…å®¹ï¼Œä¸”æ— è¾¹æ¡† = éšè—å›¾ä¾‹}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/32-basic_examples_files/figure-pdf/cell-44-output-1.pdf}

}

\end{figure}

\hypertarget{ux7ed8ux52362x2ux7684ux5b50ux56feux624bux52a8ux7248ux672c}{%
\subsection{ç»˜åˆ¶2x2çš„å­å›¾ï¼šæ‰‹åŠ¨ç‰ˆæœ¬}\label{ux7ed8ux52362x2ux7684ux5b50ux56feux624bux52a8ux7248ux672c}}

æ³¨ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä¸‹åˆ—ä»£ç æ˜æ˜¾æœ‰å¾ˆå¤§çš„é‡å¤ï¼Œå› æ­¤å¿…ç„¶å¯ä»¥æ”¹é€ æˆå¾ªç¯ï¼ˆæˆ–è€…åˆ—è¡¨æ¨å¯¼å¼ï¼‰ã€‚
\item
  å¦‚æœä½ è¦ç»˜åˆ¶çš„è‚¡ç¥¨æœ‰3000å¤šä¸ªï¼Œä¸å¯èƒ½æ‰‹åŠ¨å¡«å†™è‚¡ç¥¨ä»£ç ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åœ¨ç”»å¸ƒä¸Šç”Ÿæˆ2x2=4ä¸ªåæ ‡ç³»}
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{, }\DecValTok{2}\NormalTok{,figsize }\OperatorTok{=}\NormalTok{ (}\DecValTok{10}\NormalTok{,}\DecValTok{8}\NormalTok{), sharex}\OperatorTok{=}\VariableTok{True}\NormalTok{)}

\CommentTok{\# éšä¾¿æ‹¿4åªè‚¡ç¥¨ï¼Œç»˜åˆ¶åˆ°å¯¹åº”çš„axä¸Š}
\NormalTok{df.query(}\StringTok{\textquotesingle{}code == "002001"\textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma\_10\textquotesingle{}}\NormalTok{]].plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{0}\NormalTok{,}\DecValTok{0}\NormalTok{])}
\NormalTok{df.query(}\StringTok{\textquotesingle{}code == "002002"\textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma\_10\textquotesingle{}}\NormalTok{]].plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{])}
\NormalTok{df.query(}\StringTok{\textquotesingle{}code == "002003"\textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma\_10\textquotesingle{}}\NormalTok{]].plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{])}
\NormalTok{df.query(}\StringTok{\textquotesingle{}code == "002004"\textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma\_10\textquotesingle{}}\NormalTok{]].plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{])}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/32-basic_examples_files/figure-pdf/cell-45-output-1.pdf}

}

\end{figure}

\hypertarget{ux7ed8ux52362x2ux7684ux5b50ux56feux81eaux52a8ux7248}{%
\subsection{ç»˜åˆ¶2x2çš„å­å›¾ï¼šè‡ªåŠ¨ç‰ˆ}\label{ux7ed8ux52362x2ux7684ux5b50ux56feux81eaux52a8ux7248}}

é—®ï¼šå·²çŸ¥ä»»æ„4åªè‚¡ç¥¨çš„ä»£ç ï¼Œç»˜åˆ¶2x2çš„å›¾å½¢ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# èŒƒä¾‹è‚¡ç¥¨ä»£ç ï¼š}
\NormalTok{code\_list }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}002001\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}002002\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}002003\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}002004\textquotesingle{}}\NormalTok{]}

\CommentTok{\# è®¾ç½®ç”»å¸ƒï¼š2è¡Œï¼Œ2åˆ—ï¼Œå…±ç”¨xè½´}
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{, }\DecValTok{2}\NormalTok{,figsize }\OperatorTok{=}\NormalTok{ (}\DecValTok{10}\NormalTok{,}\DecValTok{8}\NormalTok{), sharex}\OperatorTok{=}\VariableTok{True}\NormalTok{)}

\CommentTok{\# æŠŠ2ç»´çš„ndarrayè½¬ä¸º1ç»´ã€‚ å¦‚ï¼š[[1, 2], [3, 4]] {-}\textgreater{} [1, 2, 3, 4]}
\CommentTok{\# å› æ­¤ï¼Œaxes\_1d[0]å’Œaxes[0,0]ï¼Œéƒ½æŒ‡å‘å·¦ä¸Šè§’çš„åæ ‡ç³»ã€‚}
\NormalTok{axes\_1d }\OperatorTok{=}\NormalTok{ axes.flatten() }

\CommentTok{\# å¾ªç¯è¿™ä¸ªä»£ç åˆ—è¡¨}
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(code\_list)):}
\NormalTok{    code }\OperatorTok{=}\NormalTok{ code\_list[i]}

    \CommentTok{\# ç¬¬iä¸ªè‚¡ç¥¨ä»£ç ï¼Œç»˜åˆ¶åœ¨ç¬¬iä¸ªåæ ‡ç³»}
\NormalTok{    df.query(}\StringTok{\textquotesingle{}code == @code \textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma\_10\textquotesingle{}}\NormalTok{]].plot(ax}\OperatorTok{=}\NormalTok{axes\_1d[i])}

    \CommentTok{\# å»æ‰æ¨ªè½´æ ‡ç­¾ï¼Œè‚¡ç¥¨ä»£ç ä½œä¸ºå­å›¾æ ‡é¢˜}
\NormalTok{    axes\_1d[i].}\BuiltInTok{set}\NormalTok{(xlabel}\OperatorTok{=}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{,title }\OperatorTok{=}\NormalTok{ code)}

\NormalTok{plt.subplots\_adjust(hspace}\OperatorTok{=}\FloatTok{0.15}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/32-basic_examples_files/figure-pdf/cell-46-output-1.pdf}

}

\end{figure}

æˆ‘ä»¬å¯ä»¥æŠŠå‰é¢çš„å†…å®¹ï¼Œæ•´ç†æˆä¸€ä¸ªå‡½æ•°ï¼Œå‚æ•°åº”è¯¥æ˜¯ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ•°æ®æºdf
\item
  è¦ç»˜åˆ¶çš„4åªè‚¡ç¥¨çš„ä»£ç 
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä¸ºäº†èŠ‚çº¦ç¯‡å¹…ï¼Œè¿™é‡Œåˆ é™¤äº†æ³¨é‡Šï¼Œæ³¨é‡Šå†…å®¹åŒå‰ã€‚}
\CommentTok{\# ä½†æ­£å¸¸æƒ…å†µä¸‹æ³¨é‡Šæ˜¯å¿…é¡»çš„ï¼}

\KeywordTok{def}\NormalTok{ plot2x2(df, code\_list):}
    \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}ç»˜åˆ¶4ä¸ªè‚¡ç¥¨çš„ä»·æ ¼å’ŒMA}
\CommentTok{    }
\CommentTok{        df: å…¨éƒ¨è‚¡ç¥¨çš„æ•°æ®}
\CommentTok{        code\_list: 4åªè‚¡ç¥¨çš„ä»£ç }
\CommentTok{    \textquotesingle{}\textquotesingle{}\textquotesingle{}}
\NormalTok{    fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{, }\DecValTok{2}\NormalTok{,figsize }\OperatorTok{=}\NormalTok{ (}\DecValTok{10}\NormalTok{,}\DecValTok{8}\NormalTok{), sharex}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{    axes\_1d }\OperatorTok{=}\NormalTok{ axes.flatten()}

    \ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(code\_list)):}
\NormalTok{        code }\OperatorTok{=}\NormalTok{ code\_list[i]}
\NormalTok{        df.query(}\StringTok{\textquotesingle{}code == @code \textquotesingle{}}\NormalTok{)[[}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma\_10\textquotesingle{}}\NormalTok{]].plot(ax}\OperatorTok{=}\NormalTok{axes\_1d[i])}
\NormalTok{        axes\_1d[i].}\BuiltInTok{set}\NormalTok{(xlabel}\OperatorTok{=}\StringTok{\textquotesingle{}\textquotesingle{}}\NormalTok{,title}\OperatorTok{=}\NormalTok{code)}

\NormalTok{    plt.subplots\_adjust(hspace}\OperatorTok{=}\FloatTok{0.15}\NormalTok{)}

\CommentTok{\# éšä¾¿æµ‹è¯•4ä¸ªä»£ç }
\NormalTok{plot2x2(df, [}\StringTok{\textquotesingle{}002003\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}002005\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}002009\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}002010\textquotesingle{}}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/32-basic_examples_files/figure-pdf/cell-47-output-1.pdf}

}

\end{figure}

æŠŠæ‰€æœ‰çš„è‚¡ç¥¨ä»£ç å–å‡ºï¼Œæ¯4ä¸ªä»£ç æˆä¸€ç»„ï¼Œåˆ†æˆn/4æ®µï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{all\_codes }\OperatorTok{=}\NormalTok{ df.code.unique()}

\NormalTok{np.array\_split(all\_codes,}\BuiltInTok{len}\NormalTok{(all\_codes)}\OperatorTok{/}\DecValTok{4}\NormalTok{ ) }\CommentTok{\# è‚¡ç¥¨ä»£ç çš„åºåˆ—ï¼Œåˆ‡æˆ4ä¸ªä»£ç ä¸€ç»„Listçš„List}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
[array(['002001', '002002', '002003', '002004'], dtype=object),
 array(['002005', '002006', '002007', '002008'], dtype=object),
 array(['002009', '002010', '002011', '002012'], dtype=object),
 array(['002013', '002014', '002015', '002016'], dtype=object),
 array(['002017', '002018', '002019', '002020'], dtype=object)]
\end{verbatim}

ç®€å•å¾ªç¯ä¸Šé¢çš„åˆ†æ®µåˆ—è¡¨ã€‚æ˜¾ç„¶ï¼Œæ¯ä¸€æ®µå°±æ˜¯4ä¸ªè‚¡ç¥¨ä»£ç ï¼Œåœ¨å¾ªç¯ä½“å†…è°ƒç”¨\texttt{plot2x2()}å³å¯ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# èŠ‚çº¦ç¯‡å¹…ï¼Œè¿™é‡Œä»¥å‰2æ®µï¼ˆ8åªè‚¡ç¥¨ï¼‰ä¸ºä¾‹}
\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ np.array\_split(all\_codes,}\BuiltInTok{len}\NormalTok{(all\_codes)}\OperatorTok{/}\DecValTok{4}\NormalTok{ )[:}\DecValTok{2}\NormalTok{]:}
\NormalTok{    plot2x2(df,x)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/32-basic_examples_files/figure-pdf/cell-49-output-1.pdf}

}

\end{figure}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/32-basic_examples_files/figure-pdf/cell-49-output-2.pdf}

}

\end{figure}

\hypertarget{ux6caaux6df1300ux6307ux6570ux8d70ux52bfux9884ux6d4b}{%
\section{æ²ªæ·±300æŒ‡æ•°èµ°åŠ¿é¢„æµ‹}\label{ux6caaux6df1300ux6307ux6570ux8d70ux52bfux9884ux6d4b}}

ï¼ˆåŸ7.6å°èŠ‚ p154ï¼‰

\hypertarget{ux8981ux6c42-4}{%
\subsection{è¦æ±‚}\label{ux8981ux6c42-4}}

åˆ©ç”¨æ²ªæ·±300æŒ‡æ•°çš„æ•°æ®ï¼Œåˆ©ç”¨å‡ ä¸ªåˆ†ç±»æ¨¡å‹ï¼Œå¯¹æŒ‡æ•°çš„æ¶¨è·Œè¿›è¡Œé¢„æµ‹ã€‚

æ³¨ï¼š

è¿™éƒ¨åˆ†ä¸éš¾ï¼Œä½†æ˜¯å› ä¸ºæœºå™¨å­¦ä¹ å’Œåˆ†ç±»ç®—æ³•çš„éƒ¨åˆ†ä¸åœ¨èŒƒå›´å†…ï¼Œå› æ­¤æœ¬ä¾‹ä¸åšè¦æ±‚ï¼ŒçŸ¥é“å¤§æ¦‚è¿‡ç¨‹å³å¯ã€‚

æ•°æ®ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{index300.xlsx}ï¼šæ²ªæ·±300æŒ‡æ•°çš„æ•°æ®ã€‚
\end{enumerate}

\hypertarget{ux539fux7406ux548cux5b9eux73b0-1}{%
\subsection{åŸç†å’Œå®ç°}\label{ux539fux7406ux548cux5b9eux73b0-1}}

åŸç†ç•¥ã€‚è¯¦æƒ…å¯è§å‰é¢çš„ç« èŠ‚``æœºå™¨å­¦ä¹ åˆ†ç±»ç®—æ³•''ã€‚

æ•°æ®è¯»å–å’Œæ¸…æ´—

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/case7.6/index300.xlsx\textquotesingle{}}\NormalTok{)}
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& Indexcd & Idxtrd01 & Idxtrd02 & Idxtrd03 & Idxtrd04 & Idxtrd05 &
Idxtrd06 & Idxtrd07 & Idxtrd08 \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 300 & 2014-01-02 & 2323.43 & 2325.99 & 2310.65 & 2321.98 & 451942.91
& 4901221.11 & -0.3454 \\
1 & 300 & 2014-01-03 & 2311.97 & 2314.84 & 2280.89 & 2290.78 & 597826.45
& 5773970.99 & -1.3436 \\
2 & 300 & 2014-01-06 & 2286.37 & 2286.37 & 2229.33 & 2238.64 & 663004.03
& 5997936.01 & -2.2762 \\
3 & 300 & 2014-01-07 & 2222.31 & 2246.79 & 2218.65 & 2238.00 & 437531.03
& 4256564.81 & -0.0284 \\
4 & 300 & 2014-01-08 & 2240.64 & 2262.58 & 2228.42 & 2241.91 & 513488.54
& 5069148.89 & 0.1747 \\
\end{longtable}

æ”¹ä¸ªåˆç†çš„åˆ—åï¼Œè½¬ä¸ºæ—¶é—´åºåˆ—æ ¼å¼ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}code\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}open\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}high\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}low\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}close\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}vol\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}xxx\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}ret\textquotesingle{}}\NormalTok{] }\CommentTok{\# å€’æ•°ç¬¬äºŒåˆ—ä¸çŸ¥é“æ˜¯ä»€ä¹ˆ}
\NormalTok{df.set\_index(}\StringTok{\textquotesingle{}date\textquotesingle{}}\NormalTok{,inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{df.tail()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllll@{}}
\toprule\noalign{}
& code & open & high & low & close & vol & xxx & ret \\
date & & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2014-12-25 & 300 & 3254.48 & 3335.78 & 3226.32 & 3335.42 & 3097995.47 &
33012893.99 & 3.2514 \\
2014-12-26 & 300 & 3343.64 & 3453.34 & 3335.01 & 3445.84 & 3846141.24 &
43883842.71 & 3.3105 \\
2014-12-29 & 300 & 3502.18 & 3524.28 & 3405.84 & 3455.46 & 4250150.37 &
50500450.84 & 0.2791 \\
2014-12-30 & 300 & 3450.81 & 3491.83 & 3422.17 & 3457.55 & 3282338.73 &
39460777.24 & 0.0607 \\
2014-12-31 & 300 & 3462.39 & 3542.34 & 3452.50 & 3533.71 & 3459347.60 &
40371088.81 & 2.2025 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ sma(x:pd.Series, period):}
    \ControlFlowTok{return}\NormalTok{ x.rolling(period).mean()}

\CommentTok{\# æ”¶ç›˜ä»·çš„10æ—¥å‡çº¿}
\NormalTok{ma10 }\OperatorTok{=}\NormalTok{ sma(df.close,}\DecValTok{10}\NormalTok{) }

\NormalTok{A1 }\OperatorTok{=}\NormalTok{ df.close }\OperatorTok{/}\NormalTok{ ma10 }\CommentTok{\# æ”¶ç›˜ä»·ç›¸å¯¹10æ—¥å‡çº¿}
\NormalTok{A2 }\OperatorTok{=}\NormalTok{ df.vol }\OperatorTok{/}\NormalTok{ sma(df.vol,}\DecValTok{10}\NormalTok{) }\CommentTok{\# æˆäº¤é‡ç›¸å¯¹10æ—¥æˆäº¤é‡çš„å‡å€¼}
\NormalTok{A3 }\OperatorTok{=}\NormalTok{ df.ret }\CommentTok{\# å›æŠ¥ç‡}
\NormalTok{A4 }\OperatorTok{=}\NormalTok{ df.high }\OperatorTok{/}\NormalTok{ ma10 }\CommentTok{\# æœ€é«˜ä»·ç›¸å¯¹10æ—¥å‡çº¿}
\NormalTok{A5 }\OperatorTok{=}\NormalTok{ df.low }\OperatorTok{/}\NormalTok{ ma10 }\CommentTok{\# æœ€ä½ä»·ç›¸å¯¹10æ—¥å‡çº¿}
\NormalTok{A6 }\OperatorTok{=}\NormalTok{ df.high }\OperatorTok{{-}}\NormalTok{ df.low }\CommentTok{\# æœ€é«˜ä»·å’Œæœ€ä½ä»·ä¹‹å·®}
\NormalTok{A7 }\OperatorTok{=}\NormalTok{ df.close }\OperatorTok{{-}}\NormalTok{ df.}\BuiltInTok{open} \CommentTok{\# æ”¶ç›˜ä»·ç›¸å¯¹å¼€ç›˜ä»·}

\NormalTok{data }\OperatorTok{=}\NormalTok{ pd.concat([A1,A2,A3,A4,A5,A6,A7],axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\NormalTok{data.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}A\textquotesingle{}} \OperatorTok{+} \BuiltInTok{str}\NormalTok{(i) }\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{8}\NormalTok{)]}
\NormalTok{data.tail()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
& A1 & A2 & A3 & A4 & A5 & A6 & A7 \\
date & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2014-12-25 & 1.008022 & 0.834703 & 3.2514 & 1.008131 & 0.975050 & 109.46
& 80.94 \\
2014-12-26 & 1.033503 & 1.013465 & 3.3105 & 1.035752 & 1.000262 & 118.33
& 102.20 \\
2014-12-29 & 1.029035 & 1.081501 & 0.2791 & 1.049530 & 1.014258 & 118.44
& -46.72 \\
2014-12-30 & 1.024952 & 0.841631 & 0.0607 & 1.035114 & 1.014464 & 69.66
& 6.74 \\
2014-12-31 & 1.042181 & 0.910890 & 2.2025 & 1.044726 & 1.018230 & 89.84
& 71.32 \\
\end{longtable}

æ¨¡å‹è¦æ‹Ÿåˆçš„ç»“æœï¼Œæ˜¯``æ˜å¤©çš„æ¶¨è·Œ''ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{df.ret}æ˜¯ä»Šå¤©çš„æ¶¨è·Œå¹…åº¦ï¼Œåˆ¤æ–­æ˜¯å¦å¤§äº0ï¼ˆä»Šå¤©çš„æ¶¨è·Œï¼‰ï¼Œå†å–ä¸€é˜¶æå‰\texttt{shift(-1)}ï¼ˆæ˜å¤©çš„æ¶¨è·Œï¼‰
\item
  å»æ‰ç¼ºå¤±å€¼ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data[}\StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ ((df.ret }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{)}\OperatorTok{*}\DecValTok{1}\NormalTok{).shift(}\OperatorTok{{-}}\DecValTok{1}\NormalTok{) }\CommentTok{\# æ˜å¤©çš„æ¶¨è·Œ}

\NormalTok{data.tail() }\CommentTok{\# çœ‹çœ‹æœ€åä¸€è¡Œæ˜¯ä¸æ˜¯NA}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllll@{}}
\toprule\noalign{}
& A1 & A2 & A3 & A4 & A5 & A6 & A7 & y \\
date & & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2014-12-25 & 1.008022 & 0.834703 & 3.2514 & 1.008131 & 0.975050 & 109.46
& 80.94 & 1.0 \\
2014-12-26 & 1.033503 & 1.013465 & 3.3105 & 1.035752 & 1.000262 & 118.33
& 102.20 & 1.0 \\
2014-12-29 & 1.029035 & 1.081501 & 0.2791 & 1.049530 & 1.014258 & 118.44
& -46.72 & 1.0 \\
2014-12-30 & 1.024952 & 0.841631 & 0.0607 & 1.035114 & 1.014464 & 69.66
& 6.74 & 1.0 \\
2014-12-31 & 1.042181 & 0.910890 & 2.2025 & 1.044726 & 1.018230 & 89.84
& 71.32 & NaN \\
\end{longtable}

åœ¨ä¸€ä¸ªåºåˆ—è¿›è¡Œäº†æ»å/æå‰è¿ç®—ä¹‹åï¼Œæ£€æŸ¥ä¸€ä¸‹å¼€å¤´å’Œç»“å°¾ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¦ç”¨ä»Šå¤©çš„ä¿¡æ¯ï¼Œé¢„æµ‹æ˜å¤©çš„æ¶¨è·Œï¼Œé‚£ä¹ˆæ•°æ®æœ€åä¸€å¤©å¿…ç„¶æ²¡æœ‰æ˜å¤©çš„æ¶¨è·Œä¿¡æ¯çš„ã€‚çœ‹yçš„æœ«å°¾æ˜¯å¦ä¸ºNAã€‚
\item
  åŒç†ï¼Œå¦‚æœæ˜¯åšäº†æ»åè¿ç®—ï¼Œæœ€å¥½çœ‹ä¸€æ ·ç¬¬ä¸€å¤©çš„æ•°æ®æ˜¯å¦ä¸ºNAã€‚
\end{enumerate}

\hypertarget{ux6a21ux578bux7684ux62dfux5408ux4e0eux9884ux6d4b}{%
\subsection{æ¨¡å‹çš„æ‹Ÿåˆä¸é¢„æµ‹}\label{ux6a21ux578bux7684ux62dfux5408ux4e0eux9884ux6d4b}}

æŠŠæ•°æ®æˆ4ä»½ï¼š

\includegraphics{images/train_test.png}

æ•°æ®æœ¬èº«ç”±2ä¸ªéƒ¨åˆ†ç»„æˆï¼šï¼ˆXæ˜¯å¤§å†™ï¼Œè¡¨ç¤ºçŸ©é˜µï¼›yæ˜¯å°å†™ï¼Œè¡¨ç¤ºå‘é‡ï¼‰

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Xï¼šä¿¡æ¯ç‰¹å¾ï¼ˆå½±å“æ¶¨è·Œçš„å› ç´ ï¼‰ï¼Œå³A1-A7
\item
  yï¼šäºŒå…ƒæ ‡ç­¾ï¼ˆæ˜å¤©çš„æ¶¨è·Œï¼‰
\end{enumerate}

æŠŠä¸Šè¿°2ä¸ªæ•°æ®ï¼Œå‰åæˆªæ–­ã€‚å‰åŠæˆªæ•°æ®ç”¨æ¥è®­ç»ƒæ¨¡å‹ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  X\_trainï¼šè®­ç»ƒæ¨¡å‹ç”¨çš„ç‰¹å¾ä¿¡æ¯
\item
  y\_trainï¼šè®­ç»ƒæ¨¡å‹ç”¨çš„äºŒå…ƒæ ‡ç­¾
\end{enumerate}

ååŠæˆªæ•°æ®ç”¨æ¥å¯¹æ¨¡å‹è¿›è¡Œæ ·æœ¬å¤–é¢„æµ‹ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  X\_testï¼šæ–°çš„ç‰¹å¾ä¿¡æ¯ï¼Œç”¨ä¸Šé¢ç”Ÿæˆçš„æ¨¡å‹é¢„æµ‹æ˜å¤©çš„æ¶¨è·Œpred\_test
\item
  y\_trainï¼šæŠŠé¢„æµ‹å€¼pred\_destå’ŒçœŸå®çš„æ¶¨è·Œå¯¹æ¯”ï¼Œè¡¡é‡æ¨¡å‹æ ·æœ¬å¤–çš„é¢„æµ‹èƒ½åŠ›ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data.dropna(inplace }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\NormalTok{X }\OperatorTok{=}\NormalTok{ data.drop(}\StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{,axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\NormalTok{y }\OperatorTok{=}\NormalTok{ data[}\StringTok{\textquotesingle{}y\textquotesingle{}}\NormalTok{]}

\NormalTok{test\_size }\OperatorTok{=}\NormalTok{ X.shape[}\DecValTok{0}\NormalTok{]}\OperatorTok{//}\DecValTok{6}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f"}\SpecialCharTok{\{}\NormalTok{test\_size}\OperatorTok{=}\SpecialCharTok{\}}\SpecialStringTok{"}\NormalTok{)}

\NormalTok{X\_train }\OperatorTok{=}\NormalTok{ X[:}\OperatorTok{{-}}\NormalTok{test\_size]}
\NormalTok{y\_train }\OperatorTok{=}\NormalTok{ y[:}\OperatorTok{{-}}\NormalTok{test\_size]}

\ControlFlowTok{assert} \BuiltInTok{len}\NormalTok{(X\_train) }\OperatorTok{==} \BuiltInTok{len}\NormalTok{(y\_train)}

\NormalTok{X\_test }\OperatorTok{=}\NormalTok{ X.iloc[}\OperatorTok{{-}}\NormalTok{test\_size:]}
\NormalTok{y\_test }\OperatorTok{=}\NormalTok{ y.iloc[}\OperatorTok{{-}}\NormalTok{test\_size:]}

\ControlFlowTok{assert} \BuiltInTok{len}\NormalTok{(X\_test) }\OperatorTok{==} \BuiltInTok{len}\NormalTok{(y\_test)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
test_size=39
\end{verbatim}

è®­ç»ƒæ¨¡å‹ï¼Œå†ç”¨æµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹æµ‹è¯•ï¼šä»¥Logisticæ¨¡å‹ä¸ºä¾‹ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.linear\_model }\ImportTok{import}\NormalTok{ LogisticRegression}
\ImportTok{from}\NormalTok{ sklearn.svm }\ImportTok{import}\NormalTok{ SVC}
\ImportTok{from}\NormalTok{ sklearn.neural\_network }\ImportTok{import}\NormalTok{ MLPClassifier}

\NormalTok{model }\OperatorTok{=}\NormalTok{ LogisticRegression() }\CommentTok{\# ä½¿ç”¨Logisticæ¨¡å‹}


\NormalTok{model.fit(X\_train,y\_train) }\CommentTok{\# ç”¨è®­ç»ƒæ•°æ®æ‹Ÿåˆæ¨¡å‹}

\NormalTok{pred\_train }\OperatorTok{=}\NormalTok{ model.predict(X\_train) }\CommentTok{\# ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œå¯¹è®­ç»ƒæ•°æ®è¿›è¡Œé¢„æµ‹}
\NormalTok{pred\_test }\OperatorTok{=}\NormalTok{ model.predict(X\_test) }\CommentTok{\# ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œå¯¹æµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹}

\NormalTok{acc\_train }\OperatorTok{=}\NormalTok{ (y\_train }\OperatorTok{==}\NormalTok{ pred\_train).mean() }\CommentTok{\# è®­ç»ƒæ•°æ®çš„å‡†ç¡®ç‡}
\NormalTok{acc\_test }\OperatorTok{=}\NormalTok{ (y\_test }\OperatorTok{==}\NormalTok{ pred\_test).mean() }\CommentTok{\# æµ‹è¯•æ•°æ®çš„å‡†ç¡®ç‡}

\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}model: }\SpecialCharTok{\{}\BuiltInTok{type}\NormalTok{(model)}\SpecialCharTok{.}\VariableTok{\_\_name\_\_}\SpecialCharTok{\}}\SpecialStringTok{, }\SpecialCharTok{\{}\NormalTok{acc\_train}\OperatorTok{=}\SpecialCharTok{:.2f\}}\SpecialStringTok{, }\SpecialCharTok{\{}\NormalTok{acc\_test}\OperatorTok{=}\SpecialCharTok{:.2f\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
model: LogisticRegression, acc_train=0.58, acc_test=0.72
\end{verbatim}

ä¸åŒçš„æ¨¡å‹æœ‰å®Œå…¨ç›¸åŒçš„æ¥å£ï¼Œå› æ­¤å¯ä»¥å†™æˆå‡½æ•°ï¼Œä»¥ä½¿ç”¨ä½•ç§æ¨¡å‹ä½œä¸ºå‚æ•°ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ do\_test(model):}
    
\NormalTok{    model.fit(X\_train,y\_train) }\CommentTok{\# ç”¨è®­ç»ƒæ•°æ®æ‹Ÿåˆæ¨¡å‹}

\NormalTok{    pred\_train }\OperatorTok{=}\NormalTok{ model.predict(X\_train) }\CommentTok{\# ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œå¯¹è®­ç»ƒæ•°æ®è¿›è¡Œé¢„æµ‹}
\NormalTok{    pred\_test }\OperatorTok{=}\NormalTok{ model.predict(X\_test) }\CommentTok{\# ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œå¯¹æµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹}

\NormalTok{    acc\_train }\OperatorTok{=}\NormalTok{ (y\_train }\OperatorTok{==}\NormalTok{ pred\_train).mean() }\CommentTok{\# è®­ç»ƒæ•°æ®çš„å‡†ç¡®ç‡}
\NormalTok{    acc\_test }\OperatorTok{=}\NormalTok{ (y\_test }\OperatorTok{==}\NormalTok{ pred\_test).mean() }\CommentTok{\# æµ‹è¯•æ•°æ®çš„å‡†ç¡®ç‡}

    \BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}model: }\SpecialCharTok{\{}\BuiltInTok{type}\NormalTok{(model)}\SpecialCharTok{.}\VariableTok{\_\_name\_\_}\SpecialCharTok{\}}\SpecialStringTok{ }\CharTok{\textbackslash{}n\textbackslash{}t}\SpecialStringTok{ }\SpecialCharTok{\{}\NormalTok{acc\_train}\OperatorTok{=}\SpecialCharTok{:.2f\}}\SpecialStringTok{, }\SpecialCharTok{\{}\NormalTok{acc\_test}\OperatorTok{=}\SpecialCharTok{:.2f\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}


\NormalTok{do\_test(LogisticRegression())}
\NormalTok{do\_test(SVC(kernel}\OperatorTok{=}\StringTok{\textquotesingle{}rbf\textquotesingle{}}\NormalTok{))}
\NormalTok{do\_test(MLPClassifier(solver}\OperatorTok{=}\StringTok{\textquotesingle{}lbfgs\textquotesingle{}}\NormalTok{,alpha}\OperatorTok{=}\FloatTok{1e{-}5}\NormalTok{,hidden\_layer\_sizes}\OperatorTok{=}\NormalTok{(}\DecValTok{5}\NormalTok{,}\DecValTok{2}\NormalTok{),random\_state}\OperatorTok{=}\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
model: LogisticRegression 
     acc_train=0.58, acc_test=0.72
model: SVC 
     acc_train=0.58, acc_test=0.72
model: MLPClassifier 
     acc_train=0.52, acc_test=0.69
\end{verbatim}

æ ·æœ¬å¤–é¢„æµ‹çš„å‡†ç¡®ç‡ç¨å¾®è¶…è¿‡50\%

\hypertarget{ux57faux4e8eux4e3bux6210ux5206ux805aux7c7bux7684ux4e0aux5e02ux516cux53f8ux76c8ux5229ux80fdux529bux5206ux6790}{%
\section{åŸºäºä¸»æˆåˆ†èšç±»çš„ä¸Šå¸‚å…¬å¸ç›ˆåˆ©èƒ½åŠ›åˆ†æ}\label{ux57faux4e8eux4e3bux6210ux5206ux805aux7c7bux7684ux4e0aux5e02ux516cux53f8ux76c8ux5229ux80fdux529bux5206ux6790}}

ï¼ˆåŸ7.7å°èŠ‚ p157ï¼‰

\hypertarget{ux5febux901fux56deux987eux4e3bux6210ux5206ux548ck-meansux805aux7c7b}{%
\subsection{å¿«é€Ÿå›é¡¾ï¼šä¸»æˆåˆ†å’ŒK-meansèšç±»}\label{ux5febux901fux56deux987eux4e3bux6210ux5206ux548ck-meansux805aux7c7b}}

\begin{quote}
\textbf{ä¸»æˆåˆ†}
\end{quote}

ä¸»è¦ç”¨äºé™ç»´ï¼Œç¼©å‡å˜é‡çš„æ•°æ®ï¼Œæˆ–è€…è¯´æŠŠæ ·æœ¬çš„æŸäº›\textbf{é«˜åº¦ç›¸å…³}çš„å±æ€§åˆå¹¶ï¼Œä½†åˆä¸å¸Œæœ›æŸå¤±å¤ªå¤šä¿¡æ¯ã€‚

ä¸€ä¸ªæç«¯çš„ä¾‹å­ï¼šå¦‚æœ\(x_1,x_2\)ç›¸å…³æ€§è¾¾åˆ°0.99ï¼Œé‚£ä¹ˆå¯ä»¥è®¤ä¸ºä»–ä»¬å‡ ä¹è¡¨ç¤ºç›¸åŒçš„ä¿¡æ¯ï¼Œå³ä½¿æŠŠè¿™2ä¸ªå˜é‡ç”¨æŸç§æ–¹æ³•å˜æˆ1ä¸ªï¼ˆæ¯”å¦‚æ±‚å¹³å‡æˆ–è€…ç›´æ¥å»æ‰ä¸€ä¸ªï¼‰ï¼Œæ˜¾ç„¶ä¸ä¼šæœ‰ä»€ä¹ˆæŸå¤±ã€‚

ä¾‹å¦‚ï¼šåŒå­¦æˆç»©
\([è¯­æ–‡,è‹±è¯­,æ•°å­¦,ç‰©ç†]\)ï¼Œæœ‰4ä¸ªå˜é‡ã€‚æŒ‰ä¸»æˆåˆ†åˆ†æï¼Œï¼ˆå¯èƒ½ï¼‰å¯ä»¥æŠŠ4ä¸ªå˜é‡åˆæˆ2ä¸ªå˜é‡ï¼ˆ2ä¸ªä¸»æˆåˆ†ï¼‰ã€‚å¦‚

\[
x_1 = a * è¯­æ–‡ + b * è‹±è¯­
\] \[
x_2 = c * æ•°å­¦ + c * ç‰©ç†
\] ï¼ˆæ˜¾ç„¶è¿™æ˜¯2ä¸ªçº¿æ€§å›å½’ï¼‰

é‚£ä¹ˆæˆ‘ä»¬ç”¨2ä¸ªå˜é‡
\([x_1, x_2]\)ï¼Œæ¥è¡¨è¾¾åŸæ¥4ä¸ªå˜é‡æ‰€è¡¨è¾¾çš„å¤§éƒ¨åˆ†ä¿¡æ¯ï¼ˆå¤šå°‘ç®—å¤§éƒ¨åˆ†ï¼Ÿ80ï¼Ÿ90\%ï¼Ÿç”±ä½ å†³å®šï¼‰ã€‚

è¿™ä¸ªè®¡ç®—çš„è¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œæ¯ä¸ªä¸»æˆä»½ç”±ä»€ä¹ˆå› ç´ æ„æˆï¼Œå…¶å®æ˜¯ç”µè„‘è®¡ç®—çš„ç»“æœã€‚

å¦‚æœè®¡ç®—çš„ç»“æœï¼Œç¡®å®æ˜¯\(x_1\)ä¸­è¯­æ–‡å’Œè‹±è¯­å äº†å¤§éƒ¨åˆ†ï¼ˆä½†æ•°å­¦å’Œç‰©ç†çš„ç³»æ•°ä¸€èˆ¬ä¸æ˜¯0ï¼‰ï¼Œ\(x_2\)ä¸­æ•°å­¦å’Œç‰©ç†å äº†å¤§éƒ¨åˆ†ï¼ˆè¯­æ–‡å’Œè‹±è¯­çš„ç³»æ•°ä¸€èˆ¬ä¹Ÿä¸æ˜¯0ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è€ƒè™‘ç§°\(x_1\)ä¸º``æ–‡ç§‘''ï¼Œ\(x_2\)ä¸º``ç†ç§‘''ã€‚

å˜é‡ç”±å¤šå˜å°‘ï¼Œå°±æ˜¯æ‰€è°“é™ç»´ï¼Œå¾€å¾€\textbf{æå¤§åœ°}åŠ å¿«çŸ©é˜µè¿ç®—çš„é€Ÿåº¦ã€‚å¹¶ä¸”ä¸»æˆåˆ†å¾€å¾€æ˜¯æœ‰æ„ä¹‰çš„ï¼ˆå¦‚æ–‡ç§‘ã€ç†ç§‘ï¼‰ï¼Œè¿™å¯¹æˆ‘ä»¬è¿›è¡Œå…¶ä»–åˆ†æå¯èƒ½æœ‰å¸®åŠ©ã€‚

å½“ç„¶ï¼Œå¦‚æœå˜é‡ä¹‹é—´æ²¡ä»€ä¹ˆå…³è”æ€§ï¼Œé‚£ä¹ˆè¿™ä¸€åˆ‡ä¹Ÿæ— ä»è°ˆèµ·äº†ã€‚

\begin{quote}
\textbf{K-meansèšç±»}
\end{quote}

æŠŠæ ·æœ¬ï¼ŒæŒ‰ä»–ä»¬å„ä¸ªå˜é‡ä¹‹é—´çš„``è·ç¦»''è¿›è¡Œå½’ç±»ï¼Œä½†éœ€è¦ç”±ä½ æŒ‡å®šåˆ†æˆå¤šå°‘ç±»ã€‚

\includegraphics{images/kmeans.gif}

å›¾ç‰‡æ¥è‡ª
\href{https://milliams.com/courses/applied_data_analysis/appendix_clustering.html}{Applied
Data Analysis in Python}

åŸºæœ¬åŸç†ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç»™å®šKä¸ªèšç±»æ•°é‡ï¼ˆè¦åˆ†Kç±»ï¼‰
\item
  ç¡®å®šæ¯ä¸ªèšç±»çš„åˆå§‹ä¸­å¿ƒï¼ˆä¹Ÿå¯ä»¥è®©Pythonè‡ªå·±å®šï¼‰
\item
  å¯¹äºæ‰€æœ‰çš„ç‚¹ï¼Œè®¡ç®—åˆ°Kä¸ªä¸­å¿ƒç‚¹çš„è·ç¦»ï¼ˆæ¬§æ°è·ç¦»ï¼‰ï¼Œåˆ’åˆ†åˆ°æœ€è¿‘çš„ä¸€ä¸ªç‚¹ï¼Œæ„æˆä¸€ç»„ã€‚ï¼ˆè¿™ä¹ˆå¤šä¸ªä¸­å¿ƒï¼Œæœ€é è¿‘å“ªä¸ªä¸­å¿ƒï¼Œå°±ç®—è¿›é‚£ä¸€ç»„ï¼‰
\item
  è¿­ä»£ï¼šå¯¹äºä¸Šè¿°è¿‡ç¨‹ä¸­åˆ’åˆ†å¥½çš„Kä¸ªç±»åˆ«ï¼Œé‡æ–°è®¡ç®—æ–°çš„ä¸­å¿ƒç‚¹ï¼ˆå‡å€¼ï¼‰ï¼Œå†æ¬¡è¿›è¡Œæœ€é‚»è¿‘çš„åˆ’åˆ†ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹Næ¬¡ã€‚
\end{enumerate}

ä¸€ä¸ªè¿­ä»£2è½®çš„ç¤ºä¾‹ï¼š

\includegraphics[width=5.20833in,height=\textheight]{images/kmeans_step.jpg}

ä½†è¦æ³¨æ„ï¼šè¿™å®Œå…¨æ˜¯ä¸€ä¸ª``äº²ç–è¿œè¿‘''çš„åˆ†ç±»æ–¹æ³•ï¼šç›¸è¿‘çš„å°±ä¼šè¢«å½’ä¸ºä¸€ç±»ï¼Œæœ¬èº«æ²¡æœ‰``å¥½å''çš„å«ä¹‰ã€‚ä½†å…¶ä¸­çš„æŒ‡æ ‡å¯èƒ½æœ‰å¥½åï¼Œè¿™éœ€è¦åˆ†ç±»ååˆ¤æ–­ã€‚

\hypertarget{ux8981ux6c42-5}{%
\subsection{è¦æ±‚}\label{ux8981ux6c42-5}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¯¹äºè®¡ç®—æœºè¡Œä¸šçš„å…¬å¸ï¼Œå¯¹å…¶è´¢åŠ¡æ•°æ®è¿›è¡Œé™ç»´ï¼Œç”¨k-meansèšç±»ï¼Œå†è®¡ç®—æ¯ä¸€ç±»çš„åˆ©æ¶¦å¢é•¿ç‡ï¼Œä»¥åˆ¤æ–­è®¡ç®—æœºè¡Œä¸šä¸­ä¸åŒå…¬å¸çš„æ°´å¹³å±‚æ¬¡ã€‚
\end{enumerate}

æ•°æ®ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{è´¢åŠ¡æŒ‡æ ‡æ•°æ®.xlsx}
\item
  \texttt{ç”³ä¸‡è¡Œä¸šåˆ†ç±»}
\end{enumerate}

\hypertarget{ux539fux7406ux548cux5b9eux73b0-2}{%
\subsection{åŸç†å’Œå®ç°}\label{ux539fux7406ux548cux5b9eux73b0-2}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¯¹ä¸Šå¸‚å…¬å¸çš„ä¸€ç³»åˆ—æ•°æ®çš„è¿›è¡Œé™ç»´ã€‚
\item
  å¯¹é™ç»´åçš„æ•°æ®è¿›è¡ŒK-meansèšç±»ï¼Œåˆ†å‡º4ç±»ã€‚
\item
  è®¡ç®—æ¯ä¸€ç±»çš„åˆ©æ¶¦å¢é•¿ç‡ï¼Œè¿›è€Œåˆ¤æ–­æ¯ä¸€ç±»çš„ä¼˜åŠ£ã€‚
\end{enumerate}

æ³¨æ„ï¼šå¯¹è´¢åŠ¡æŠ¥è¡¨çš„æŒ‡æ ‡è¿›è¡Œè¿›è¡Œk-meansèšç±»å¯èƒ½ä¸æ˜¯ä¸€ä¸ªå¥½çš„åšæ³•ï¼Œå› ä¸ºåŒä¸€ä¸ªè¡Œä¸šé‡Œçš„å…¬å¸ï¼Œä»–ä»¬ç»è¥ä¸šç»©å¾€å¾€æ˜¯è¿ç»­åˆ†å¸ƒçš„ï¼Œè€Œä¸æ˜¯``æ‰å †åˆ†å¸ƒ''çš„ã€‚è€Œk-meansèšç±»æ˜¯ä¸€ä¸ªåŸºäºè·ç¦»çš„ç®—æ³•ï¼Œèƒ½å¤ŸæŠŠå„è‡ªèšé›†çš„æ ·æœ¬åˆ†å¼€æ¥ï¼Œä½†æ˜¯å¯¹è¿ç»­åˆ†å¸ƒçš„æ ·æœ¬å¯èƒ½æ²¡ä»€ä¹ˆåŠæ³•ã€‚

\hypertarget{ux8bfbux53d6ux6570ux636e-1}{%
\subsection{è¯»å–æ•°æ®}\label{ux8bfbux53d6ux6570ux636e-1}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è¯»å–è´¢åŠ¡æŒ‡æ ‡}
\CommentTok{\# å…¶ä¸­çš„æŒ‡æ ‡çš„å«ä¹‰è§æ•™æp157{-}p158ï¼Œä½†æš‚æ—¶ä¸é‡è¦}

\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/case7.7/è´¢åŠ¡æŒ‡æ ‡æ•°æ®.xlsx\textquotesingle{}}\NormalTok{,}
\NormalTok{                converters }\OperatorTok{=}\NormalTok{ \{}\StringTok{\textquotesingle{}Stkcd\textquotesingle{}}\NormalTok{:}\BuiltInTok{str}\NormalTok{,}\StringTok{\textquotesingle{}Accper\textquotesingle{}}\NormalTok{:pd.to\_datetime\})}
\NormalTok{df.}\BuiltInTok{round}\NormalTok{(}\DecValTok{4}\NormalTok{).head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllllll@{}}
\toprule\noalign{}
& Stkcd & Accper & F050502B & F050102B & F050202B & F051201B & F051501B
& F053301B & F051401B & F052101B \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 000667 & 2015-12-31 & 0.0725 & 0.0306 & 0.0255 & 0.0453 & 0.0908 &
0.2879 & 0.1257 & 0.1607 \\
1 & 000838 & 2015-12-31 & 0.0755 & 0.0206 & 0.0196 & 0.0257 & 0.1161 &
0.3483 & 0.0666 & 0.1125 \\
2 & 600816 & 2015-12-31 & 0.4245 & 0.2844 & 0.2844 & 0.1880 & 0.6665 &
NaN & 0.8924 & NaN \\
3 & 600358 & 2015-12-31 & 0.0422 & 0.0475 & 0.0176 & 0.0514 & 0.1459 &
0.8675 & 0.3936 & 0.2412 \\
4 & 601155 & 2015-12-31 & 0.1837 & 0.0426 & 0.0404 & 0.0936 & 0.1018 &
0.2681 & 0.1388 & 0.1728 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.Accper.unique() }\CommentTok{\# åªæœ‰1å¤©ï¼Œå› æ­¤æ—¥æœŸæ˜¯éå¿…é¡»çš„}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array(['2015-12-31T00:00:00.000000000'], dtype='datetime64[ns]')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.Stkcd.unique().shape  }\CommentTok{\# æ¥è¿‘3000åªè‚¡ç¥¨}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
(2842,)
\end{verbatim}

è¯»å–è¡Œä¸šåˆ†ç±»

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{ind\_info\_df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/case7.7/ç”³ä¸‡è¡Œä¸šåˆ†ç±».xlsx\textquotesingle{}}\NormalTok{,}
\NormalTok{                converters}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{}}\NormalTok{:}\BuiltInTok{str}\NormalTok{\})}
\NormalTok{ind\_info\_df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
& è¡Œä¸šåç§° & è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨åç§° & èµ·å§‹æ—¥æœŸ & ç»“æŸæ—¥æœŸ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & é‡‡æ˜ & 000552 & é–è¿œç…¤ç”µ & 2008-06-02 00:00:00 & NaN \\
1 & é‡‡æ˜ & 000571 & æ–°å¤§æ´²A & 2011-10-10 00:00:00 & NaN \\
2 & é‡‡æ˜ & 000629 & æ”€é’¢é’’é’› & 2015-10-31 00:00:00 & NaN \\
3 & é‡‡æ˜ & 000655 & *STé‡‘å²­ & 2015-10-31 00:00:00 & NaN \\
4 & é‡‡æ˜ & 000723 & ç¾é”¦èƒ½æº & 2008-06-02 00:00:00 & NaN \\
... & ... & ... & ... & ... & ... \\
3566 & ç»¼åˆ & 600817 & STå®ç›› & 2016-08-04 01:33:00 & NaN \\
3567 & ç»¼åˆ & 600818 & ä¸­è·¯è‚¡ä»½ & 2015-08-04 00:00:00 & NaN \\
3568 & ç»¼åˆ & 601992 & é‡‘éš…é›†å›¢ & 2017-06-29 00:00:00 & NaN \\
3569 & ç»¼åˆ & 603060 & å›½æ£€é›†å›¢ & 2016-11-06 18:27:00 & NaN \\
3570 & ç»¼åˆ & 603183 & å»ºç ”é™¢ & 2017-08-26 09:17:00 & NaN \\
\end{longtable}

æŒ‰è‚¡ç¥¨ä»£ç mergeï¼Œå»æ‰naï¼Œå»æ‰æ—¥æœŸï¼Œé‡ç½®indexï¼Œæœ€ç»ˆè·å¾—æˆ‘ä»¬è¦çš„æ•°æ®ï¼šè®¡ç®—æœºæ¿å—ä¸­çš„æ¯ä¸€åªè‚¡ç¥¨å’Œå®ƒçš„8ä¸ªæŒ‡æ ‡ã€‚

(è¿™éƒ¨åˆ†çš„æ“ä½œè¯·å›å¿†æˆ‘ä»¬çš„ä½œä¸š)

æˆ‘ä»¬çš„ä»»åŠ¡ï¼Œå°±æ˜¯åˆ©ç”¨è¿™8ä¸ªæŒ‡æ ‡ï¼Œå¯¹è‚¡ç¥¨è¿›è¡ŒK-meansèšç±»ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OperatorTok{=}\NormalTok{ pd.merge(df, ind\_info\_df.iloc[:, :}\DecValTok{3}\NormalTok{], left\_on}\OperatorTok{=}\StringTok{\textquotesingle{}Stkcd\textquotesingle{}}\NormalTok{,}
\NormalTok{                right\_on}\OperatorTok{=}\StringTok{\textquotesingle{}è‚¡ç¥¨ä»£ç \textquotesingle{}}\NormalTok{).query(}\StringTok{\textquotesingle{}è¡Œä¸šåç§° == "è®¡ç®—æœº"\textquotesingle{}}\NormalTok{).dropna().drop([}\StringTok{\textquotesingle{}Accper\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Stkcd\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}è¡Œä¸šåç§°\textquotesingle{}}\NormalTok{], axis}\OperatorTok{=}\DecValTok{1}\NormalTok{).reset\_index(drop}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{data.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllllll@{}}
\toprule\noalign{}
& F050502B & F050102B & F050202B & F051201B & F051501B & F053301B &
F051401B & F052101B & è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨åç§° \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 0.321397 & 0.228925 & 0.227827 & 0.188137 & 0.474756 & 0.715053 &
0.557304 & 1.357928 & 002280 & è”ç»œäº’åŠ¨ \\
1 & 0.154194 & 0.091206 & 0.093423 & 0.120079 & 0.154341 & 0.434843 &
0.136904 & 0.210119 & 300271 & åå®‡è½¯ä»¶ \\
2 & 0.106211 & 0.076708 & 0.071280 & 0.077224 & 0.117922 & 0.499746 &
0.131880 & 0.180142 & 300324 & æ—‹æä¿¡æ¯ \\
3 & 0.083760 & 0.058820 & 0.064392 & 0.055300 & 0.174578 & 0.488951 &
0.119061 & 0.212990 & 002230 & ç§‘å¤§è®¯é£ \\
4 & 0.184059 & 0.112991 & 0.102916 & 0.096451 & 0.265636 & 0.562932 &
0.244306 & 0.403114 & 300367 & ä¸œæ–¹ç½‘åŠ› \\
\end{longtable}

å…ˆæŠŠè‚¡ç¥¨çš„ä»£ç å’Œåç§°ï¼Œä»¥åŠ8ä¸ªæŒ‡æ ‡åˆ†å¼€ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{code\_name }\OperatorTok{=}\NormalTok{ data.iloc[:,}\OperatorTok{{-}}\DecValTok{2}\NormalTok{:]}
\NormalTok{code\_name.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨åç§° \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 002280 & è”ç»œäº’åŠ¨ \\
1 & 300271 & åå®‡è½¯ä»¶ \\
2 & 300324 & æ—‹æä¿¡æ¯ \\
3 & 002230 & ç§‘å¤§è®¯é£ \\
4 & 300367 & ä¸œæ–¹ç½‘åŠ› \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{X }\OperatorTok{=}\NormalTok{ data.iloc[:,:}\OperatorTok{{-}}\DecValTok{2}\NormalTok{]}
\NormalTok{X.shape}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
(154, 8)
\end{verbatim}

å¯¹äºä¸Šè¿°X

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä¿ç•™æ‰€æœ‰å¤§äº0çš„å€¼ï¼ˆç­‰ä»·äºæŠŠå°äº0çš„å€¼æ ‡è®°ä¸ºNAï¼‰ï¼š\texttt{X{[}X\textgreater{}0{]}}
\item
  å¯¹äºæ¯ä¸ªå±æ€§ï¼Œå»æ‰8å€ä»¥ä¸Šçš„è§‚æµ‹å€¼ã€‚
\item
  å»æ‰æ‰€æœ‰åŒ…å«NAçš„è¡Œï¼šç­‰äºå»æ‰åŸæ•°æ®ä¸­æœ‰ç¼ºå¤±å€¼çš„è¡Œã€æœ‰å°äº0çš„å€¼çš„è¡Œã€ä»¥åŠæœ‰å±æ€§å¤§äºå‡å€¼8å€çš„è¡Œã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{X }\OperatorTok{=}\NormalTok{ X[X}\OperatorTok{\textgreater{}}\DecValTok{0}\NormalTok{]}
\ControlFlowTok{assert} \BuiltInTok{all}\NormalTok{(X}\OperatorTok{\textgreater{}}\DecValTok{0}\NormalTok{)}
\NormalTok{X }\OperatorTok{=}\NormalTok{ X.}\BuiltInTok{apply}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ c: c[c}\OperatorTok{\textless{}}\DecValTok{8}\OperatorTok{*}\NormalTok{c.mean()])}
\NormalTok{X }\OperatorTok{=}\NormalTok{ X.dropna()}
\NormalTok{X.shape}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
(130, 8)
\end{verbatim}

åªå‰©ä¸‹130ä¸ªæ ·æœ¬äº†ã€‚

\hypertarget{ux5f52ux4e00ux5316ux548cux4e3bux6210ux5206ux5206ux6790}{%
\subsection{å½’ä¸€åŒ–å’Œä¸»æˆåˆ†åˆ†æ}\label{ux5f52ux4e00ux5316ux548cux4e3bux6210ux5206ux5206ux6790}}

å…ˆè¿›è¡Œå½’ä¸€åŒ–ï¼šå¯¹äº8ä¸ªæŒ‡æ ‡ï¼Œåœ¨æ¯ä¸€ä¸ªæŒ‡æ ‡ä¸­ï¼ˆæ¯ä¸€åˆ—ä¸­ï¼‰ï¼Œæˆ‘ä»¬æŠŠæŒ‡æ ‡å€¼æ˜ å°„åˆ°0åˆ°1ä¹‹é—´ï¼ˆæœ€ä½è€…ä¸º0ï¼Œæœ€é«˜è€…ä¸º1ï¼Œå…¶ä»–å€¼æŒ‰æ¯”ä¾‹æ’åœ¨å…¶ä¸­ï¼‰ã€‚

ç¡®ä¿æ¯ä¸€åˆ—ä»0åˆ°1åˆ†å¸ƒã€‚

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.preprocessing }\ImportTok{import}\NormalTok{ MinMaxScaler}
\ImportTok{from}\NormalTok{ sklearn.decomposition }\ImportTok{import}\NormalTok{ PCA}

\NormalTok{mms }\OperatorTok{=}\NormalTok{ MinMaxScaler()}

\NormalTok{X2 }\OperatorTok{=}\NormalTok{ mms.fit\_transform(X)}
\end{Highlighting}
\end{Shaded}

å¯¹X2è¿›è¡Œå½’ä¸€åŒ–ä¹‹åï¼Œå¯ä»¥è¿›è¡Œä¸»æˆåˆ†åˆ†æï¼Œè¦æ±‚æå–3ä¸ªä¸»æˆåˆ†ï¼ˆ8ä¸ªå˜é‡è¦æ±‚ç¼©å‡åˆ°3ä¸ªï¼‰

æ³¨æ„ï¼šå‚æ•°\texttt{n\_components}æ˜¯ä½ è¦æå–å‡ ä¸ªä¸»æˆåˆ†çš„æ„æ€ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pca }\OperatorTok{=}\NormalTok{ PCA(n\_components}\OperatorTok{=}\DecValTok{3}\NormalTok{) }\CommentTok{\# æå–3ä¸ªä¸»æˆåˆ†}
\NormalTok{Y }\OperatorTok{=}\NormalTok{ pca.fit\_transform(X2) }\CommentTok{\# è·å¾—æ–°çš„æ•°æ®}

\NormalTok{Y.shape}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
(130, 3)
\end{verbatim}

ä¾ç„¶æ˜¯130ä¸ªæ ·æœ¬ï¼Œ8ä¸ªå˜é‡ç¼©å‡3ä¸ªã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Y[:}\DecValTok{5}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([[ 1.90412959, -0.08066129, -0.39295183],
       [ 0.27675405,  0.16340431,  0.08202221],
       [ 0.03642993, -0.02642522,  0.08086289],
       [-0.04285748, -0.15449534, -0.0091774 ],
       [ 0.53442846, -0.07900558, -0.07085411]])
\end{verbatim}

æŸ¥çœ‹ç‰¹å¾å‘é‡

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pca.components\_}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([[ 3.58255463e-01,  3.77691621e-01,  4.02468928e-01,
         4.33683168e-01,  3.74982333e-01,  2.69608274e-01,
         3.20458085e-01,  2.50890372e-01],
       [ 3.59350970e-01,  1.89711676e-01,  1.43431475e-01,
         4.05273047e-01, -3.45833039e-01, -6.58048499e-01,
        -2.33127415e-01, -2.07559198e-01],
       [ 6.72839854e-02,  2.12912321e-02, -5.80726287e-04,
         3.20028729e-01, -3.32783213e-01,  6.80068064e-01,
        -4.71299118e-01, -3.11834454e-01]])
\end{verbatim}

æŸ¥çœ‹æ¯ä¸ªä¸»æˆåˆ†çš„è´¡çŒ®ç‡å’Œæ€»çš„è´¡çŒ®ç‡

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pca.explained\_variance\_ratio\_}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([0.67847685, 0.20913697, 0.07212103])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{sum}\NormalTok{(pca.explained\_variance\_ratio\_)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.9597348490623553
\end{verbatim}

ç¬¬ä¸€ä¸ªä¸»æˆåˆ†åŒ…å«äº†åŸæ•°æ®68\%å·¦å³çš„ä¿¡æ¯ï¼Œç¬¬äºŒä¸ªåŒ…å«äº†21\%å·¦å³ï¼Œç¬¬ä¸‰ä¸ªåŒ…å«äº†7.2\%å·¦å³ï¼Œåˆè®¡è§£é‡Šäº†96\%çš„ä¿¡æ¯ã€‚

ç­‰äºè¯´ï¼Œæˆ‘ä»¬ç”¨3ä¸ªå˜é‡ï¼Œå°±æ¶µç›–äº†åŸæ¥8ä¸ªå˜é‡96\%çš„ä¿¡æ¯ã€‚

ï¼ˆè§å‚è€ƒæ•™æp160-p161ï¼Œè¿™å‡ ä¸ªæ•°å­—ä¸æ•™æç›¸åŒã€‚ï¼‰

æˆ‘ä»¬æŠŠæå–çš„3ä¸ªä¸»æˆåˆ†ç»˜åˆ¶æˆ3då›¾å½¢

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{Y\_df }\OperatorTok{=}\NormalTok{ pd.DataFrame(Y)}
\NormalTok{Y\_df.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}y1\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}y2\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}y3\textquotesingle{}}\NormalTok{]}
\NormalTok{Y\_df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& y1 & y2 & y3 \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 1.904130 & -0.080661 & -0.392952 \\
1 & 0.276754 & 0.163404 & 0.082022 \\
2 & 0.036430 & -0.026425 & 0.080863 \\
3 & -0.042857 & -0.154495 & -0.009177 \\
4 & 0.534428 & -0.079006 & -0.070854 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ plotly.express }\ImportTok{as}\NormalTok{ px}
\NormalTok{fig }\OperatorTok{=}\NormalTok{ px.scatter\_3d(Y\_df, x}\OperatorTok{=}\StringTok{\textquotesingle{}y1\textquotesingle{}}\NormalTok{, y}\OperatorTok{=}\StringTok{\textquotesingle{}y2\textquotesingle{}}\NormalTok{, z}\OperatorTok{=}\StringTok{\textquotesingle{}y3\textquotesingle{}}\NormalTok{, opacity}\OperatorTok{=}\FloatTok{0.7}\NormalTok{)}
\NormalTok{fig.show()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Unable to display output for mime type(s): text/html
\end{verbatim}

\begin{verbatim}
Unable to display output for mime type(s): application/vnd.plotly.v1+json, text/html
\end{verbatim}

ä»ä»»ä½•ä¸€ä¸ªè§’åº¦çœ‹ï¼Œè®¡ç®—æœºä¸Šå¸‚å…¬å¸çš„è´¢åŠ¡æ•°æ®ï¼Œå¹¶æ²¡æœ‰æ˜¾ç¤ºå‡º``åˆ†ç±»èšé›†''çš„æƒ…å†µï¼ˆè§å¿«é€Ÿå›é¡¾çš„å›¾ï¼‰ï¼Œå› æ­¤k-meansæ¥è¿›è¡Œåˆ†æï¼Œå¯èƒ½ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚

\hypertarget{k-meansux805aux7c7bux5206ux6790}{%
\subsection{k-meansèšç±»åˆ†æ}\label{k-meansux805aux7c7bux5206ux6790}}

è™½ç„¶å¯èƒ½ä¸æ˜¯ä¸ªå¥½åŠæ³•ï¼Œä½†æ˜¯è¿‡ç¨‹è¿˜æ˜¯å¯ä»¥åšä¸€ä¸‹ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ sklearn.cluster }\ImportTok{import}\NormalTok{ KMeans}

\CommentTok{\# åˆ›å»ºä¸€ä¸ªk{-}meansæ¨¡å‹ï¼Œè¦æ±‚}
\CommentTok{\# åˆ†æˆ5ç±»ï¼Œåˆå§‹çŠ¶æ€æ˜¯0ï¼ˆè¿™ä¸ªä¸ç”¨ç®¡ï¼‰ï¼Œæœ€å¤§å¾ªç¯æ¬¡æ•°1000æ¬¡}
\NormalTok{model }\OperatorTok{=}\NormalTok{ KMeans(n\_clusters}\OperatorTok{=}\DecValTok{5}\NormalTok{,random\_state}\OperatorTok{=}\DecValTok{0}\NormalTok{,max\_iter}\OperatorTok{=}\DecValTok{1000}\NormalTok{)}

\CommentTok{\# ç”¨è¿™ä¸ªæ¨¡å‹å¯¹ä¸»æˆåˆ†æ•°æ®è¿›è¡Œåˆ†ç±»}
\NormalTok{model.fit(Y) }

\CommentTok{\# æŸ¥çœ‹åˆ†ç±»çš„ç»“æœ}
\NormalTok{model.labels\_}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([1, 3, 2, 2, 3, 2, 0, 4, 4, 3, 4, 4, 3, 3, 4, 0, 0, 4, 4, 2, 2, 3,
       4, 2, 0, 0, 3, 0, 2, 4, 4, 3, 0, 3, 4, 4, 4, 2, 0, 3, 2, 2, 4, 4,
       3, 2, 4, 4, 3, 2, 2, 2, 2, 0, 2, 0, 0, 2, 4, 3, 4, 3, 4, 4, 3, 0,
       0, 0, 0, 2, 4, 2, 3, 4, 4, 2, 2, 2, 2, 0, 3, 3, 3, 4, 4, 3, 3, 2,
       2, 2, 2, 4, 3, 4, 2, 4, 2, 3, 2, 4, 2, 2, 2, 2, 2, 4, 0, 2, 0, 0,
       2, 4, 0, 2, 3, 3, 3, 3, 0, 4, 0, 4, 3, 0, 2, 0, 0, 3, 4, 4],
      dtype=int32)
\end{verbatim}

æŠŠåˆ†ç»„ä¿¡æ¯åˆå¹¶åˆ°æˆ‘ä»¬å‰é¢ä¿ç•™çš„ä»£ç å’Œè‚¡ç¥¨ç®€ç§°æ•°æ®ä¸­ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result }\OperatorTok{=}\NormalTok{ pd.concat([code\_name, pd.Series(model.labels\_,name}\OperatorTok{=}\StringTok{\textquotesingle{}åˆ†ç»„\textquotesingle{}}\NormalTok{)],axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\NormalTok{result[result.åˆ†ç»„}\OperatorTok{==}\DecValTok{2}\NormalTok{].head(}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& è‚¡ç¥¨ä»£ç  & è‚¡ç¥¨åç§° & åˆ†ç»„ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2 & 300324 & æ—‹æä¿¡æ¯ & 2.0 \\
3 & 002230 & ç§‘å¤§è®¯é£ & 2.0 \\
5 & 002296 & è¾‰ç…Œç§‘æŠ€ & 2.0 \\
19 & 002253 & å·å¤§æ™ºèƒœ & 2.0 \\
20 & 600855 & èˆªå¤©é•¿å³° & 2.0 \\
23 & 002152 & å¹¿ç”µè¿é€š & 2.0 \\
28 & 300386 & é£å¤©è¯šä¿¡ & 2.0 \\
37 & 300212 & æ˜“åå½• & 2.0 \\
40 & 300074 & åå¹³è‚¡ä»½ & 2.0 \\
41 & 002279 & ä¹…å…¶è½¯ä»¶ & 2.0 \\
\end{longtable}

æ•´ç†ä¸€ä¸‹æ•°æ®

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{result\_km }\OperatorTok{=}\NormalTok{ result.groupby(}\StringTok{\textquotesingle{}åˆ†ç»„\textquotesingle{}}\NormalTok{)[}\StringTok{\textquotesingle{}è‚¡ç¥¨åç§°\textquotesingle{}}\NormalTok{].agg(}\KeywordTok{lambda}\NormalTok{ x:}\StringTok{\textquotesingle{}, \textquotesingle{}}\NormalTok{.join(x)).reset\_index()}
\NormalTok{result\_km}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& åˆ†ç»„ & è‚¡ç¥¨åç§° \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 0.0 & ç¥å·æ•°ç , æ±‰ç‹ç§‘æŠ€, å—å¤©ä¿¡æ¯, åˆä¼—æ€å£®, è¶…å›¾è½¯ä»¶, ä½³éƒ½ç§‘æŠ€,
æµ·å…°ä¿¡, åèƒœå¤©æˆ,... \\
1 & 1.0 & è”ç»œäº’åŠ¨ \\
2 & 2.0 & æ—‹æä¿¡æ¯, ç§‘å¤§è®¯é£, è¾‰ç…Œç§‘æŠ€, å·å¤§æ™ºèƒœ, èˆªå¤©é•¿å³°, å¹¿ç”µè¿é€š,
é£å¤©è¯šä¿¡, æ˜“åå½•,... \\
3 & 3.0 & åå®‡è½¯ä»¶, ä¸œæ–¹ç½‘åŠ›, å¤©ç‘ç§‘æŠ€, çš–é€šç§‘æŠ€, æ’åç§‘æŠ€, ä¸–çºªç‘å°”,
å¤ªæè‚¡ä»½, ä¸­æµ·è¾¾,... \\
4 & 4.0 & åšå½¦ç§‘æŠ€, äº‘èµ›æ™ºè”, ä¿¡é›…è¾¾, é‡‘è´¢äº’è”, å«å®å¥åº·, ä¸­ç§‘æ›™å…‰,
å®ä¿¡è½¯ä»¶, æ¶¦å’Œè½¯ä»¶,... \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æŸ¥çœ‹ç¬¬2ç»„çš„è‚¡ç¥¨}
\NormalTok{result\_km.iloc[}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
'æ—‹æä¿¡æ¯, ç§‘å¤§è®¯é£, è¾‰ç…Œç§‘æŠ€, å·å¤§æ™ºèƒœ, èˆªå¤©é•¿å³°, å¹¿ç”µè¿é€š, é£å¤©è¯šä¿¡, æ˜“åå½•, åå¹³è‚¡ä»½, ä¹…å…¶è½¯ä»¶, å¯æ˜ä¿¡æ¯, æ·±ç§‘æŠ€, ä¹…è¿œé“¶æµ·, é“¶ä¹‹æ°, å¤©æ´¥ç£å¡, ååŠ›åˆ›é€š, åˆ›ä¸šè½¯ä»¶, å®‰ç¡•ä¿¡æ¯, åº·æ‹“çº¢å¤–, é•¿äº®ç§‘æŠ€, æ€ç»´åˆ—æ§, åŒæ–¹è‚¡ä»½, è£ç§‘ç§‘æŠ€, æ•°å­—æ”¿é€š, æ•°ç ç§‘æŠ€, åˆçµä¿¡æ¯, åè™¹è®¡é€š, æ·æˆè‚¡ä»½, å¸¸å±±åŒ—æ˜, æ˜“è”ä¼—, åƒæ–¹ç§‘æŠ€, äºŒä¸‰å››äº”, ç§‘è¿œè‚¡ä»½, ç¾äºšæŸç§‘, åé“­æ™ºèƒ½, è¯é€šç”µå­, å…†æ—¥ç§‘æŠ€, ä¸­å¨ç”µå­, è“ç›¾è‚¡ä»½'
\end{verbatim}

\hypertarget{ux6bcfux4e00ux7ec4ux7684ux80a1ux7968ux7684ux5e73ux5747ux5229ux6da6ux589eux957fux7387}{%
\subsection{æ¯ä¸€ç»„çš„è‚¡ç¥¨çš„å¹³å‡åˆ©æ¶¦å¢é•¿ç‡}\label{ux6bcfux4e00ux7ec4ux7684ux80a1ux7968ux7684ux5e73ux5747ux5229ux6da6ux589eux957fux7387}}

åˆ†ç»„è®¡ç®—æ¯ä¸€ç»„çš„è‚¡ç¥¨15å¹´çš„åˆ©æ¶¦å¢é•¿ç‡çš„å‡å€¼ï¼Œéš¾åº¦ä½äºä½œä¸š03ï¼Œå¯ä»¥ä½œä¸ºç»ƒä¹ ã€‚

\hypertarget{ux6295ux8d44ux7ec4ux5408ux7406ux8bba}{%
\chapter{æŠ•èµ„ç»„åˆç†è®º}\label{ux6295ux8d44ux7ec4ux5408ux7406ux8bba}}

\hypertarget{ux5febux901fux590dux4e60}{%
\section{å¿«é€Ÿå¤ä¹ }\label{ux5febux901fux590dux4e60}}

è¿™é‡Œå¿«é€Ÿå¤ä¹ ä¸€ä¸‹Markowitzèµ„äº§ç»„åˆæ¨¡å‹ï¼Œè¯¦æƒ…å¯è§å¤§éƒ¨åˆ†æŠ•èµ„å­¦æ•™æï¼ˆå¦‚åšè¿ªçš„ã€ŠæŠ•èµ„å­¦ã€‹ï¼‰çš„ç›¸å…³ç« èŠ‚ã€‚

\hypertarget{ux79cdux8d44ux4ea7ux7684ux7ec4ux5408}{%
\subsection{2ç§èµ„äº§çš„ç»„åˆ}\label{ux79cdux8d44ux4ea7ux7684ux7ec4ux5408}}

è€ƒè™‘2ç§èµ„äº§çš„ç»„åˆï¼ŒæœŸæœ›æ”¶ç›Šåˆ†åˆ«æ˜¯\(r_1,r_2\)ï¼Œå„è‡ªçš„æ–¹å·®åˆ†åˆ«æ˜¯\(\sigma_1^2, \sigma_2^2\)ã€‚æŠ•èµ„çš„æƒé‡æ˜¯\(w_1, w_2\)ï¼Œå…¶ä¸­\(w_1+ w_2 = 1\)ã€‚

é‚£ä¹ˆç»„åˆæœŸæœ›æ”¶ç›Šå°±æ˜¯ï¼šï¼ˆç®€ä¾¿èµ·è§è¿™é‡Œå°±ä¸å†™æˆæœŸæœ›å½¢å¼äº†ï¼‰

\[
r_p = w_1 r_1 + w_2 r_2
\]

ç»„åˆçš„æ–¹å·®å°±æ˜¯ï¼š

\[
\sigma_p^2 =  w_1^2 \sigma_1^2 + w_2^2 \sigma_2^2 + 2 w_1 w _2 \operatorname{Cov}(r_1,r_2)
\]

ä¸€ä¸ªéšæœºå˜é‡çš„æ–¹å·®ï¼Œå°±æ˜¯å®ƒè‡ªå·±å’Œè‡ªå·±çš„åæ–¹å·®ï¼Œå› æ­¤ä¸Šå¼åˆå¯ä»¥å†™æˆï¼š

\[
\sigma_p^2 =  w_1^2 \operatorname{Cov}(r_1,r_1)+ w_2^2 \operatorname{Cov}(r_2,r_2) + 2 w_1 w _2 \operatorname{Cov}(r_1,r_2)
\]

ä¸Šé¢çš„å¼å­å¯ä»¥ç”¨åæ–¹å·®çŸ©é˜µçš„å½¢å¼æ¥è¡¨ç¤ºï¼š

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.3750}}
  >{\centering\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.2917}}
  >{\centering\arraybackslash}p{(\columnwidth - 4\tabcolsep) * \real{0.3333}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
åæ–¹å·®çŸ©é˜µ
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\(w_1\)
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
\(w_2\)
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\(w_1\) & \(\operatorname{Cov}(r_1,r_1)\) &
\(\operatorname{Cov}(r_1,r_2)\) \\
\(w_2\) & \(\operatorname{Cov}(r_2,r_1)\) &
\(\operatorname{Cov}(r_2,r_2)\) \\
\end{longtable}

å¯è§ï¼Œç»„åˆçš„æ–¹å·®ï¼Œå°±ç­‰äºä¸Šé¢çš„çŸ©é˜µä¸­çš„æ¯ä¸€ä¸ªåæ–¹å·®ï¼Œä¹˜ä»¥å¯¹åº”çš„æƒé‡ï¼Œå†ç›¸åŠ ã€‚

ç›´æ¥ä»ä¸Šå¼å¯ä»¥å¾—åˆ°ç»“è®ºï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¦‚æœ2ç§èµ„äº§æ˜¯è´Ÿç›¸å…³ï¼Œé‚£ä¹ˆä»–ä»¬çš„åæ–¹å·®å°±æ˜¯è´Ÿæ•°ï¼ˆçœ‹æœ€åä¸€é¡¹ï¼‰ï¼Œç»„åˆçš„æ–¹å·®å¿…ç„¶ä¸‹é™ã€‚
\item
  å¦‚æœ2ç§èµ„äº§æ˜¯æ­£ç›¸å…³ï¼Œä½†ç›¸å…³ç³»æ•°å°äº1ï¼Œç»„åˆçš„æ ‡å‡†å·®ä¾ç„¶ä¼šä½äº2é¡¹èµ„äº§çš„æ ‡å‡†å·®çš„åŠ æƒå¹³å‡ã€‚
\end{enumerate}

æ³¨æ„åˆ°ï¼Œæ”¶ç›Šå’Œæ–¹å·®è®¡ç®—ä¸­ï¼Œå”¯ä¸€çš„å˜é‡æ˜¯æƒé‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠæ¯ä¸€ä¸ªæƒé‡ï¼Œå¯¹åº”çš„æ”¶ç›Šå’Œæ ‡å‡†å·®è®¡ç®—å‡ºæ¥ï¼Œç»˜åˆ¶åœ¨ä¸€å¼ å›¾ä¸Šã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  é€‰æ‹©ç¬¬1ä¸ªæƒé‡ï¼Œå¦‚(0,1)ï¼Œè®¡ç®—ä»£å…¥2ä¸ªå…¬å¼ï¼Œè®¡ç®—\(r_{p1},\sigma_{p1}\)
\item
  é€‰æ‹©ç¬¬2ä¸ªæƒé‡ï¼Œå¦‚(0.1,0.9)ï¼Œè®¡ç®—ä»£å…¥2ä¸ªå…¬å¼ï¼Œè®¡ç®—\(r_{p2},\sigma_{p2}\)
\item
  é€‰æ‹©ç¬¬3ä¸ªæƒé‡ï¼Œå¦‚(0.2,0.8)ï¼Œè®¡ç®—ä»£å…¥2ä¸ªå…¬å¼ï¼Œè®¡ç®—\(r_{p3},\sigma_{p3}\)
\item
  \ldots{}
\end{enumerate}

æŠŠä¸Šè¿°æ”¶ç›Šå’Œæ ‡å‡†å·®çš„ç»„åˆç»˜åˆ¶å‡ºæ¥ï¼Œä½ ä¼šå¾—åˆ°ä¸‹å›¾ä¸­ä¸€ç»„æ›²çº¿çš„å…¶ä¸­ä¸€æ¡ï¼Œç§°ä¸º``æŠ•èµ„ç»„åˆå¯è¡Œé›†''ã€‚

æ¨ªè½´æ˜¯æ ‡å‡†å·®ï¼Œçºµè½´æ˜¯æ”¶ç›Šã€‚ï¼ˆå›¾æ¥è‡ªåšè¿ªã€ŠæŠ•èµ„å­¦ã€‹11ç‰ˆï¼‰

\includegraphics[width=\textwidth,height=4.16667in]{images/return_sd.png}

å¦‚æœ2ç§èµ„äº§çš„ç›¸å…³æ€§ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç­‰äº1ï¼Œåˆ™ç»„åˆçš„æ ‡å‡†å·®æ˜¯2è€…æ ‡å‡†å·®çš„çº¿æ€§ç»„åˆã€‚
\item
  å°äº1ï¼Œåˆ™ç»„åˆä¼šæœ‰ä¸€ä¸ªæœ€å°æ–¹å·®ç‚¹ï¼ˆæœ€å°æ ‡å‡†å·®ç‚¹ï¼‰ï¼šåœ¨è¿™ä¸ªç»„åˆä¸‹ä½ å¯ä»¥è·å¾—æœ€å°æ–¹å·®ã€‚ï¼ˆä¸¤å¤©è“è‰²çº¿ï¼‰
\item
  ç­‰äº-1ï¼Œåˆ™æŸä¸ªç»„åˆå¯ä»¥è®©æœ€å°æ–¹å·®ä¸º0ã€‚
\end{enumerate}

\hypertarget{ux8d44ux4ea7ux914dux7f6e}{%
\subsection{èµ„äº§é…ç½®}\label{ux8d44ux4ea7ux914dux7f6e}}

\includegraphics[width=\textwidth,height=3.125in]{index_files/mediabag/v2-fcc93a17db48f0ce9.png}

å¼•å…¥æ— é£é™©èµ„äº§ï¼Œæ¯”å¦‚å›½å€ºç­‰ç­‰ã€‚è€ƒè™‘æ— é£é™©èµ„äº§å’Œé£é™©èµ„äº§çš„ç»„åˆã€‚å› ä¸ºæ— é£é™©èµ„äº§å’Œç»„åˆä¹‹é—´çš„åæ–¹å·®ä¸º0ï¼Œé‚£ä¹ˆæ— é£é™©èµ„äº§å’Œé£é™©èµ„äº§çš„ç»„åˆçš„æœŸæœ›æ”¶ç›Šå’Œæ–¹å·®çš„å…³ç³»ï¼Œå°±æ˜¯ä¸€æ¡ç›´çº¿ã€‚

ç§°ä¸ºï¼š``èµ„æœ¬é…ç½®çº¿ï¼ˆCALï¼‰''ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¦‚æœå…¨éƒ¨æŠ•èµ„äºæ— é£é™©èµ„äº§ï¼Œé‚£ä¹ˆä½ è·å¾—äº†æ— é£é™©æ”¶ç›Šç‡ï¼ŒåŒæ—¶ç»„åˆæ–¹å·®ä¸º0ï¼šå°„çº¿çš„æœ€å·¦ç«¯ã€‚
\item
  éšç€ä½ å¢åŠ é£é™©èµ„äº§çš„æ¯”ä¾‹ï¼Œé‚£ä¹ˆæ–¹å·®ä¹Ÿç­‰æ¯”å¢åŠ ï¼šå› æ­¤æ˜¯ä¸€æ¡å°„çº¿ã€‚
\item
  é£é™©èµ„äº§ç»„åˆæœ‰æ— é™ç§ï¼ˆæƒé‡çš„ä¸åŒï¼‰ï¼Œåæ˜ ä¸ºè“è‰²æ›²çº¿ï¼ˆæŠ•èµ„ç»„åˆå¯è¡Œé›†ï¼‰ä¸Šçš„æ¯ä¸€ä¸ªç‚¹ã€‚é‚£ä¹ˆçº³å…¥æ— é£é™©èµ„äº§ï¼Œå°±æ˜¯ä»\(r_f\)ç‚¹ï¼Œå¼•å‡ºä¸€æ¡å°„çº¿ï¼Œç©¿è¿‡è“çº¿ä¸Šçš„æŸä¸ªç‚¹ã€‚
\item
  å°„çº¿æ–œç‡å°±æ˜¯å¤æ™®æ¯”ç‡ï¼šè¡¡é‡æ¯å•ä½é£é™©ï¼Œèƒ½å¤Ÿè·å¾—å¤šå°‘è¶…é¢æ”¶ç›Šã€‚
\item
  æ‰€ä»¥ç©¿è¿‡å“ªä¸ªç‚¹æ˜¯æœ€ä¼˜çš„ï¼Ÿæ–œç‡æœ€é«˜é‚£æ¡ï¼Œå³åˆ‡çº¿ï¼Œåˆ™åˆ‡ç‚¹ä¸º``æœ€ä¼˜é£é™©ç»„åˆ''ã€‚
\end{enumerate}

\[
S_p=\frac{\mathrm{E}\left(r_p\right)-r_f}{\sigma_p}
\]

\hypertarget{ux9a6cux79d1ux7ef4ux8328ux8d44ux4ea7ux7ec4ux5408ux9009ux62e9ux6a21ux578b}{%
\subsection{é©¬ç§‘ç»´èŒ¨èµ„äº§ç»„åˆé€‰æ‹©æ¨¡å‹}\label{ux9a6cux79d1ux7ef4ux8328ux8d44ux4ea7ux7ec4ux5408ux9009ux62e9ux6a21ux578b}}

æŠŠ2ç§èµ„äº§çš„æƒ…å†µæ‰©å±•åˆ°nç§ï¼Œé‚£ä¹ˆä¸Šé¢çš„2èµ„äº§å…¬å¼å¯ä»¥æ¨ä¸ºï¼š

ç»„åˆçš„æœŸæœ›æ”¶ç›Šï¼š

\[
r_p = \sum_{i=1}^n {w_i r_i}
\]

ç»„åˆçš„æ–¹å·®ï¼š

\[
\sigma_p^2 = \sum_{j=1}^n \sum_{i=1}^n w_i w_j \operatorname{Cov}(r_i,r_j) 
\]

å¯ä»¥æƒ³è±¡æŠŠå‰é¢çš„çŸ©é˜µæ‰©å±•åˆ°nè¡Œnåˆ—ã€‚

ä»¤\(w\)ä¸ºæƒé‡ï¼Œ\(\Sigma\)ä¸ºåæ–¹å·®çŸ©é˜µï¼Œä¸Šé¢çš„å¼å­å¯ä»¥å†™æˆçŸ©é˜µï¼š

\[
\sigma_p^2 = w^t \Sigma w
\]

ï¼ˆwçš„è½¬ç½®ï¼Œä¹˜ä»¥åæ–¹å·®çŸ©é˜µï¼Œä¹˜ä»¥wï¼‰

æˆ‘ä»¬è¦åšçš„ï¼Œå°±æ˜¯ç”¨è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿçš„æ–¹æ³•ï¼ˆè¿‘ä¼¼å¯ä»¥ç†è§£ä¸ºç©·ä¸¾æ³•ï¼‰ï¼Œå°è¯•æå¤§é‡çš„ç»„åˆï¼Œè®¡ç®—ä»–ä»¬çš„æ”¶ç›Šå’Œæ ‡å‡†å·®ï¼Œç»˜åˆ¶åœ¨å›¾ä¸Šï¼Œæœ€åè®¡ç®—å‡ºæœ€ä½³çš„ç»„åˆæƒé‡ã€‚

è›®åŠ›è®¡ç®—æ­£æ˜¯ç”µè„‘æ“…é•¿çš„ã€‚

\hypertarget{ux7ec4ux5408ux7684ux9884ux671fux6536ux76caux548cux65b9ux5dee}{%
\section{ç»„åˆçš„é¢„æœŸæ”¶ç›Šå’Œæ–¹å·®}\label{ux7ec4ux5408ux7684ux9884ux671fux6536ux76caux548cux65b9ux5dee}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ä»¥ä¸‹éƒ½æ˜¯ä¾‹è¡Œå…¬äº‹ï¼Œç›´æ¥æ‹·è´å³å¯}

\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\ImportTok{import}\NormalTok{ numpy }\ImportTok{as}\NormalTok{ np }

\CommentTok{\# å¯¼å…¥matplotlib.pyplotç»˜å›¾åº“ï¼Œå…¶ä¸­plt.plot()æ˜¯æœ€å¸¸ç”¨çš„ç»˜å›¾å‡½æ•°ä¹‹ä¸€}
\ImportTok{import}\NormalTok{ matplotlib.pyplot }\ImportTok{as}\NormalTok{ plt }

\ImportTok{import}\NormalTok{ seaborn }\ImportTok{as}\NormalTok{ sns}

\NormalTok{sns.}\BuiltInTok{set}\NormalTok{() }\CommentTok{\# é»˜è®¤ç”¨seabornçš„ç»˜å›¾æ ·å¼}

\NormalTok{plt.rcParams[}\StringTok{"font.sans{-}serif"}\NormalTok{]}\OperatorTok{=}\NormalTok{[}\StringTok{"Microsoft YaHei"}\NormalTok{] }\CommentTok{\#è®¾ç½®å­—ä½“ã€‚å¦‚æœä¸è®¾ç½®ï¼Œä¸­æ–‡ä¼šä¹±ç ã€‚è¿™é‡Œé‡‡ç”¨å¾®è½¯é›…é»‘\textquotesingle{}Microsoft YaHei\textquotesingle{}ï¼Œå¦‚æœæ˜¾ç¤ºä¸æ­£å¸¸ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»‘ä½“\textquotesingle{}SimHei\textquotesingle{}æˆ–è€…å®‹ä½“\textquotesingle{}SimSun\textquotesingle{}ç­‰}
\NormalTok{plt.rcParams[}\StringTok{"axes.unicode\_minus"}\NormalTok{]}\OperatorTok{=}\VariableTok{False} \CommentTok{\#è¯¥è¯­å¥è§£å†³å›¾åƒä¸­çš„â€œ{-}â€è´Ÿå·çš„ä¹±ç é—®é¢˜}

\CommentTok{\# ç»˜å›¾ä½¿ç”¨\textquotesingle{}svg\textquotesingle{}åç«¯ï¼šsvgæ˜¯çŸ¢é‡æ ¼å¼ï¼Œå¯ä»¥ä»»æ„ç¼©æ”¾å‡ä¿æŒæ¸…æ™°ï¼Œå„ç§å±å¹•çš„æ˜¾ç¤ºè‰¯å¥½ã€‚}
\OperatorTok{\%}\NormalTok{config InlineBackend.figure\_formats }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}svg\textquotesingle{}}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

ä½¿ç”¨æ•°æ®\texttt{returns.xlsx}ï¼Œé‡Œé¢åŒ…å«äº†3åªè‚¡ç¥¨çš„æ—¥å›æŠ¥ç‡æ•°æ®ã€‚

æ³¨ï¼šä¸ºä»€ä¹ˆè¦ç”¨æ—¥å›æŠ¥ç‡æ•°æ®ï¼Ÿå› ä¸ºæ—¥å›æŠ¥ç‡ä¸ç”¨è€ƒè™‘åˆ†çº¢ã€æ‹†åˆ†æˆ–è€…å¤æƒä¹‹ç±»çš„å› ç´ ã€‚å½“ç„¶ï¼Œä½ ç”¨å¤æƒä»·æ ¼æ•°æ®åç®—ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#  è¯»å–æ•°æ®å¹¶æŸ¥çœ‹}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/returns.xlsx\textquotesingle{}}\NormalTok{,converters}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}æ—¥æœŸ\textquotesingle{}}\NormalTok{:pd.to\_datetime\})}

\NormalTok{df.set\_index(}\StringTok{\textquotesingle{}æ—¥æœŸ\textquotesingle{}}\NormalTok{,inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{df.head() }
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& æ¯”äºšè¿ª & ç¾çš„é›†å›¢ & å¹³å®‰é“¶è¡Œ \\
æ—¥æœŸ & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2019-01-02 & -0.035882 & -0.011394 & -0.020256 \\
2019-01-03 & -0.022575 & -0.006586 & 0.009793 \\
2019-01-04 & 0.053891 & 0.021823 & 0.050647 \\
2019-01-07 & 0.014610 & 0.000000 & -0.001026 \\
2019-01-08 & 0.028994 & -0.003514 & -0.008214 \\
\end{longtable}

æ”¶ç›Šç‡ç­‰äº \[
r_1 = x_1/x_0 - 1
\]

å¯¹æ•°æ”¶ç›Šç‡ç­‰äº \[
lr_1 = \ln {x_1/x_0} = \ln(r_1 + 1)
\]

ä»å¯¹æ•°æ”¶ç›Šç‡ç®—æ”¶ç›Šç‡ \[
r_1 = e^{lr_1} - 1
\]

ä¸ºä»€ä¹ˆè¦ç”¨å¯¹æ•°æ”¶ç›Šç‡ï¼Ÿå› ä¸ºå¯¹æ•°æ”¶ç›Šç‡å…·æœ‰å¯åŠ æ€§ï¼šç¬¬1æœŸæœŸåˆï¼Œä¸€ç›´æŒæœ‰åˆ°ç¬¬2æœŸæœŸæœ«ï¼ŒæŒæœ‰2æœŸçš„å¯¹æ•°æ”¶ç›Šç‡ï¼Œæ­£å¥½æ˜¯2æœŸå„è‡ªå¯¹æ•°æ”¶ç›Šç‡çš„ç›´æ¥ç›¸åŠ ã€‚

\[
lr_{12} = lr_1 + lr_2
\]

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¦ç®—\textbf{ä¸€æ®µæ—¶é—´}çš„æ”¶ç›Šç‡ï¼Œåªè¦ä»ç¬¬ä¸€ä¸ªäº¤æ˜“çš„å¯¹æ•°æ”¶ç›Šç‡ï¼Œä¸€ç›´ç´¯åŠ ï¼ŒåŠ åˆ°æœ€åä¸€ä¸ªäº¤æ˜“æ—¥çš„å¯¹æ•°æ”¶ç›Šç‡ï¼Œå°±æ˜¯è¿™æ®µæ—¶é—´çš„å¯¹æ•°æ”¶ç›Šç‡ã€‚
\item
  è¦ç®—\textbf{å¹´åŒ–}æ”¶ç›Šç‡ï¼Œæ±‚æ•´ä¸ªåºåˆ—çš„æ—¥å¹³å¯¹æ•°æ”¶ç›Šç‡ï¼Œå†ä¹˜ä»¥ä¸€å¹´çš„äº¤æ˜“æ—¥250å³å¯ã€‚
\end{enumerate}

ä»æ”¶ç›Šç‡è®¡ç®—å¯¹æ•°æ”¶ç›Šç‡

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{rets }\OperatorTok{=}\NormalTok{ np.log(df }\OperatorTok{+} \DecValTok{1}\NormalTok{)}
\NormalTok{rets.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& æ¯”äºšè¿ª & ç¾çš„é›†å›¢ & å¹³å®‰é“¶è¡Œ \\
æ—¥æœŸ & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2019-01-02 & -0.036542 & -0.011459 & -0.020464 \\
2019-01-03 & -0.022834 & -0.006608 & 0.009745 \\
2019-01-04 & 0.052489 & 0.021588 & 0.049406 \\
2019-01-07 & 0.014504 & 0.000000 & -0.001027 \\
2019-01-08 & 0.028582 & -0.003520 & -0.008248 \\
\end{longtable}

æŠ•èµ„1å…ƒçš„æ›²çº¿

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{(df}\OperatorTok{+}\DecValTok{1}\NormalTok{).cumprod().plot()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/34-portfolio_files/figure-pdf/cell-5-output-1.pdf}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{rets.mean()}\OperatorTok{*}\DecValTok{250} \CommentTok{\# å¯¹æ•°æ”¶ç›Šç‡çš„å¯åŠ æ€§ï¼Œæ±‚â€œå‡å€¼ * ä¸€å¹´çš„äº¤æ˜“æ—¥æ•°â€ï¼Œå°±æ˜¯å¹´åŒ–ï¼ˆå¯¹æ•°ï¼‰æ”¶ç›Šç‡}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
æ¯”äºšè¿ª     0.688826
ç¾çš„é›†å›¢    0.531378
å¹³å®‰é“¶è¡Œ    0.385595
dtype: float64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{rets.cov() }\OperatorTok{*} \DecValTok{250} \CommentTok{\# å¹´åŒ–åæ–¹å·®çŸ©é˜µ}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& æ¯”äºšè¿ª & ç¾çš„é›†å›¢ & å¹³å®‰é“¶è¡Œ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
æ¯”äºšè¿ª & 0.226201 & 0.054389 & 0.046846 \\
ç¾çš„é›†å›¢ & 0.054389 & 0.098938 & 0.051926 \\
å¹³å®‰é“¶è¡Œ & 0.046846 & 0.051926 & 0.108442 \\
\end{longtable}

\hypertarget{ux7ed9ux5b9aux6743ux91cdux7684ux60c5ux51b5}{%
\subsection{ç»™å®šæƒé‡çš„æƒ…å†µ}\label{ux7ed9ux5b9aux6743ux91cdux7684ux60c5ux51b5}}

é¦–å…ˆï¼Œéšæœºç”Ÿæˆ3ä¸ªæƒé‡

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è¯åˆ¸æ•°é‡ number of assets}
\NormalTok{noa }\OperatorTok{=}\NormalTok{ rets.shape[}\DecValTok{1}\NormalTok{]}
\NormalTok{noa}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
3
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{weights }\OperatorTok{=}\NormalTok{ np.random.random(noa) }\CommentTok{\# ç”Ÿæˆ3ä¸ªéšæœºæ•°}
\NormalTok{weights }\OperatorTok{/=}\NormalTok{ np.}\BuiltInTok{sum}\NormalTok{(weights) }\CommentTok{\# ä½¿3ä¸ªéšæœºæ•°çš„å’Œä¸º1}
\NormalTok{weights}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([0.17537754, 0.15829655, 0.66632591])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{weights.}\BuiltInTok{sum}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
1.0
\end{verbatim}

è®¡ç®—ç»„åˆçš„æ–¹å·®

\[
\sigma_p^2 = w^t \Sigma w
\]

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.dot(weights.T, np.dot(rets.cov() }\OperatorTok{*} \DecValTok{250}\NormalTok{ , weights)) }\CommentTok{\# çŸ©é˜µä¹˜æ³•æ»¡è¶³ç»“åˆå¾‹}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.08250643536479702
\end{verbatim}

æ˜¾ç„¶æ ‡å‡†å·®å°±æ˜¯æ–¹å·®å¼€æ ¹å·

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.sqrt(np.dot(weights.T, np.dot(rets.cov() }\OperatorTok{*} \DecValTok{250}\NormalTok{, weights))) }
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.28723933464063905
\end{verbatim}

å†™2ä¸ªå‡½æ•°ï¼Œè®¡ç®—åœ¨ç‰¹å®šçš„æƒé‡ä¸‹ï¼Œè‚¡ç¥¨çš„æ”¶ç›Šç‡å’Œæ–¹å·®ã€‚

retsï¼šå¯¹æ•°å›æŠ¥ç‡çš„åºåˆ— rets.mean()ï¼šæ—¥å‡å¯¹æ•°æ”¶ç›Šç‡ rets.mean() * weights
ï¼šä¹˜ä»¥æƒé‡åçš„æ—¥å‡å¯¹æ•°æ”¶ç›Šç‡

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{rets.mean() }\OperatorTok{*}\NormalTok{ weights}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
æ¯”äºšè¿ª     0.000483
ç¾çš„é›†å›¢    0.000336
å¹³å®‰é“¶è¡Œ    0.001028
dtype: float64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ port\_ret(weights): }
    \CommentTok{"""å¹´åŒ–å¯¹æ•°æ”¶ç›Šç‡}
\CommentTok{    """}
    \ControlFlowTok{return}\NormalTok{ np.}\BuiltInTok{sum}\NormalTok{(rets.mean() }\OperatorTok{*}\NormalTok{ weights) }\OperatorTok{*} \DecValTok{250}

\KeywordTok{def}\NormalTok{ port\_vol(weights): }
    \CommentTok{"""å¹´åŒ–æ”¶ç›Šç‡çš„æ ‡å‡†å·®}
\CommentTok{    """}
    \ControlFlowTok{return}\NormalTok{ np.sqrt(np.dot(weights.T, np.dot(rets.cov() }\OperatorTok{*} \DecValTok{250}\NormalTok{ , weights))) }
\end{Highlighting}
\end{Shaded}

å¾ªç¯Næ¬¡ï¼Œæ¯æ¬¡éšæœºç”Ÿæˆä¸€ç»„æƒé‡ï¼Œç„¶åè®¡ç®—å¹´åŒ–æ”¶ç›Šç‡å’Œå¹´åŒ–æ ‡å‡†å·®ã€‚æˆ‘ä»¬å°±å¯ä»¥è·å¾—Nç»„ï¼ˆæ”¶ç›Šç‡,
æ ‡å‡†å·®ï¼Œæƒé‡ï¼‰çš„ç»„åˆã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{prets }\OperatorTok{=}\NormalTok{ []  }\CommentTok{\# æ”¶ç›Šç‡}
\NormalTok{pvols }\OperatorTok{=}\NormalTok{ []  }\CommentTok{\# æ ‡å‡†å·®}
\NormalTok{w }\OperatorTok{=}\NormalTok{ []}
\ControlFlowTok{for}\NormalTok{ p }\KeywordTok{in} \BuiltInTok{range}\NormalTok{ (}\DecValTok{5000}\NormalTok{):  }\CommentTok{\# é‡å¤5000æ¬¡}
\NormalTok{    weights }\OperatorTok{=}\NormalTok{ np.random.random(noa)  }
\NormalTok{    weights }\OperatorTok{/=}\NormalTok{ np.}\BuiltInTok{sum}\NormalTok{(weights)  }\CommentTok{\# æ¯æ¬¡é‡å¤ï¼Œéƒ½éšæœºå–å¾—3ä¸ªæƒé‡ã€‚}
\NormalTok{    w.append(weights)}
\NormalTok{    prets.append(port\_ret(weights))  }\CommentTok{\# è®¡ç®—ç»„åˆæ”¶ç›Š}
\NormalTok{    pvols.append(port\_vol(weights))  }\CommentTok{\# è®¡ç®—ç»„åˆæ ‡å‡†å·®}
    
\NormalTok{prets }\OperatorTok{=}\NormalTok{ np.array(prets) }
\NormalTok{pvols}\OperatorTok{=}\NormalTok{ np.array(pvols) }
\end{Highlighting}
\end{Shaded}

\hypertarget{ux6700ux5c0fux65b9ux5deeux70b9}{%
\subsection{æœ€å°æ–¹å·®ç‚¹}\label{ux6700ux5c0fux65b9ux5deeux70b9}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{i }\OperatorTok{=}\NormalTok{ (np.where(pvols }\OperatorTok{==} \BuiltInTok{min}\NormalTok{(pvols)))[}\DecValTok{0}\NormalTok{][}\DecValTok{0}\NormalTok{]}
\NormalTok{w[i].}\BuiltInTok{round}\NormalTok{(}\DecValTok{3}\NormalTok{) }\CommentTok{\# æƒé‡}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([0.132, 0.459, 0.409])
\end{verbatim}

ç»˜å›¾

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{, }\DecValTok{5}\NormalTok{)) }
\NormalTok{plt.scatter(pvols, prets, c}\OperatorTok{=}\NormalTok{prets }\OperatorTok{/}\NormalTok{ pvols, }
\NormalTok{            marker}\OperatorTok{=}\StringTok{\textquotesingle{}o\textquotesingle{}}\NormalTok{, cmap}\OperatorTok{=}\StringTok{\textquotesingle{}coolwarm\textquotesingle{}}\NormalTok{,s }\OperatorTok{=} \DecValTok{5}\NormalTok{,alpha}\OperatorTok{=}\FloatTok{0.5}\NormalTok{) }
\NormalTok{plt.colorbar(label}\OperatorTok{=}\StringTok{\textquotesingle{}Sharpe ratio(rf=0)\textquotesingle{}}\NormalTok{)}\OperatorTok{;}  \CommentTok{\# }
\NormalTok{plt.scatter(pvols[i],prets[i],c}\OperatorTok{=}\StringTok{\textquotesingle{}k\textquotesingle{}}\NormalTok{,s }\OperatorTok{=} \DecValTok{50}\NormalTok{,marker}\OperatorTok{=}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{) }\CommentTok{\# æœ€å°æ–¹å·®ç‚¹}
\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}SD\textquotesingle{}}\NormalTok{) }
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}é¢„æœŸæ”¶ç›Šç‡\textquotesingle{}}\NormalTok{) }\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/34-portfolio_files/figure-pdf/cell-17-output-1.pdf}

}

\end{figure}

\hypertarget{ux98ceux9669ux8d44ux4ea7ux7684ux6709ux6548ux8fb9ux754c}{%
\section{é£é™©èµ„äº§çš„æœ‰æ•ˆè¾¹ç•Œ}\label{ux98ceux9669ux8d44ux4ea7ux7684ux6709ux6548ux8fb9ux754c}}

å‰é¢æˆ‘ä»¬ç»˜åˆ¶äº†é¢„æœŸæ”¶ç›Šå’Œæ ‡å‡†å·®ä¹‹é—´ä»å…³ç³»ï¼Œæ˜¾ç„¶ç»™å®šæ”¶ç›Šï¼Œæ­£å¸¸äººéƒ½ä¼šé€‰æ‹©é£é™©æœ€å°çš„ç»„åˆï¼Œå³é£é™©èµ„äº§çš„\textbf{æœ€å°æ–¹å·®è¾¹ç•Œ}ï¼Œå°±æ˜¯ä¸Šå›¾ä¸­å…¨éƒ¨ç‚¹æ‰€åœ¨åŒºåŸŸçš„å·¦ä¾§è¾¹ç•Œã€‚

åœ¨æœ€å°æ–¹å·®è¾¹ç•Œä¸­ï¼Œæœ€å°æ–¹å·®ç‚¹ä¹‹ä¸Šçš„éƒ¨åˆ†ï¼Œç§°ä¸º\textbf{é£é™©èµ„äº§æœ‰æ•ˆè¾¹ç•Œ}ã€‚åœ¨è¿™æ¡çº¿ä¸Šç‚¹ï¼Œè¡¨ç¤ºç»™å®šæ”¶ç›Šçš„æœ€å°é£é™©ï¼Œæˆ–è€…ç»™å®šé£é™©çš„æœ€å¤§æ”¶ç›Šã€‚

æ˜¾ç„¶ï¼Œæˆ‘ä»¬å®é™…ä¼šé€‰æ‹©çš„ç»„åˆå¿…ç„¶åœ¨æ¡çº¿ä¸Šã€‚

\hypertarget{ux6700ux5c0fux6807ux51c6ux5deeux7ec4ux5408}{%
\subsection{æœ€å°æ ‡å‡†å·®ç»„åˆ}\label{ux6700ux5c0fux6807ux51c6ux5deeux7ec4ux5408}}

æˆ‘ä»¬çš„åšæ³•æ˜¯ç»™å®šä¸€ä¸ªæ”¶ç›Šç‡ï¼Œæ¯”å¦‚0.55ï¼Œç„¶åæ±‚æ ‡å‡†å·®æœ€ä½çš„ç»„åˆã€‚

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ scipy.optimize }\ImportTok{as}\NormalTok{ sco}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{tret }\OperatorTok{=} \FloatTok{0.55}  \CommentTok{\# ç›®æ ‡æ”¶ç›Šç‡}

\NormalTok{bnds }\OperatorTok{=} \BuiltInTok{tuple}\NormalTok{((}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ weights)  }\CommentTok{\# 3ä¸ªæƒé‡çš„åŒºé—´éƒ½æ˜¯0åˆ°1}

\NormalTok{cons }\OperatorTok{=}\NormalTok{ (\{}\StringTok{\textquotesingle{}type\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}eq\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}fun\textquotesingle{}}\NormalTok{: }\KeywordTok{lambda}\NormalTok{ x: port\_ret(x) }\OperatorTok{{-}}\NormalTok{ tret\},}
\NormalTok{        \{}\StringTok{\textquotesingle{}type\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}eq\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}fun\textquotesingle{}}\NormalTok{: }\KeywordTok{lambda}\NormalTok{ x: np.}\BuiltInTok{sum}\NormalTok{(x) }\OperatorTok{{-}} \DecValTok{1}\NormalTok{\})}

\NormalTok{eweights }\OperatorTok{=}\NormalTok{ np.array(noa }\OperatorTok{*}\NormalTok{ [}\FloatTok{1.} \OperatorTok{/}\NormalTok{ noa, ])}

\NormalTok{res }\OperatorTok{=}\NormalTok{ sco.minimize(port\_vol, eweights, method}\OperatorTok{=}\StringTok{\textquotesingle{}SLSQP\textquotesingle{}}\NormalTok{,}
\NormalTok{                   bounds}\OperatorTok{=}\NormalTok{bnds, constraints}\OperatorTok{=}\NormalTok{cons)}
\end{Highlighting}
\end{Shaded}

ç»™å®štret = 0.55ï¼Œæœ€å°çš„æ ‡å‡†å·®æ˜¯

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{res.fun}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.28551471742047785
\end{verbatim}

å¯¹åº”çš„æƒé‡æ˜¯

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{res.x}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([0.27144962, 0.56311773, 0.16543265])
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ find\_min\_sd(tret):}
    \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{}å¯¹äºæŒ‡å®šçš„æ”¶ç›Šç‡tretï¼Œæ‰¾åˆ°æœ€å°æ ‡å‡†å·®çš„ç»„åˆï¼Œå¹¶è¿”å›æ ‡å‡†å·®\textquotesingle{}\textquotesingle{}\textquotesingle{}}
\NormalTok{    bnds }\OperatorTok{=} \BuiltInTok{tuple}\NormalTok{((}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{) }\ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ weights)  }\CommentTok{\# 3ä¸ªæƒé‡çš„åŒºé—´éƒ½æ˜¯0åˆ°1}

\NormalTok{    cons }\OperatorTok{=}\NormalTok{ (\{}\StringTok{\textquotesingle{}type\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}eq\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}fun\textquotesingle{}}\NormalTok{: }\KeywordTok{lambda}\NormalTok{ x: port\_ret(x) }\OperatorTok{{-}}\NormalTok{ tret\},}
\NormalTok{            \{}\StringTok{\textquotesingle{}type\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}eq\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}fun\textquotesingle{}}\NormalTok{: }\KeywordTok{lambda}\NormalTok{ x: np.}\BuiltInTok{sum}\NormalTok{(x) }\OperatorTok{{-}} \DecValTok{1}\NormalTok{\})}

\NormalTok{    eweights }\OperatorTok{=}\NormalTok{ np.array(noa }\OperatorTok{*}\NormalTok{ [}\FloatTok{1.} \OperatorTok{/}\NormalTok{ noa, ])}

\NormalTok{    res }\OperatorTok{=}\NormalTok{ sco.minimize(port\_vol, eweights, method}\OperatorTok{=}\StringTok{\textquotesingle{}SLSQP\textquotesingle{}}\NormalTok{,}
\NormalTok{                    bounds}\OperatorTok{=}\NormalTok{bnds, constraints}\OperatorTok{=}\NormalTok{cons) }

    \ControlFlowTok{return}\NormalTok{ res.fun}


\NormalTok{find\_min\_sd(}\FloatTok{0.55}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.28551471742047785
\end{verbatim}

\hypertarget{ux8ba1ux7b97ux6709ux6548ux8fb9ux754c}{%
\subsection{è®¡ç®—æœ‰æ•ˆè¾¹ç•Œ}\label{ux8ba1ux7b97ux6709ux6548ux8fb9ux754c}}

å¯¹äº0.45åˆ°0.68ä¹‹é—´çš„æ”¶ç›Šç‡ï¼Œåˆ‡æˆ50æ®µï¼Œå¯¹å…¶ä¸­æ¯ä¸€ä¸ªæ”¶ç›Šç‡ï¼Œéƒ½è®¡ç®—å°æ ‡å‡†å·®ç»„åˆã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{trets }\OperatorTok{=}\NormalTok{ np.linspace(}\FloatTok{0.45}\NormalTok{, }\FloatTok{0.68}\NormalTok{, }\DecValTok{50}\NormalTok{) }

\NormalTok{tvols }\OperatorTok{=}\NormalTok{ np.array([find\_min\_sd(tret) }\ControlFlowTok{for}\NormalTok{ tret }\KeywordTok{in}\NormalTok{ trets])}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{i }\OperatorTok{=}\NormalTok{ np.where(tvols }\OperatorTok{==} \BuiltInTok{min}\NormalTok{(tvols))[}\DecValTok{0}\NormalTok{][}\DecValTok{0}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{, }\DecValTok{5}\NormalTok{)) }
\NormalTok{plt.scatter(pvols, prets, c}\OperatorTok{=}\NormalTok{prets }\OperatorTok{/}\NormalTok{ pvols, }
\NormalTok{            marker}\OperatorTok{=}\StringTok{\textquotesingle{}o\textquotesingle{}}\NormalTok{, cmap}\OperatorTok{=}\StringTok{\textquotesingle{}coolwarm\textquotesingle{}}\NormalTok{,s }\OperatorTok{=} \DecValTok{5}\NormalTok{,alpha}\OperatorTok{=}\FloatTok{0.5}\NormalTok{) }
\NormalTok{plt.colorbar(label}\OperatorTok{=}\StringTok{\textquotesingle{}Sharpe ratio(rf=0)\textquotesingle{}}\NormalTok{)}\OperatorTok{;}  \CommentTok{\# }
\NormalTok{plt.plot(tvols[i:],trets[i:],c}\OperatorTok{=}\StringTok{\textquotesingle{}blue\textquotesingle{}}\NormalTok{,lw}\OperatorTok{=}\DecValTok{3}\NormalTok{)}
\CommentTok{\#plt.scatter(tvols[i], trets[i], c=\textquotesingle{}k\textquotesingle{},s = 50,marker=\textquotesingle{}x\textquotesingle{})}
\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}SD\textquotesingle{}}\NormalTok{) }
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}é¢„æœŸæ”¶ç›Šç‡\textquotesingle{}}\NormalTok{) }\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/34-portfolio_files/figure-pdf/cell-25-output-1.pdf}

}

\end{figure}

\hypertarget{ux8d44ux672cux5e02ux573aux7ebf}{%
\section{èµ„æœ¬å¸‚åœºçº¿}\label{ux8d44ux672cux5e02ux573aux7ebf}}

æŠŠæ— é£é™©èµ„äº§åŠ å…¥ç»„åˆ

ä»¤èµ„æœ¬å¸‚åœºçº¿ ä¸º \$ y = a + b x\(ï¼Œæœ‰æ•ˆè¾¹ç•Œä¸º\)y=f(x)\$ï¼Œæœ‰å‡ ä¸ªæ¡ä»¶ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æˆªè·=æ— é£é™©åˆ©ç‡
\item
  èµ„æœ¬å¸‚åœºçº¿å’Œæœ‰æ•ˆè¾¹ç•Œåœ¨\(x\)å¤„ç›¸äº¤
\item
  èµ„æœ¬å¸‚åœºçº¿å’Œæœ‰æ•ˆè¾¹ç•Œåœ¨\(x\)å¤„æ–œç‡ç›¸ç­‰
\end{enumerate}

ä»¤æœ‰æœ‰æ•ˆè¾¹ç•Œä¸º\(f(x)\)ï¼Œèµ„æœ¬å¸‚åœºçº¿ä¼šä¸æœ‰æ•ˆè¾¹ç•Œç›¸åˆ‡ï¼Œé‚£ä¹ˆåœ¨åˆ‡ç‚¹\(x\)ä¸Šï¼Œä¸¤è€…çš„ä¸€é˜¶å€’æ•°ç›¸ç­‰ã€‚

\[
b = f'(x)
\]

é—®é¢˜åœ¨äºï¼Œæœ‰æ•ˆè¾¹ç•Œæ˜¯æˆ‘ä»¬ç”¨æ¨¡æ‹Ÿæ–¹æ³•ï¼ˆå¤§é‡çš„å–ç‚¹ï¼‰è®¡ç®—å‡ºæ¥çš„ï¼Œæœ‰æ•ˆè¾¹ç•Œçš„æ•°æ®æœ¬è´¨ä¸Šä»¥ä¸€ç³»åˆ—çš„ç‚¹ï¼Œå¦‚ä½•è·å¾—æœ‰æ•ˆè¾¹ç•Œçš„ä¸€é˜¶å¯¼æ•°ï¼Ÿ

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{splrep()}å‡½æ•°ï¼šå¯ä»¥å¯¹ç»™å®šçš„xåºåˆ—å’Œyåºåˆ—ï¼Œæ‹Ÿåˆä¸€æ¡æ ·æ¡æ›²çº¿ã€‚
\item
  \texttt{splev()}å‡½æ•°ï¼šåˆ©ç”¨ä¸Šä¸€æ­¥è·å¾—çš„æ›²çº¿ï¼Œå¯ä»¥å¯¹xæ±‚å‡½æ•°å€¼æˆ–è€…ä¸€é˜¶å¯¼å‡½æ•°çš„å€¼ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ scipy.interpolate }\ImportTok{as}\NormalTok{ sci}
\NormalTok{ind }\OperatorTok{=}\NormalTok{ np.argmin(tvols)}
\NormalTok{evols }\OperatorTok{=}\NormalTok{ tvols[ind:] }\CommentTok{\# æœ‰æ•ˆè¾¹ç•Œçš„æ¨ªè½´ï¼ˆæ ‡å‡†å·®ï¼‰}
\NormalTok{erets }\OperatorTok{=}\NormalTok{ trets[ind:] }\CommentTok{\# æœ‰æ•ˆè¾¹ç•Œçš„çºµè½´ï¼ˆæ”¶ç›Šç‡ï¼‰}

\CommentTok{\# è·å¾—æœ‰æ•ˆè¾¹ç•Œçš„æ ·æ¡æ›²çº¿}
\NormalTok{tck }\OperatorTok{=}\NormalTok{ sci.splrep(evols, erets)}


\KeywordTok{def}\NormalTok{ f(x):}
    \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{} æœ‰æ•ˆè¾¹ç•Œå‡½æ•° (æ ·æ¡æ›²çº¿é€¼è¿‘). \textquotesingle{}\textquotesingle{}\textquotesingle{}}
    \ControlFlowTok{return}\NormalTok{ sci.splev(x, tck, der}\OperatorTok{=}\DecValTok{0}\NormalTok{)}


\KeywordTok{def}\NormalTok{ df(x):}
    \CommentTok{\textquotesingle{}\textquotesingle{}\textquotesingle{} æ ·æ¡æ›²çº¿å‡½æ•°çš„ä¸€é˜¶å¯¼å‡½æ•° \textquotesingle{}\textquotesingle{}\textquotesingle{}}
    \ControlFlowTok{return}\NormalTok{ sci.splev(x, tck, der}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

å¯¹äºä»»ä½•ä¸€ä¸ª\(x\)ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥è·å¾—æœ‰æ•ˆè¾¹ç•Œçš„å€¼\(f(x)\)ï¼Œä»¥åŠä¸€é˜¶å¯¼æ•°\(f'(x)\)

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{x }\OperatorTok{=} \FloatTok{0.325}
\BuiltInTok{print}\NormalTok{(}\SpecialStringTok{f\textquotesingle{}}\SpecialCharTok{\{}\NormalTok{f(x)}\OperatorTok{=}\SpecialCharTok{\}}\SpecialStringTok{, }\SpecialCharTok{\{}\NormalTok{df(x)}\OperatorTok{=}\SpecialCharTok{\}}\SpecialStringTok{\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
f(x)=array(0.60642485), df(x)=array(0.87363669)
\end{verbatim}

æˆ‘ä»¬ä»¤
\(p = \{a,b,x\}\)ï¼Œåˆ†åˆ«è¡¨ç¤ºèµ„æœ¬å¸‚åœºçº¿çš„æˆªè·ã€æ–œç‡ã€ä»¥åŠåˆ‡ç‚¹çš„æ¨ªåæ ‡ã€‚

èµ„æœ¬å¸‚åœºçº¿çš„ä¸‰ä¸ªæ¡ä»¶ï¼Œå¯ä»¥å†™æˆæ–¹ç¨‹ç»„ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æˆªè·=æ— é£é™©åˆ©ç‡ï¼Œ \(a = r_f\) ï¼š\texttt{a\ =\ rf}
\item
  èµ„æœ¬å¸‚åœºçº¿å’Œæœ‰æ•ˆè¾¹ç•Œåœ¨\(x\)å¤„ç›¸äº¤ï¼Œ\(f(x) = a + b*x\)ï¼š\texttt{f(x)\ =\ a\ +\ b\ *\ x}
\item
  èµ„æœ¬å¸‚åœºçº¿å’Œæœ‰æ•ˆè¾¹ç•Œåœ¨\(x\)å¤„æ–œç‡ç›¸ç­‰ï¼Œ\(b = f'(x)\)ï¼š\texttt{b\ =\ df(x)}
\end{enumerate}

ç”¨\texttt{fsolve()}å‡½æ•°å¯ä»¥è§£è¿™ä¸ªæ–¹ç¨‹ï¼Œå‚æ•°åˆ†åˆ«æ˜¯ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ–¹ç¨‹ç»„ã€‚
\item
  åˆå§‹å‚æ•°ï¼šè¿™æ˜¯ä½ å¯¹è§£çš„åˆç†çš„çŒœæµ‹ã€‚å¦‚æœçŒœå¾—å¤ªè¿œï¼Œå°±æ— æ³•ç»™å‡ºæ­£ç¡®çš„è§£ã€‚
\end{enumerate}

æˆ‘ä»¬çŒœæµ‹ï¼Œæ— é£é™©åˆ©ç‡ç»™å®šä¸º0.05ï¼Œåˆ‡ç‚¹å¤§æ¦‚åœ¨0.3é™„è¿‘ï¼Œæ–œç‡çŒœæµ‹æ˜¯1å·¦å³ï¼ˆ45Â°ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯¹pçš„çŒœæµ‹å°±æ˜¯\texttt{{[}0.05,\ 0.5,\ 0.3{]}}ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# èµ„æœ¬å¸‚åœºçº¿çš„æ–¹ç¨‹ç»„}
\KeywordTok{def}\NormalTok{ equations(p, rf}\OperatorTok{=}\FloatTok{0.05}\NormalTok{):}
\NormalTok{    a,b,x }\OperatorTok{=}\NormalTok{ p}
\NormalTok{    eq1 }\OperatorTok{=}\NormalTok{ rf }\OperatorTok{{-}}\NormalTok{ a}
\NormalTok{    eq2 }\OperatorTok{=}\NormalTok{ a }\OperatorTok{+}\NormalTok{ b }\OperatorTok{*}\NormalTok{ x }\OperatorTok{{-}}\NormalTok{ f(x)}
\NormalTok{    eq3 }\OperatorTok{=}\NormalTok{ b }\OperatorTok{{-}}\NormalTok{ df(x)}
    \ControlFlowTok{return}\NormalTok{ eq1, eq2, eq3}

\CommentTok{\# æ±‚è§£æ–¹ç¨‹ç»„}
\NormalTok{opt }\OperatorTok{=}\NormalTok{ sco.fsolve(equations, [}\FloatTok{0.05}\NormalTok{, }\FloatTok{0.5}\NormalTok{, }\FloatTok{0.3}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

çœ‹çœ‹æ±‚è§£çš„ç»“æœï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{opt }\CommentTok{\# åˆ†åˆ«æ˜¯rf = a, b, x ã€‚å…¶ä¸­xæ˜¯åˆ‡ç‚¹æ‰€åœ¨çš„SDã€‚}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([0.05      , 1.75627377, 0.29341009])
\end{verbatim}

æŠŠæ±‚è§£çš„ç»“æœä»£å…¥æ–¹ç¨‹ç»„ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯æ‰€æœ‰æ–¹ç¨‹éƒ½ä¸º0ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.}\BuiltInTok{round}\NormalTok{(equations(opt), }\DecValTok{4}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([0., 0., 0.])
\end{verbatim}

ç»˜å›¾

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{plt.figure(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{10}\NormalTok{, }\DecValTok{6}\NormalTok{)) }

\CommentTok{\# æ•£ç‚¹}
\NormalTok{plt.scatter(pvols, prets, c}\OperatorTok{=}\NormalTok{(prets }\OperatorTok{{-}} \FloatTok{0.05}\NormalTok{) }\OperatorTok{/}\NormalTok{ pvols, }
\NormalTok{            marker}\OperatorTok{=}\StringTok{\textquotesingle{}.\textquotesingle{}}\NormalTok{, cmap}\OperatorTok{=}\StringTok{\textquotesingle{}coolwarm\textquotesingle{}}\NormalTok{) }

\CommentTok{\# æœ‰æ•ˆè¾¹ç•Œ}
\NormalTok{plt.plot(evols, erets, }\StringTok{\textquotesingle{}b\textquotesingle{}}\NormalTok{, lw}\OperatorTok{=}\FloatTok{4.0}\NormalTok{) }

\CommentTok{\# èµ„æœ¬å¸‚åœºçº¿}
\NormalTok{cx }\OperatorTok{=}\NormalTok{ np.linspace(}\FloatTok{0.0}\NormalTok{, }\FloatTok{0.4}\NormalTok{) }
\NormalTok{plt.plot(cx, opt[}\DecValTok{0}\NormalTok{] }\OperatorTok{+}\NormalTok{ opt[}\DecValTok{1}\NormalTok{] }\OperatorTok{*}\NormalTok{ cx, }\StringTok{\textquotesingle{}r\textquotesingle{}}\NormalTok{, lw}\OperatorTok{=}\FloatTok{1.5}\NormalTok{) }

\CommentTok{\# åˆ‡ç‚¹}
\NormalTok{plt.plot(opt[}\DecValTok{2}\NormalTok{], f(opt[}\DecValTok{2}\NormalTok{]), }\StringTok{\textquotesingle{}y*\textquotesingle{}}\NormalTok{, markersize}\OperatorTok{=}\FloatTok{15.0}\NormalTok{) }

\NormalTok{plt.xlabel(}\StringTok{\textquotesingle{}SD\textquotesingle{}}\NormalTok{) }
\NormalTok{plt.ylabel(}\StringTok{\textquotesingle{}é¢„æœŸæ”¶ç›Šç‡\textquotesingle{}}\NormalTok{) }
\NormalTok{plt.colorbar(label}\OperatorTok{=}\StringTok{\textquotesingle{}Sharpe ratio\textquotesingle{}}\NormalTok{) }

\NormalTok{plt.xlim((}\FloatTok{0.0}\NormalTok{,}\FloatTok{0.5}\NormalTok{)) }\CommentTok{\# ç»˜å›¾çš„èŒƒå›´ï¼Œå¯ä»¥è‡ªè¡Œè°ƒæ•´}
\NormalTok{plt.ylim((}\FloatTok{0.0}\NormalTok{,}\FloatTok{0.8}\NormalTok{))}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/34-portfolio_files/figure-pdf/cell-31-output-1.pdf}

}

\end{figure}

\hypertarget{ux4eceux5207ux70b9ux53cdux6c42ux7ec4ux5408}{%
\subsection{ä»åˆ‡ç‚¹åæ±‚ç»„åˆ}\label{ux4eceux5207ux70b9ux53cdux6c42ux7ec4ux5408}}

æ³¨æ„åˆ°ï¼Œ\texttt{opt{[}2{]}}å°±æ˜¯åˆ‡ç‚¹çš„æ¨ªåæ ‡ï¼ˆSDï¼‰ï¼Œé‚£ä¹ˆ\texttt{f(opt{[}2{]})}å°±æ˜¯åˆ‡ç‚¹çš„çºµåæ ‡ï¼ˆé¢„æœŸæ”¶ç›Šç‡ï¼‰

æŒ‰ç…§æˆ‘ä»¬å‰é¢æ±‚æœ‰æ•ˆè¾¹ç•Œçš„æ–¹æ³•ï¼šæŒ‡å®šé¢„æœŸæ”¶ç›Šç‡ï¼Œæ±‚æœ€å°åŒ–æ³¢åŠ¨ç‡çš„ç»„åˆï¼Œä»£ç åŸºæœ¬ä¸€æ ·ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{cons }\OperatorTok{=}\NormalTok{ (\{}\StringTok{\textquotesingle{}type\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}eq\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}fun\textquotesingle{}}\NormalTok{: }\KeywordTok{lambda}\NormalTok{ x: port\_ret(x) }\OperatorTok{{-}}\NormalTok{ f(opt[}\DecValTok{2}\NormalTok{])\}, }\CommentTok{\# æŒ‡å®šçš„é¢„æœŸæ”¶ç›Šç‡}
\NormalTok{        \{}\StringTok{\textquotesingle{}type\textquotesingle{}}\NormalTok{: }\StringTok{\textquotesingle{}eq\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}fun\textquotesingle{}}\NormalTok{: }\KeywordTok{lambda}\NormalTok{ x: np.}\BuiltInTok{sum}\NormalTok{(x) }\OperatorTok{{-}} \DecValTok{1}\NormalTok{\})}

\NormalTok{res }\OperatorTok{=}\NormalTok{ sco.minimize(port\_vol, eweights, method}\OperatorTok{=}\StringTok{\textquotesingle{}SLSQP\textquotesingle{}}\NormalTok{,}
\NormalTok{                   bounds}\OperatorTok{=}\NormalTok{bnds, constraints}\OperatorTok{=}\NormalTok{cons)}

\NormalTok{res[}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{].}\BuiltInTok{round}\NormalTok{(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([0.31, 0.59, 0.1 ])
\end{verbatim}

å› æ­¤ï¼Œåˆ‡ç‚¹ç»„åˆå°±æ˜¯ï¼š31\%çš„æ¯”äºšè¿ªï¼Œ59\%çš„ç¾çš„é›†å›¢ï¼Œ10\%çš„å¹³å®‰é“¶è¡Œã€‚è¿›ä¸€æ­¥ï¼Œä½ å¯ä»¥åœ¨æ— é£é™©èµ„äº§(\(r_f = 0.05\))å’Œåˆ‡ç‚¹ç»„åˆä¹‹é—´è¿›è¡Œé€‰æ‹©ä½ å¸Œæœ›çš„æ¯”ä¾‹ï¼Œæ„æˆæœ€ç»ˆç»„åˆã€‚

\hypertarget{ux6280ux672fux5206ux6790ux4ea4ux6613ux7b56ux7565}{%
\chapter{æŠ€æœ¯åˆ†æäº¤æ˜“ç­–ç•¥}\label{ux6280ux672fux5206ux6790ux4ea4ux6613ux7b56ux7565}}

\begin{tcolorbox}[enhanced jigsaw, opacityback=0, left=2mm, coltitle=black, leftrule=.75mm, bottomtitle=1mm, arc=.35mm, opacitybacktitle=0.6, bottomrule=.15mm, breakable, colbacktitle=quarto-callout-warning-color!10!white, toprule=.15mm, toptitle=1mm, colframe=quarto-callout-warning-color-frame, titlerule=0mm, title=\textcolor{quarto-callout-warning-color}{\faExclamationTriangle}\hspace{0.5em}{Warning}, rightrule=.15mm, colback=white]

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ—¶è‡³ä»Šæ—¥ï¼Œå•çº¯çš„æŠ€æœ¯åˆ†æå¯èƒ½å·²ç»ä¸é‚£ä¹ˆå¥½ç”¨ï¼Œè¿™é‡Œæ˜¯æŠ€æœ¯åˆ†æåœ¨Pythonä¸­å¦‚ä½•å®ç°æ€è·¯çš„å±•ç¤ºã€‚
\item
  å¦‚æœä½ è‡ªå·±æœ‰ç‹¬ç‰¹çš„æŠ€æœ¯åˆ†æç­–ç•¥ï¼Œä¾ç„¶å¯ä»¥åˆ©ç”¨Pythonå®ç°ã€‚
\end{enumerate}

\end{tcolorbox}

ä¼ ç»Ÿçš„æŠ€æœ¯åˆ†ææŠ€æœ¯æ€ä¹ˆåœ¨Pythonä¸­åº”ç”¨ï¼ŒåŒ…æ‹¬ç»˜åˆ¶æŒ‡æ ‡ï¼Œä»¥åŠäº¤æ˜“çš„å›æµ‹ã€‚

ä¸»è¦åŒ…æ‹¬ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¶‹åŠ¿äº¤æ˜“ï¼šåŒå‡çº¿ç³»ç»Ÿä¸ºä¾‹
\item
  æ³¢åŠ¨äº¤æ˜“ï¼šRSIç³»ç»Ÿä¸ºä¾‹
\item
  æŒ‡æ ‡ç»¼åˆï¼šç»“åˆå‰ä¸¤è€…
\end{enumerate}

æ³¨æ„ï¼šä»¥ä¸‹ç­–ç•¥å‡æœªè€ƒè™‘äº¤æ˜“æˆæœ¬ã€‚å¦‚æœè¦è€ƒè™‘ï¼Œåªè¦åœ¨äº¤æ˜“æ—¥ä¹˜ä»¥ä¸€ä¸ªç³»æ•°(1-äº¤æ˜“æˆæœ¬)å³å¯ã€‚

\hypertarget{ux7b80ux5355ux79fbux52a8ux5e73ux5747ux7b56ux7565}{%
\section{ç®€å•ç§»åŠ¨å¹³å‡ç­–ç•¥}\label{ux7b80ux5355ux79fbux52a8ux5e73ux5747ux7b56ux7565}}

ä»æœ€ç®€å•çš„åŒå‡çº¿äº¤æ˜“ç³»ç»Ÿå¼€å§‹ï¼šè®¾ç½®2æ¡å‡çº¿ï¼Œå½“å¿«é€Ÿå‡çº¿ä½äºæ…¢é€Ÿå‡çº¿ä¸Šæ–¹ï¼Œåˆ™æŒæœ‰ï¼›åä¹‹åˆ™ç©ºä»“ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç»˜åˆ¶å‡çº¿
\item
  è®¡ç®—äº¤æ˜“ä¿¡å·
\item
  è®¡ç®—äº¤æ˜“çš„æ”¶ç›Šç‡
\item
  ç»˜åˆ¶äº¤æ˜“ç»“æœ
\end{enumerate}

\hypertarget{ux8bfbux53d6ux6570ux636e-2}{%
\subsection{è¯»å–æ•°æ®}\label{ux8bfbux53d6ux6570ux636e-2}}

è¿™é‡Œç®€å•æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•ç”¨akshareåŒ…æ¥è¯»å–æ•°æ®ã€‚akshareå®˜æ–¹ä¸»é¡µè§https://www.akshare.xyz/ã€‚

å¦‚æœè¦åœ¨ä½ çš„ç”µè„‘ä¸Šå®‰è£…akshareåŒ…ï¼ˆè¿™é‡Œé‡‡ç”¨æ¸…åå¤§å­¦çš„é•œåƒï¼‰ï¼Œæœ‰å‡ ç§æ–¹æ³•ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  åœ¨jupyter notebookä¸­ï¼Œæ‰¾ä¸€ä¸ªpythonå•å…ƒæ ¼ï¼Œç„¶åç²˜è´´å¦‚ä¸‹ä»£ç ï¼Œå¹¶æ‰§è¡Œ:
\end{enumerate}

\begin{verbatim}
!pip install -i https://pypi.tuna.tsinghua.edu.cn/simple akshare
\end{verbatim}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  å¯åŠ¨Anaconda
  Promptï¼ˆå¼€å§‹èœå•ä¸­æœ‰ï¼‰ï¼Œæˆ–è€…Macç³»ç»Ÿçš„ç»ˆç«¯(Terminal)ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œåˆ™ä¼šä»æ¸…åå¤§å­¦çš„é•œåƒå®‰è£…akshareåˆ°ä½ çš„ç”µè„‘ä¸Šã€‚
\end{enumerate}

\begin{verbatim}
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple akshare
\end{verbatim}

ä¸Šè¿°æ–¹æ³•2é€‰1ï¼Œå¹¶ä¸”éƒ½åªéœ€è¦æ‰§è¡Œä¸€æ¬¡ï¼Œä»¥åéƒ½å¯ä»¥ä½¿ç”¨ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ akshare }\ImportTok{as}\NormalTok{ ak}
\end{Highlighting}
\end{Shaded}

è¿™é‡Œä»¥é”‚ç”µæ± é¾™å¤´å®å¾·æ—¶ä»£ä¸ºä¾‹ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è¯»å–å®å¾·æ—¶ä»£}
\CommentTok{\# è§ï¼šhttps://akshare.xyz/data/stock/stock.html\#id20}

\NormalTok{df }\OperatorTok{=}\NormalTok{ ak.stock\_zh\_a\_hist(symbol}\OperatorTok{=}\StringTok{"300750"}\NormalTok{,start\_date}\OperatorTok{=}\StringTok{\textquotesingle{}20180101\textquotesingle{}}\NormalTok{,end\_date}\OperatorTok{=}\StringTok{\textquotesingle{}20231212\textquotesingle{}}\NormalTok{, adjust}\OperatorTok{=}\StringTok{\textquotesingle{}qfq\textquotesingle{}}\NormalTok{)}

\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllllll@{}}
\toprule\noalign{}
& æ—¥æœŸ & å¼€ç›˜ & æ”¶ç›˜ & æœ€é«˜ & æœ€ä½ & æˆäº¤é‡ & æˆäº¤é¢ & æŒ¯å¹… & æ¶¨è·Œå¹… &
æ¶¨è·Œé¢ & æ¢æ‰‹ç‡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2018-06-11 & 14.66 & 18.01 & 18.01 & 14.66 & 788 & 2.845471e+06 &
28.22 & 51.73 & 6.14 & 0.04 \\
1 & 2018-06-12 & 20.02 & 20.02 & 20.02 & 20.02 & 266 & 1.058375e+06 &
0.00 & 11.16 & 2.01 & 0.01 \\
2 & 2018-06-13 & 22.24 & 22.24 & 22.24 & 22.24 & 450 & 1.972314e+06 &
0.00 & 11.09 & 2.22 & 0.02 \\
3 & 2018-06-14 & 24.67 & 24.67 & 24.67 & 24.67 & 743 & 3.578184e+06 &
0.00 & 10.93 & 2.43 & 0.03 \\
4 & 2018-06-15 & 27.35 & 27.35 & 27.35 & 27.35 & 2565 & 1.359503e+07 &
0.00 & 10.86 & 2.68 & 0.12 \\
... & ... & ... & ... & ... & ... & ... & ... & ... & ... & ... & ... \\
1334 & 2023-12-06 & 158.65 & 162.88 & 166.86 & 158.22 & 367693 &
6.024340e+09 & 5.44 & 2.56 & 4.07 & 0.94 \\
1335 & 2023-12-07 & 162.00 & 164.49 & 166.36 & 161.60 & 269084 &
4.410842e+09 & 2.92 & 0.99 & 1.61 & 0.69 \\
1336 & 2023-12-08 & 165.00 & 163.59 & 166.33 & 163.12 & 245020 &
4.030383e+09 & 1.95 & -0.55 & -0.90 & 0.63 \\
1337 & 2023-12-11 & 162.01 & 165.35 & 165.69 & 160.16 & 214896 &
3.497266e+09 & 3.38 & 1.08 & 1.76 & 0.55 \\
1338 & 2023-12-12 & 164.00 & 163.63 & 165.22 & 162.98 & 147339 &
2.415528e+09 & 1.35 & -1.04 & -1.72 & 0.38 \\
\end{longtable}

éœ€è¦å‰ç½®çŸ¥è¯†ï¼šå¯¹æ•°æ”¶ç›Šç‡ã€‚è§ä¸Šä¸€ç« ï¼š\href{https://py4ss.net/python/34-portfolio.html\#\%E7\%BB\%84\%E5\%90\%88\%E7\%9A\%84\%E9\%A2\%84\%E6\%9C\%9F\%E6\%94\%B6\%E7\%9B\%8A\%E5\%92\%8C\%E6\%96\%B9\%E5\%B7\%AE}{ç»„åˆçš„é¢„æœŸæ”¶ç›Šå’Œæ–¹å·®}çš„å†…å®¹ã€‚

æ­£å¦‚å‰é¢æ‰€è¯´ï¼Œä½¿ç”¨æ¶¨è·Œå¹…å°±ä¸ç”¨è€ƒè™‘åˆ†çº¢ã€é€è‚¡ã€å¤æƒç­‰é—®é¢˜ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}æ—¥æœŸ\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ pd.to\_datetime(df[}\StringTok{\textquotesingle{}æ—¥æœŸ\textquotesingle{}}\NormalTok{])}
\NormalTok{df.set\_index(}\StringTok{\textquotesingle{}æ—¥æœŸ\textquotesingle{}}\NormalTok{,inplace }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ df[[}\StringTok{\textquotesingle{}æ¶¨è·Œå¹…\textquotesingle{}}\NormalTok{]]}\OperatorTok{/}\DecValTok{100}
\NormalTok{df.fillna(}\DecValTok{0}\NormalTok{,inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{df.tail()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ll@{}}
\toprule\noalign{}
& æ¶¨è·Œå¹… \\
æ—¥æœŸ & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2023-12-06 & 0.0256 \\
2023-12-07 & 0.0099 \\
2023-12-08 & -0.0055 \\
2023-12-11 & 0.0108 \\
2023-12-12 & -0.0104 \\
\end{longtable}

ä»ä¸Šå¸‚ä¹‹æ—¥ï¼ŒæŠ•èµ„1å…ƒåˆ°ä»Šå¤©çš„ç»“æœã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}price\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ (df[}\StringTok{\textquotesingle{}æ¶¨è·Œå¹…\textquotesingle{}}\NormalTok{] }\OperatorTok{+} \DecValTok{1}\NormalTok{).cumprod() }\CommentTok{\# ç”¨æ¶¨è·Œå¹…åç®—å‡ºå¤æƒä»·ï¼Œä¸Šå¸‚æ—¥å‰ä¸€å¤©ä¸º1ã€‚}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& æ¶¨è·Œå¹… & price \\
æ—¥æœŸ & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2018-06-11 & 0.5173 & 1.517300 \\
2018-06-12 & 0.1116 & 1.686631 \\
2018-06-13 & 0.1109 & 1.873678 \\
2018-06-14 & 0.1093 & 2.078471 \\
2018-06-15 & 0.1086 & 2.304193 \\
... & ... & ... \\
2023-12-06 & 0.0256 & 13.678666 \\
2023-12-07 & 0.0099 & 13.814085 \\
2023-12-08 & -0.0055 & 13.738107 \\
2023-12-11 & 0.0108 & 13.886479 \\
2023-12-12 & -0.0104 & 13.742059 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.price.plot()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<Axes: xlabel='æ—¥æœŸ'>
\end{verbatim}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/33-technical_analysis_files/figure-pdf/cell-8-output-2.pdf}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è®¡ç®—å¯¹æ•°æ”¶ç›Šç‡}
\NormalTok{df[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.log(df[}\StringTok{\textquotesingle{}æ¶¨è·Œå¹…\textquotesingle{}}\NormalTok{] }\OperatorTok{+} \DecValTok{1}\NormalTok{)}
\NormalTok{df.tail()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& æ¶¨è·Œå¹… & price & lrets \\
æ—¥æœŸ & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2023-12-06 & 0.0256 & 13.678666 & 0.025278 \\
2023-12-07 & 0.0099 & 13.814085 & 0.009851 \\
2023-12-08 & -0.0055 & 13.738107 & -0.005515 \\
2023-12-11 & 0.0108 & 13.886479 & 0.010742 \\
2023-12-12 & -0.0104 & 13.742059 & -0.010454 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è®¡ç®—å¹´åŒ–å¯¹æ•°æ”¶ç›Šç‡}

\NormalTok{np.mean(df.lrets) }\OperatorTok{*} \DecValTok{250}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.48925712358901946
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¹´åŒ–å¯¹æ•°SD}
\NormalTok{np.std(df.lrets) }\OperatorTok{*}\NormalTok{ np.sqrt(}\DecValTok{250}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.5246989273782676
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç®€å•ç®—ä¸€ä¸‹å¤æ™®æ¯”ç‡: æ¯å•ä½é£é™©ï¼Œèƒ½å¤Ÿè·å¾—å¤šå°‘è¶…é¢æ”¶ç›Šã€‚}
\NormalTok{rf }\OperatorTok{=} \FloatTok{0.03}

\NormalTok{(np.mean(df.lrets) }\OperatorTok{*} \DecValTok{250} \OperatorTok{{-}}\NormalTok{ rf) }\OperatorTok{/}\NormalTok{ (np.std(df.lrets) }\OperatorTok{*}\NormalTok{ np.sqrt(}\DecValTok{250}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.8752774202984608
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å†™æˆå‡½æ•°}
\KeywordTok{def}\NormalTok{ sharpe\_ratio(lrets, rf }\OperatorTok{=} \FloatTok{0.03}\NormalTok{):}
    \ControlFlowTok{return}\NormalTok{ (np.mean(lrets) }\OperatorTok{*} \DecValTok{250} \OperatorTok{{-}}\NormalTok{ rf) }\OperatorTok{/}\NormalTok{ (np.std(lrets) }\OperatorTok{*}\NormalTok{ np.sqrt(}\DecValTok{250}\NormalTok{))}

\NormalTok{sharpe\_ratio(df.lrets)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.8752774202984608
\end{verbatim}

\hypertarget{ux5747ux7ebfux8ba1ux7b97}{%
\subsection{å‡çº¿è®¡ç®—}\label{ux5747ux7ebfux8ba1ux7b97}}

ç»˜åˆ¶å‡çº¿ï¼Œå…ˆéšé€‰2ä¸ªæ—¥æœŸ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sma1 }\OperatorTok{=} \DecValTok{20}
\NormalTok{sma2 }\OperatorTok{=} \DecValTok{60}

\KeywordTok{def}\NormalTok{ sma(x,period):}
    \ControlFlowTok{return}\NormalTok{ x.rolling(period).mean()}

\KeywordTok{def}\NormalTok{ ema(x,period):}
    \ControlFlowTok{return}\NormalTok{ x.ewm(span}\OperatorTok{=}\NormalTok{period,min\_periods}\OperatorTok{=}\DecValTok{0}\NormalTok{,adjust}\OperatorTok{=}\VariableTok{False}\NormalTok{,ignore\_na}\OperatorTok{=}\VariableTok{False}\NormalTok{).mean()}

\NormalTok{df.loc[:,}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(df.price,sma1)}
\NormalTok{df.loc[:,}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(df.price,sma2)}

\NormalTok{df[[}\StringTok{\textquotesingle{}price\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{]].plot(figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{,}\DecValTok{4}\NormalTok{))}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/33-technical_analysis_files/figure-pdf/cell-14-output-1.pdf}

}

\end{figure}

\hypertarget{ux4ea4ux6613ux7b56ux7565ux591a}{%
\subsection{äº¤æ˜“ç­–ç•¥(å¤š)}\label{ux4ea4ux6613ux7b56ux7565ux591a}}

é¦–å…ˆå‡å®šæˆ‘ä»¬åªèƒ½åšå¤šã€‚

å¦‚æœå¿«å‡çº¿é«˜äºæ…¢å‡çº¿ï¼šä¹°å…¥æŒæœ‰ï¼›åä¹‹ç©ºä»“ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.where(df[}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}}\NormalTok{ df[}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{],}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{) }\CommentTok{\# np.where()ç”Ÿæˆä¸€ä¸ªåºåˆ—ï¼Œæ¡ä»¶æˆç«‹åˆ™1ï¼Œåä¹‹åˆ™0}
\NormalTok{df.tail()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllll@{}}
\toprule\noalign{}
& æ¶¨è·Œå¹… & price & lrets & sma1 & sma2 & pos \\
æ—¥æœŸ & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2023-12-06 & 0.0256 & 13.678666 & 0.025278 & 14.758742 & 16.025914 &
0 \\
2023-12-07 & 0.0099 & 13.814085 & 0.009851 & 14.645452 & 15.928012 &
0 \\
2023-12-08 & -0.0055 & 13.738107 & -0.005515 & 14.538493 & 15.839902 &
0 \\
2023-12-11 & 0.0108 & 13.886479 & 0.010742 & 14.443875 & 15.759274 &
0 \\
2023-12-12 & -0.0104 & 13.742059 & -0.010454 & 14.359551 & 15.678205 &
0 \\
\end{longtable}

æŠŠæŒ‡æ ‡å’ŒæŒä»“æƒ…å†µå¹¶åˆ—ç»˜åˆ¶

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ç»˜åˆ¶å­å›¾ï¼Œè§å‰é¢çš„ç« èŠ‚ã€‚height\_ratiosæ˜¯å­å›¾çš„é«˜åº¦æ¯”ä¾‹}
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{,figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{,}\DecValTok{4}\NormalTok{), gridspec\_kw}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}height\_ratios\textquotesingle{}}\NormalTok{: [}\DecValTok{3}\NormalTok{, }\DecValTok{1}\NormalTok{]\},sharex }\OperatorTok{=} \VariableTok{True}\NormalTok{)}

\NormalTok{df[[}\StringTok{\textquotesingle{}price\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{]].plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{0}\NormalTok{])}
\NormalTok{df[[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{]].plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{1}\NormalTok{])}

\NormalTok{plt.subplots\_adjust(wspace}\OperatorTok{=}\FloatTok{0.05}\NormalTok{,hspace}\OperatorTok{=}\FloatTok{0.05}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/33-technical_analysis_files/figure-pdf/cell-16-output-1.pdf}

}

\end{figure}

è®¡ç®—ç­–ç•¥çš„æ”¶ç›Šç‡åºåˆ—ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{df{[}\textquotesingle{}pos\textquotesingle{}{]}}ä¸­ï¼Œ1è¡¨ç¤ºæŒä»“ï¼Œ0è¡¨ç¤ºç©ºä»“
\item
  \texttt{df{[}\textquotesingle{}lrets\textquotesingle{}{]}}è¡¨ç¤ºæ¯å¤©çš„å¯¹æ•°æ”¶ç›Šç‡ã€‚
\item
  \texttt{df{[}\textquotesingle{}lrets\textquotesingle{}{]}\ *\ df.lrets}ï¼Œä¸¤ä¸ªåºåˆ—ç›¸ä¹˜ï¼Œå°±å¯ä»¥å¾—åˆ°æ‰§è¡Œç­–ç•¥çš„æ”¶ç›Šç‡åºåˆ—ï¼šç©ºä»“æ—¥æ”¶ç›Šç‡ä¸º0ï¼ŒæŒä»“æ—¥æ”¶ç›Šç‡ä¸ºlretã€‚
\item
  ä»Šå¤©å‡ºä¿¡å·ï¼Œæ”¶ç›˜è¿›è¡Œæ“ä½œï¼Œå®é™…æ”¶ç›Šåœ¨æ˜å¤©æ‰èƒ½å…‘ç°ã€‚å› æ­¤posè¦æ»å1å¤©ï¼ˆ\textbf{é‡è¦}ï¼šé¿å…è‡ªæˆ‘æ¬ºéª—ï¼‰
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{].shift(}\DecValTok{1}\NormalTok{) }\OperatorTok{*}\NormalTok{ df.lrets}

\NormalTok{df.dropna(inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}

\NormalTok{df.}\BuiltInTok{round}\NormalTok{(}\DecValTok{4}\NormalTok{).head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
& æ¶¨è·Œå¹… & price & lrets & sma1 & sma2 & pos & strategy \\
æ—¥æœŸ & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2018-09-03 & -0.0362 & 2.7843 & -0.0369 & 3.1110 & 3.1371 & 0 & -0.0 \\
2018-09-04 & 0.0097 & 2.8113 & 0.0097 & 3.0877 & 3.1587 & 0 & 0.0 \\
2018-09-05 & -0.0408 & 2.6966 & -0.0417 & 3.0640 & 3.1755 & 0 & -0.0 \\
2018-09-06 & 0.0078 & 2.7177 & 0.0078 & 3.0354 & 3.1896 & 0 & 0.0 \\
2018-09-07 & 0.0254 & 2.7867 & 0.0251 & 3.0093 & 3.2014 & 0 & 0.0 \\
\end{longtable}

æ¯”è¾ƒä¸€ä¸‹ä¸¤è€…:

ï¼ˆæ³¨æ„æˆ‘ä»¬çš„å‡çº¿æ˜¯éšæ„é€‰æ‹©çš„ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¹´åŒ–å¯¹æ•°æ”¶ç›Šç‡}
\NormalTok{df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{]].agg(np.mean)}\OperatorTok{*}\DecValTok{250}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
lrets       0.304606
strategy    0.204169
dtype: float64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¤æ™®æ¯”ç‡}
\NormalTok{df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{]].agg(sharpe\_ratio)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
lrets       0.584413
strategy    0.478580
dtype: float64
\end{verbatim}

ç»˜åˆ¶ä¸¤è€…çš„å¯¹æ¯”æ›²çº¿ï¼šæ­£å¦‚å‡çº¿ç³»ç»Ÿçš„ç‰¹å¾ï¼Œèƒ½å¤Ÿè¿‡æ»¤æ‰å¤§å¹…åº¦çš„ä¸‹è·Œï¼Œå¯¹é¡¶éƒ¨å’Œåº•éƒ¨çš„åˆ¤æ–­æœ‰æ˜æ˜¾çš„æ»åã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{]].cumsum().}\BuiltInTok{apply}\NormalTok{(np.exp).plot()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/33-technical_analysis_files/figure-pdf/cell-20-output-1.pdf}

}

\end{figure}

\hypertarget{ux4f7fux7528ux66b4ux529bux4f18ux5316}{%
\subsection{ä½¿ç”¨æš´åŠ›ä¼˜åŒ–}\label{ux4f7fux7528ux66b4ux529bux4f18ux5316}}

å‚æ•°ä¼˜åŒ–ï¼šå¯»æ‰¾æœ€ä½³å‚æ•°

æš´åŠ›å‚æ•°ä¼˜åŒ–ï¼šä½¿ç”¨ç©·ä¸¾æ³•ï¼Œå¯»æ‰¾æœ€ä½³å‚æ•°ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{\%\%}\NormalTok{capture }\OperatorTok{{-}{-}}\NormalTok{no}\OperatorTok{{-}}\NormalTok{display }
\CommentTok{\# è¿™ä¸€è¡Œç”¨äºå¿½ç•¥æœ¬cellçš„warning}

\NormalTok{sma1 }\OperatorTok{=} \DecValTok{10}
\NormalTok{sma2 }\OperatorTok{=} \DecValTok{60}
\NormalTok{data }\OperatorTok{=}\NormalTok{ df[[}\StringTok{\textquotesingle{}price\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{]]}

\CommentTok{\# def test(sma1, sma2, data):}
\NormalTok{data[}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(data.price, sma1)}
\NormalTok{data[}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(data.price, sma2)}

\NormalTok{data[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.where(data[}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}}\NormalTok{ data[}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{], }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{)}

\NormalTok{data[}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ data[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{].shift(}\DecValTok{1}\NormalTok{) }\OperatorTok{*}\NormalTok{ data.lrets}

\NormalTok{data.dropna(inplace }\OperatorTok{=} \VariableTok{True}\NormalTok{)}

\NormalTok{data.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllll@{}}
\toprule\noalign{}
& price & lrets & sma1 & sma2 & pos & strategy \\
æ—¥æœŸ & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2018-12-03 & 3.605193 & 0.010841 & 3.453723 & 3.211778 & 1 & 0.000000 \\
2018-12-04 & 3.672610 & 0.018527 & 3.474819 & 3.226583 & 1 & 0.018527 \\
2018-12-05 & 3.629641 & -0.011769 & 3.487499 & 3.240221 & 1 &
-0.011769 \\
2018-12-06 & 3.519300 & -0.030872 & 3.492613 & 3.253932 & 1 &
-0.030872 \\
2018-12-07 & 3.551325 & 0.009059 & 3.519380 & 3.267826 & 1 & 0.009059 \\
\end{longtable}

è¦è·å¾—è¿™å‡ æ ·

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è‚¡ç¥¨åŸæ¥çš„å¹´åŒ–æ”¶ç›Šç‡å’Œå¹´åŒ–å¤æ™®æ¯”ç‡
\item
  å«æœ‰äº¤æ˜“ç­–ç•¥çš„å¹´åŒ–æ”¶ç›Šç‡å’Œå¹´åŒ–å¤æ™®æ¯”ç‡
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{asset\_rets }\OperatorTok{=}\NormalTok{ np.mean(data.lrets) }\OperatorTok{*} \DecValTok{250}
\NormalTok{asset\_sr }\OperatorTok{=}\NormalTok{ sharpe\_ratio(data.lrets)}

\NormalTok{strat\_rets }\OperatorTok{=}\NormalTok{ np.mean(data.strategy) }\OperatorTok{*} \DecValTok{250}
\NormalTok{start\_sr }\OperatorTok{=}\NormalTok{ sharpe\_ratio(data.strategy)}

\NormalTok{result }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(asset\_rets}\OperatorTok{=}\NormalTok{asset\_rets,}
\NormalTok{                           asset\_sr}\OperatorTok{=}\NormalTok{asset\_sr,}
\NormalTok{                           strat\_rets}\OperatorTok{=}\NormalTok{strat\_rets,}
\NormalTok{                           start\_sr}\OperatorTok{=}\NormalTok{start\_sr,}
\NormalTok{                           diff\_rets }\OperatorTok{=}\NormalTok{ strat\_rets }\OperatorTok{{-}}\NormalTok{ asset\_rets,}
\NormalTok{                           diff\_sr}\OperatorTok{=}\NormalTok{ start\_sr }\OperatorTok{{-}}\NormalTok{ asset\_sr}
\NormalTok{                           ), index}\OperatorTok{=}\NormalTok{[}\DecValTok{0}\NormalTok{])}

\NormalTok{result}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllll@{}}
\toprule\noalign{}
& asset\_rets & asset\_sr & strat\_rets & start\_sr & diff\_rets &
diff\_sr \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 0.276193 & 0.533842 & 0.211045 & 0.506226 & -0.065148 & -0.027616 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{\%\%}\NormalTok{capture }\OperatorTok{{-}{-}}\NormalTok{no}\OperatorTok{{-}}\NormalTok{display }
\CommentTok{\# è¿™ä¸€è¡Œç”¨äºå¿½ç•¥æœ¬cellçš„warning}

\KeywordTok{def}\NormalTok{ test(sma1, sma2, data):}
\NormalTok{    data[}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(data.price, sma1)}
\NormalTok{    data[}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(data.price, sma2)}

\NormalTok{    data[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.where(data[}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}}\NormalTok{ data[}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{], }\DecValTok{1}\NormalTok{, }\DecValTok{0}\NormalTok{)}

\NormalTok{    data[}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ data[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{].shift(}\DecValTok{1}\NormalTok{) }\OperatorTok{*}\NormalTok{ data.lrets}

\NormalTok{    data.dropna(inplace }\OperatorTok{=} \VariableTok{True}\NormalTok{)}

\NormalTok{    asset\_rets }\OperatorTok{=}\NormalTok{ np.mean(data.lrets) }\OperatorTok{*} \DecValTok{250}
\NormalTok{    asset\_sr }\OperatorTok{=}\NormalTok{ sharpe\_ratio(data.lrets)}

\NormalTok{    strat\_rets }\OperatorTok{=}\NormalTok{ np.mean(data.strategy) }\OperatorTok{*} \DecValTok{250}
\NormalTok{    start\_sr }\OperatorTok{=}\NormalTok{ sharpe\_ratio(data.strategy)}

\NormalTok{    result }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(sma1 }\OperatorTok{=}\NormalTok{ sma1 ,sma2}\OperatorTok{=}\NormalTok{sma2, è‚¡ç¥¨æ”¶ç›Šç‡}\OperatorTok{=}\NormalTok{asset\_rets,}
\NormalTok{                            è‚¡ç¥¨sr}\OperatorTok{=}\NormalTok{asset\_sr,}
\NormalTok{                            ç­–ç•¥æ”¶ç›Šç‡}\OperatorTok{=}\NormalTok{strat\_rets,}
\NormalTok{                            ç­–ç•¥sr}\OperatorTok{=}\NormalTok{start\_sr,}
\NormalTok{                            æ”¶ç›Šç‡å·®å¼‚ }\OperatorTok{=}\NormalTok{ strat\_rets }\OperatorTok{{-}}\NormalTok{ asset\_rets,}
\NormalTok{                            srå·®å¼‚}\OperatorTok{=}\NormalTok{ start\_sr }\OperatorTok{{-}}\NormalTok{ asset\_sr}
\NormalTok{                            ), index}\OperatorTok{=}\NormalTok{[}\DecValTok{0}\NormalTok{])}

    \ControlFlowTok{return}\NormalTok{ result}
\end{Highlighting}
\end{Shaded}

å¾ªç¯å¹¶ç½—åˆ—æ‰€æœ‰ç»“æœ

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{\%\%}\NormalTok{capture }\OperatorTok{{-}{-}}\NormalTok{no}\OperatorTok{{-}}\NormalTok{display }
\CommentTok{\# è¿™ä¸€è¡Œç”¨äºå¿½ç•¥æœ¬cellçš„warning}

\ImportTok{from}\NormalTok{ itertools }\ImportTok{import}\NormalTok{ product}

\NormalTok{sma1 }\OperatorTok{=} \BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{56}\NormalTok{,}\DecValTok{5}\NormalTok{) }
\NormalTok{sma2 }\OperatorTok{=} \BuiltInTok{range}\NormalTok{(}\DecValTok{60}\NormalTok{,}\DecValTok{251}\NormalTok{,}\DecValTok{10}\NormalTok{)}

\NormalTok{result }\OperatorTok{=}\NormalTok{ []}
\ControlFlowTok{for}\NormalTok{ SMA1, SMA2 }\KeywordTok{in}\NormalTok{ product(sma1,sma2):}
    \CommentTok{\#print(f"\{SMA1=\},\{SMA2=\}")}
\NormalTok{    result.append(test(SMA1, SMA2, df[[}\StringTok{\textquotesingle{}price\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{]]))}

\NormalTok{pd.concat(result).sort\_values(}\StringTok{\textquotesingle{}ç­–ç•¥sr\textquotesingle{}}\NormalTok{,ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{).head(}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllll@{}}
\toprule\noalign{}
& sma1 & sma2 & è‚¡ç¥¨æ”¶ç›Šç‡ & è‚¡ç¥¨sr & ç­–ç•¥æ”¶ç›Šç‡ & ç­–ç•¥sr & æ”¶ç›Šç‡å·®å¼‚ &
srå·®å¼‚ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 25 & 190 & 0.337937 & 0.653594 & 0.405723 & 0.972937 & 0.067786 &
0.319343 \\
0 & 25 & 250 & 0.335876 & 0.637902 & 0.414782 & 0.950885 & 0.078905 &
0.312983 \\
0 & 30 & 220 & 0.324652 & 0.619137 & 0.392126 & 0.917412 & 0.067474 &
0.298275 \\
0 & 30 & 250 & 0.335876 & 0.637902 & 0.398393 & 0.910891 & 0.062517 &
0.272989 \\
0 & 25 & 200 & 0.341073 & 0.657791 & 0.383528 & 0.907771 & 0.042456 &
0.249979 \\
\end{longtable}

åˆ©ç”¨æš´åŠ›æ±‚è§£ï¼ˆç©·ä¸¾æ³•ï¼‰ï¼Œå¯ä»¥å¾—åˆ°ä»»ä½•2ç»„å‡çº¿çš„ç­–ç•¥æ”¶ç›Šç‡å’Œç­–ç•¥å¤æ™®æ¯”ç‡ã€‚å¯ä»¥å¸¦å…¥å‰é¢çš„ä»£ç æŸ¥çœ‹æ•ˆæœã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sma1 }\OperatorTok{=} \DecValTok{25}
\NormalTok{sma2 }\OperatorTok{=} \DecValTok{190}
\NormalTok{df.loc[:,}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(df.price,sma1)}
\NormalTok{df.loc[:,}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(df.price,sma2)}

\NormalTok{df[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.where(df[}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}}\NormalTok{ df[}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{],}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{)}

\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{,figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{,}\DecValTok{4}\NormalTok{), gridspec\_kw}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}height\_ratios\textquotesingle{}}\NormalTok{: [}\DecValTok{3}\NormalTok{, }\DecValTok{1}\NormalTok{]\},sharex }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\NormalTok{df[[}\StringTok{\textquotesingle{}price\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{]].plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{0}\NormalTok{])}
\NormalTok{df[[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{]].plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{1}\NormalTok{])}

\NormalTok{plt.subplots\_adjust(wspace}\OperatorTok{=}\FloatTok{0.05}\NormalTok{,hspace}\OperatorTok{=}\FloatTok{0.05}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/33-technical_analysis_files/figure-pdf/cell-25-output-1.pdf}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[:,}\StringTok{\textquotesingle{}strategy2\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{].shift(}\DecValTok{1}\NormalTok{) }\OperatorTok{*}\NormalTok{ df.lrets}

\NormalTok{df.dropna(inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}

\NormalTok{df.}\BuiltInTok{round}\NormalTok{(}\DecValTok{4}\NormalTok{).head()}

\NormalTok{df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}strategy2\textquotesingle{}\textquotesingle{}\textquotesingle{}}\NormalTok{]].cumsum().}\BuiltInTok{apply}\NormalTok{(np.exp).plot()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/33-technical_analysis_files/figure-pdf/cell-26-output-1.pdf}

}

\end{figure}

\hypertarget{ux4ea4ux6613ux7b56ux7565ux591aux7a7a}{%
\subsection{äº¤æ˜“ç­–ç•¥ï¼ˆå¤šç©ºï¼‰}\label{ux4ea4ux6613ux7b56ux7565ux591aux7a7a}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.where(df[}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}}\NormalTok{ df[}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{],}\DecValTok{1}\NormalTok{,}\OperatorTok{{-}}\DecValTok{1}\NormalTok{) }\CommentTok{\# np.where()ç”Ÿæˆä¸€ä¸ªåºåˆ—ï¼Œæ¡ä»¶æˆç«‹åˆ™1ï¼Œåä¹‹åˆ™{-}1}
\NormalTok{df.tail()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllll@{}}
\toprule\noalign{}
& æ¶¨è·Œå¹… & price & lrets & sma1 & sma2 & pos & strategy & strategy2 \\
æ—¥æœŸ & & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2023-12-06 & 0.0256 & 13.678666 & 0.025278 & 15.009210 & 18.044793 & -1
& 0.0 & 0.0 \\
2023-12-07 & 0.0099 & 13.814085 & 0.009851 & 14.938347 & 18.018929 & -1
& 0.0 & 0.0 \\
2023-12-08 & -0.0055 & 13.738107 & -0.005515 & 14.858149 & 17.990733 &
-1 & -0.0 & -0.0 \\
2023-12-11 & 0.0108 & 13.886479 & 0.010742 & 14.751517 & 17.966012 & -1
& 0.0 & 0.0 \\
2023-12-12 & -0.0104 & 13.742059 & -0.010454 & 14.658707 & 17.940159 &
-1 & -0.0 & -0.0 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ test2(sma1, sma2, data):}
\NormalTok{    data[}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(data.price, sma1)}
\NormalTok{    data[}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(data.price, sma2)}

\NormalTok{    data[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.where(data[}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}}\NormalTok{ data[}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{], }\DecValTok{1}\NormalTok{, }\OperatorTok{{-}}\DecValTok{1}\NormalTok{) }\CommentTok{\# è¿™é‡Œæ”¹äº†ä¸€ä¸‹}

\NormalTok{    data[}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ data[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{].shift(}\DecValTok{1}\NormalTok{) }\OperatorTok{*}\NormalTok{ data.lrets}

\NormalTok{    data.dropna(inplace }\OperatorTok{=} \VariableTok{True}\NormalTok{)}

\NormalTok{    asset\_rets }\OperatorTok{=}\NormalTok{ np.mean(data.lrets) }\OperatorTok{*} \DecValTok{250}
\NormalTok{    asset\_sr }\OperatorTok{=}\NormalTok{ sharpe\_ratio(data.lrets)}

\NormalTok{    strat\_rets }\OperatorTok{=}\NormalTok{ np.mean(data.strategy) }\OperatorTok{*} \DecValTok{250}
\NormalTok{    start\_sr }\OperatorTok{=}\NormalTok{ sharpe\_ratio(data.strategy)}

\NormalTok{    result }\OperatorTok{=}\NormalTok{ pd.DataFrame(}\BuiltInTok{dict}\NormalTok{(sma1 }\OperatorTok{=}\NormalTok{ sma1 ,sma2}\OperatorTok{=}\NormalTok{sma2, è‚¡ç¥¨æ”¶ç›Šç‡}\OperatorTok{=}\NormalTok{asset\_rets,}
\NormalTok{                            è‚¡ç¥¨sr}\OperatorTok{=}\NormalTok{asset\_sr,}
\NormalTok{                            ç­–ç•¥æ”¶ç›Šç‡}\OperatorTok{=}\NormalTok{strat\_rets,}
\NormalTok{                            ç­–ç•¥sr}\OperatorTok{=}\NormalTok{start\_sr,}
\NormalTok{                            æ”¶ç›Šç‡å·®å¼‚ }\OperatorTok{=}\NormalTok{ strat\_rets }\OperatorTok{{-}}\NormalTok{ asset\_rets,}
\NormalTok{                            srå·®å¼‚}\OperatorTok{=}\NormalTok{ start\_sr }\OperatorTok{{-}}\NormalTok{ asset\_sr}
\NormalTok{                            ), index}\OperatorTok{=}\NormalTok{[}\DecValTok{0}\NormalTok{])}

    \ControlFlowTok{return}\NormalTok{ result}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{\%\%}\NormalTok{capture }\OperatorTok{{-}{-}}\NormalTok{no}\OperatorTok{{-}}\NormalTok{display }
\CommentTok{\# è¿™ä¸€è¡Œç”¨äºå¿½ç•¥æœ¬cellçš„warning}

\ImportTok{from}\NormalTok{ itertools }\ImportTok{import}\NormalTok{ product}

\NormalTok{sma1 }\OperatorTok{=} \BuiltInTok{range}\NormalTok{(}\DecValTok{10}\NormalTok{,}\DecValTok{56}\NormalTok{,}\DecValTok{5}\NormalTok{) }
\NormalTok{sma2 }\OperatorTok{=} \BuiltInTok{range}\NormalTok{(}\DecValTok{60}\NormalTok{,}\DecValTok{251}\NormalTok{,}\DecValTok{10}\NormalTok{)}

\NormalTok{result }\OperatorTok{=}\NormalTok{ []}
\ControlFlowTok{for}\NormalTok{ SMA1, SMA2 }\KeywordTok{in}\NormalTok{ product(sma1,sma2):}
    \CommentTok{\#print(f"\{SMA1=\},\{SMA2=\}")}
\NormalTok{    result.append(test2(SMA1, SMA2, df[[}\StringTok{\textquotesingle{}price\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{]]))}

\NormalTok{pd.concat(result).sort\_values(}\StringTok{\textquotesingle{}ç­–ç•¥sr\textquotesingle{}}\NormalTok{,ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{).head(}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllll@{}}
\toprule\noalign{}
& sma1 & sma2 & è‚¡ç¥¨æ”¶ç›Šç‡ & è‚¡ç¥¨sr & ç­–ç•¥æ”¶ç›Šç‡ & ç­–ç•¥sr & æ”¶ç›Šç‡å·®å¼‚ &
srå·®å¼‚ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 25 & 190 & 0.257870 & 0.485916 & 0.547773 & 1.106469 & 0.289904 &
0.620553 \\
0 & 25 & 200 & 0.263642 & 0.496515 & 0.506072 & 1.013418 & 0.242431 &
0.516903 \\
0 & 15 & 200 & 0.263642 & 0.496515 & 0.479052 & 0.955670 & 0.215411 &
0.459155 \\
0 & 20 & 200 & 0.263642 & 0.496515 & 0.476580 & 0.950389 & 0.212939 &
0.453874 \\
0 & 30 & 200 & 0.263642 & 0.496515 & 0.470273 & 0.936916 & 0.206632 &
0.440400 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sma1 }\OperatorTok{=} \DecValTok{25}
\NormalTok{sma2 }\OperatorTok{=} \DecValTok{190}
\NormalTok{df.loc[:,}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(df.price,sma1)}
\NormalTok{df.loc[:,}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(df.price,sma2)}

\NormalTok{df[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.where(df[}\StringTok{\textquotesingle{}sma1\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}}\NormalTok{ df[}\StringTok{\textquotesingle{}sma2\textquotesingle{}}\NormalTok{],}\DecValTok{1}\NormalTok{,}\OperatorTok{{-}}\DecValTok{1}\NormalTok{)}

\NormalTok{df[}\StringTok{\textquotesingle{}strategy3\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{].shift(}\DecValTok{1}\NormalTok{) }\OperatorTok{*}\NormalTok{ df.lrets}

\NormalTok{df.dropna(inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}

\NormalTok{df.}\BuiltInTok{round}\NormalTok{(}\DecValTok{4}\NormalTok{).head()}

\NormalTok{df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}strategy2\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}strategy3\textquotesingle{}}\NormalTok{]].cumsum().}\BuiltInTok{apply}\NormalTok{(np.exp).plot()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/33-technical_analysis_files/figure-pdf/cell-30-output-1.pdf}

}

\end{figure}

\hypertarget{ux6ce8ux610fux4e8bux9879}{%
\subsection{æ³¨æ„äº‹é¡¹}\label{ux6ce8ux610fux4e8bux9879}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¿‡å»ä¸ä»£è¡¨æœªæ¥ï¼Œè¿‡å»å‡ å¹´çš„æœ€ä¼˜ç­–ç•¥ï¼Œæœªæ¥ä¸ä¸€å®šæˆåŠŸï¼ˆå…¶å®æ˜¯åŸºæœ¬ä¸ä¼šæˆåŠŸï¼‰ã€‚
\item
  å¯ä»¥è€ƒè™‘é‡‡ç”¨æ»šåŠ¨çš„çª—å£æµ‹è¯•ï¼ˆç•¥ï¼‰
\end{enumerate}

\hypertarget{ux6446ux52a8ux6307ux6807}{%
\section{æ‘†åŠ¨æŒ‡æ ‡}\label{ux6446ux52a8ux6307ux6807}}

è¿™é‡Œä»¥RSIæŒ‡æ ‡ä¸ºä¾‹ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ rsi(close, periods }\OperatorTok{=} \DecValTok{14}\NormalTok{, ema }\OperatorTok{=} \VariableTok{True}\NormalTok{):}
    \CommentTok{"""}
\CommentTok{    Returns a pd.Series with the relative strength index.}
\CommentTok{    """}
\NormalTok{    close\_delta }\OperatorTok{=}\NormalTok{ close.diff()}

    \CommentTok{\# Make two series: one for lower closes and one for higher closes}
\NormalTok{    up }\OperatorTok{=}\NormalTok{ close\_delta.clip(lower}\OperatorTok{=}\DecValTok{0}\NormalTok{)}
\NormalTok{    down }\OperatorTok{=} \OperatorTok{{-}}\DecValTok{1} \OperatorTok{*}\NormalTok{ close\_delta.clip(upper}\OperatorTok{=}\DecValTok{0}\NormalTok{)}
    
    \ControlFlowTok{if}\NormalTok{ ema }\OperatorTok{==} \VariableTok{True}\NormalTok{:}
        \CommentTok{\# Use exponential moving average}
\NormalTok{        ma\_up }\OperatorTok{=}\NormalTok{ up.ewm(com }\OperatorTok{=}\NormalTok{ periods }\OperatorTok{{-}} \DecValTok{1}\NormalTok{, adjust}\OperatorTok{=}\VariableTok{True}\NormalTok{, min\_periods }\OperatorTok{=}\NormalTok{ periods).mean()}
\NormalTok{        ma\_down }\OperatorTok{=}\NormalTok{ down.ewm(com }\OperatorTok{=}\NormalTok{ periods }\OperatorTok{{-}} \DecValTok{1}\NormalTok{, adjust}\OperatorTok{=}\VariableTok{True}\NormalTok{, min\_periods }\OperatorTok{=}\NormalTok{ periods).mean()}
    \ControlFlowTok{else}\NormalTok{:}
        \CommentTok{\# Use simple moving average}
\NormalTok{        ma\_up }\OperatorTok{=}\NormalTok{ up.rolling(window }\OperatorTok{=}\NormalTok{ periods, adjust}\OperatorTok{=}\VariableTok{False}\NormalTok{).mean()}
\NormalTok{        ma\_down }\OperatorTok{=}\NormalTok{ down.rolling(window }\OperatorTok{=}\NormalTok{ periods, adjust}\OperatorTok{=}\VariableTok{False}\NormalTok{).mean()}
        
\NormalTok{    rsi }\OperatorTok{=}\NormalTok{ ma\_up }\OperatorTok{/}\NormalTok{ ma\_down}
\NormalTok{    rsi }\OperatorTok{=} \DecValTok{100} \OperatorTok{{-}}\NormalTok{ (}\DecValTok{100}\OperatorTok{/}\NormalTok{(}\DecValTok{1} \OperatorTok{+}\NormalTok{ rsi))}
    \ControlFlowTok{return}\NormalTok{ rsi}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å…ˆæŠŠæ•°æ®è¿˜åŸä¸€ä¸‹}
\NormalTok{df }\OperatorTok{=}\NormalTok{ df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}price\textquotesingle{}}\NormalTok{]]}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& lrets & price \\
æ—¥æœŸ & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2020-03-27 & -0.007931 & 5.377030 \\
2020-03-30 & 0.005286 & 5.405529 \\
2020-03-31 & 0.009257 & 5.455800 \\
2020-04-01 & 0.000000 & 5.455800 \\
2020-04-02 & 0.027031 & 5.605289 \\
... & ... & ... \\
2023-12-06 & 0.025278 & 13.678666 \\
2023-12-07 & 0.009851 & 13.814085 \\
2023-12-08 & -0.005515 & 13.738107 \\
2023-12-11 & 0.010742 & 13.886479 \\
2023-12-12 & -0.010454 & 13.742059 \\
\end{longtable}

RSIæŒ‡æ ‡çš„å‘¨æœŸï¼Œæˆ‘ä»¬æš‚å®šä¸º14å¤©ã€‚ï¼ˆæ˜¾ç„¶è¿™ä¸ªå€¼ä¹Ÿæ˜¯å¯ä»¥è¢«ä¼˜åŒ–çš„ï¼‰

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{rsi\_14 }\OperatorTok{=}\NormalTok{ rsi(df.price)}
\NormalTok{rsi\_14[}\OperatorTok{{-}}\DecValTok{5}\NormalTok{:]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
æ—¥æœŸ
2023-12-06    29.395351
2023-12-07    32.657186
2023-12-08    31.770354
2023-12-11    35.456444
2023-12-12    33.556135
Name: price, dtype: float64
\end{verbatim}

ç»˜å›¾ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{2}\NormalTok{,}\DecValTok{1}\NormalTok{,figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{,}\DecValTok{4}\NormalTok{), gridspec\_kw}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}height\_ratios\textquotesingle{}}\NormalTok{: [}\DecValTok{3}\NormalTok{, }\DecValTok{1}\NormalTok{]\},sharex }\OperatorTok{=} \VariableTok{True}\NormalTok{)}

\NormalTok{df.price.plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{0}\NormalTok{])}
\NormalTok{rsi\_14.plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{1}\NormalTok{])}

\NormalTok{plt.subplots\_adjust(wspace}\OperatorTok{=}\FloatTok{0.05}\NormalTok{,hspace}\OperatorTok{=}\FloatTok{0.05}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/33-technical_analysis_files/figure-pdf/cell-34-output-1.pdf}

}

\end{figure}

ç®€å•çš„RSIæŒ‡æ ‡ç­–ç•¥ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  RSIå°äºæŸä¸ªå€¼ï¼šä¹°å…¥ï¼Œå¹¶æŒæœ‰åˆ°å–å‡ºã€‚
\item
  RSIå¤§äºæŸä¸ªå€¼ï¼šå–å‡ºï¼Œå¹¶ç­‰å¾…åˆ°ä¹°å…¥ã€‚
\end{enumerate}

è¿™é‡Œéšä¾¿é€‰æ‹©2ä¸ªé˜ˆå€¼ï¼šï¼ˆè¿åŒrsiçš„å‘¨æœŸï¼Œç°åœ¨æœ‰3ä¸ªå¯ä¼˜åŒ–çš„å€¼ï¼‰

å¯¹äºè¿™ç§``ä¹°å…¥å–å‡ºä¿¡å·''çš„ç±»å‹ï¼Œå¦‚ä½•è®¡ç®—æŒä»“çŠ¶æ€ï¼Ÿ

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä»ç¬¬ä¸€å¤©å¼€å§‹ï¼Œéå†æ¯ä¸€å¤©ã€‚
\item
  æ£€æŸ¥ä¹°å…¥ä¿¡å·æ˜¯å¦ä¸º1ï¼Œæ˜¯ï¼Œåˆ™position{[}i{]} = 1ï¼›
\item
  æ£€æŸ¥å–å‡ºä¿¡å·æ˜¯å¦ä¸º1ï¼Œæ˜¯ï¼Œåˆ™position{[}i{]} = 0ï¼›
\item
  2ä¸ªä¿¡å·éƒ½ä¸å­˜åœ¨ï¼Œåˆ™ä¿æŒå‰å€¼ã€‚
\end{enumerate}

æ³¨æ„ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  è¿™é‡Œçš„å‚æ•°æ˜¯éšä¾¿é€‰çš„ï¼Œè¿™é‡Œåªæ˜¯åšæ¼”ç¤ºã€‚
\item
  ä»»ä½•å…¶ä»–æ‘†åŠ¨æŒ‡æ ‡ï¼Œæ¯”å¦‚kdjï¼Œåšæ³•ç±»ä¼¼
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ„é€ ä¹°å–ä¿¡å·}
\NormalTok{long\_signal }\OperatorTok{=}\NormalTok{ (rsi\_14 }\OperatorTok{\textless{}} \DecValTok{35}\NormalTok{)}
\NormalTok{short\_signal }\OperatorTok{=}\NormalTok{ (rsi\_14 }\OperatorTok{\textgreater{}} \DecValTok{70}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{position }\OperatorTok{=}\NormalTok{ np.zeros\_like(rsi\_14)  }\CommentTok{\# åˆ›å»ºä¸€ä¸ªrsi\_14åŒç­‰é•¿åº¦çš„åºåˆ—ï¼Œå…¶ä¸­å¡«æ»¡0ï¼Œå³é»˜è®¤ç©ºä»“}


\CommentTok{\# éå†rsi\_14ï¼Œè¿™é‡Œå…¶å®åªæ˜¯è¦ä¸ªåºå·i = [0,1,2,3, .... ]}
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(rsi\_14)):}
    \ControlFlowTok{if}\NormalTok{ np.isnan(long\_signal[i]) }\KeywordTok{or}\NormalTok{ np.isnan(short\_signal[i]):  }\CommentTok{\# 2ä¸ªä¿¡å·æœ‰1ä¸ªæ˜¯naï¼Œå°±ä¿æŒ0}
\NormalTok{        position[i] }\OperatorTok{=} \DecValTok{0}
    \ControlFlowTok{else}\NormalTok{:}
        \ControlFlowTok{if}\NormalTok{ long\_signal[i]:  }\CommentTok{\# å¦‚æœiè¿™å¤©æœ‰ä¹°å…¥ä¿¡å·}
\NormalTok{            position[i] }\OperatorTok{=} \DecValTok{1}  \CommentTok{\# iè¿™å¤©çš„æŒä»“ä¸º1}
        \ControlFlowTok{elif}\NormalTok{ short\_signal[i]:  }\CommentTok{\# å¦‚æœiè¿™ä¸ªå¤©æœ‰å–å‡ºä¿¡å·}
\NormalTok{            position[i] }\OperatorTok{=} \DecValTok{0}  \CommentTok{\# iè¿™å¤©çš„æŒä»“ä¸º0}
        \ControlFlowTok{else}\NormalTok{:}
\NormalTok{            position[i] }\OperatorTok{=}\NormalTok{ position[i}\OperatorTok{{-}}\DecValTok{1}\NormalTok{] }\CommentTok{\# æ²¡ä¿¡å·ï¼Œåˆ™æŒä»“çŠ¶æ€ä¸å˜}

\NormalTok{df[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ pd.DataFrame(\{}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{: position\}, index}\OperatorTok{=}\NormalTok{rsi\_14.index) }\CommentTok{\# æ„é€ ä¸€ä¸ªæ—¶é—´åºåˆ—çš„DataFrame}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/tmp/ipykernel_50089/3571062792.py:16: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df['pos'] = pd.DataFrame({'pos': position}, index=rsi_14.index) # æ„é€ ä¸€ä¸ªæ—¶é—´åºåˆ—çš„DataFrame
\end{verbatim}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& lrets & price & pos \\
æ—¥æœŸ & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2020-03-27 & -0.007931 & 5.377030 & 0.0 \\
2020-03-30 & 0.005286 & 5.405529 & 0.0 \\
2020-03-31 & 0.009257 & 5.455800 & 0.0 \\
2020-04-01 & 0.000000 & 5.455800 & 0.0 \\
2020-04-02 & 0.027031 & 5.605289 & 0.0 \\
... & ... & ... & ... \\
2023-12-06 & 0.025278 & 13.678666 & 1.0 \\
2023-12-07 & 0.009851 & 13.814085 & 1.0 \\
2023-12-08 & -0.005515 & 13.738107 & 1.0 \\
2023-12-11 & 0.010742 & 13.886479 & 1.0 \\
2023-12-12 & -0.010454 & 13.742059 & 1.0 \\
\end{longtable}

ç»˜å›¾ï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{3}\NormalTok{,}\DecValTok{1}\NormalTok{,figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{,}\DecValTok{5}\NormalTok{), gridspec\_kw}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}height\_ratios\textquotesingle{}}\NormalTok{: [}\DecValTok{3}\NormalTok{, }\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{]\},sharex }\OperatorTok{=} \VariableTok{True}\NormalTok{)}

\NormalTok{df.price.plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{0}\NormalTok{])}
\NormalTok{rsi\_14.plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{1}\NormalTok{])}
\NormalTok{df.pos.plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{2}\NormalTok{])}

\NormalTok{plt.subplots\_adjust(wspace}\OperatorTok{=}\FloatTok{0.05}\NormalTok{,hspace}\OperatorTok{=}\FloatTok{0.05}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/33-technical_analysis_files/figure-pdf/cell-37-output-1.pdf}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{np.mean(df.lrets }\OperatorTok{*}\NormalTok{ df.pos.shift(}\DecValTok{1}\NormalTok{)) }\OperatorTok{*} \DecValTok{250}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.025428265695020356
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sharpe\_ratio(df.lrets)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0.4859163275744956
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{sharpe\_ratio(df.lrets }\OperatorTok{*}\NormalTok{ df.pos.shift(}\DecValTok{1}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
-0.014897562318840355
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[:,}\StringTok{\textquotesingle{}strat\_rets\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df.lrets }\OperatorTok{*}\NormalTok{ df.pos.shift(}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/tmp/ipykernel_50089/678097258.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df.loc[:,'strat_rets'] = df.lrets * df.pos.shift(1)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{3}\NormalTok{,}\DecValTok{1}\NormalTok{,figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{,}\DecValTok{5}\NormalTok{), gridspec\_kw}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}height\_ratios\textquotesingle{}}\NormalTok{: [}\DecValTok{3}\NormalTok{, }\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{]\},sharex }\OperatorTok{=} \VariableTok{True}\NormalTok{)}

\NormalTok{df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}strat\_rets\textquotesingle{}}\NormalTok{]].cumsum().agg(np.exp).plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{0}\NormalTok{])}
\NormalTok{rsi\_14.plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{1}\NormalTok{])}
\NormalTok{df.pos.plot(ax }\OperatorTok{=}\NormalTok{ axes[}\DecValTok{2}\NormalTok{])}

\NormalTok{plt.subplots\_adjust(wspace}\OperatorTok{=}\FloatTok{0.05}\NormalTok{,hspace}\OperatorTok{=}\FloatTok{0.05}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/33-technical_analysis_files/figure-pdf/cell-42-output-1.pdf}

}

\end{figure}

å¯ä»¥ä¼˜åŒ–çš„å‚æ•°æœ‰ä¸‰ä¸ªï¼Œè¿™äº›å‚æ•°åœ¨æœ¬æ¡ˆä¸­éƒ½æ˜¯éšæœºé€‰å–çš„:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  å¤©æ•°
\item
  ä¹°å…¥é˜ˆå€¼
\item
  å–å‡ºé˜ˆå€¼
\end{enumerate}

åšæ³•å’Œå‡çº¿ç³»ç»Ÿå®Œå…¨ä¸€æ ·ï¼Œåªæ˜¯ä»2ä¸ªå‚æ•°å˜æˆ3ä¸ªå‚æ•°ï¼Œè¿™é‡Œä»ç•¥ã€‚

ç¨å¾®æ‰©å±•ä¸€ä¸‹ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  åœ¨ä¸Šå‡å‘¨æœŸï¼ŒRSIä¹°å–ä¿¡å·çš„ä¸¤ä¸ªé˜ˆå€¼å¯ä»¥æé«˜ï¼ˆè¶…ä¹°å¯ä»¥ç»§ç»­æ¶¨ï¼Œå›è°ƒä¸ä¼šè·Œå¤ªæ·±ï¼‰ï¼Œé¿å…è¿‡æ—©å–å‡ºï¼Œæˆ–è€…ç­‰ä¸åˆ°ä¹°ç‚¹ï¼›åä¹‹ï¼Œä¸¤ä¸ªä¿¡å·çš„é˜ˆå€¼å¯ä»¥é™ä½ã€‚
\item
  é‚£ä¹ˆæ€ä¹ˆåŒºåˆ†ä¸Šå‡ä¸‹é™å‘¨æœŸï¼Ÿæ— æ•°ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä»å‡çº¿æƒ³èµ·ã€‚
\end{enumerate}

\hypertarget{ux6280ux672fux5206ux6790ux7b56ux7565ux7ec4ux5408}{%
\section{æŠ€æœ¯åˆ†æç­–ç•¥ç»„åˆ}\label{ux6280ux672fux5206ux6790ux7b56ux7565ux7ec4ux5408}}

æœ€åè¯´ä¸€ä¸‹ç­–ç•¥çš„ç®€å•ç»„åˆï¼Œè¿™æ˜¯æœ€ç®€å•çš„ç»„åˆå¤šä¸ªæŒ‡æ ‡çš„æ–¹æ³•ã€‚è¿™é‡Œä»¥''å•å‡çº¿ç³»ç»Ÿ''å’Œå‰é¢çš„RSIç³»ç»Ÿä¸ºä¾‹ï¼š

ä¸€èˆ¬æ€§åšæ³•æ˜¯ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æ¯ä¸ªç³»ç»Ÿï¼Œè®¡ç®—å‡ºå„è‡ªçš„æŒä»“æƒ…å†µã€‚
\item
  å¯¹ä¸åŒçš„ç³»ç»Ÿçš„æŒä»“æƒ…å†µï¼Œæ±‚ä¸åŒçš„é€»è¾‘ç»„åˆã€‚
\end{enumerate}

ä¾‹å¦‚ï¼šä½ å¯èƒ½å¸Œæœ›``2ä¸ªæŒ‡æ ‡ç³»ç»ŸåŒæ—¶æ˜¾ç¤ºæŒæœ‰ï¼Œæˆ‘æ‰æŒæœ‰''ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ä»·æ ¼åœ¨120å‡çº¿ä¸Šçš„åŒæ—¶ï¼š
\item
  RSIä¿æŒæŒä»“çŠ¶æ€ï¼ˆå‚æ•°åŒå‰ï¼‰
\end{enumerate}

é‚£ä¹ˆï¼Œåªè¦2ä¸ªæŒä»“æƒ…å†µç›´æ¥``é€»è¾‘ä¸''ï¼Œæˆ–è€…ç›´æ¥ç›¸ä¹˜ä¹Ÿå¯ä»¥ã€‚

å½“ç„¶ï¼Œä½ å¯ä»¥è®¾ç½®æ›´å¤æ‚çš„ç³»ç»Ÿã€‚æ¯”å¦‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  é¦–å…ˆç”¨å®è§‚å’Œè¶‹åŠ¿ç­–ç•¥ï¼Œåˆ¤æ–­å…ˆåœ¨å¤„äºä¸Šå‡å‘¨æœŸè¿˜æ˜¯ä¸‹é™å‘¨æœŸã€‚
\item
  ä¸Šå‡å‘¨æœŸï¼Œä¹°å…¥æ›´å®½æ¾ï¼šä»»ä½•ä¸€ä¸ªæ¡ä»¶æˆç«‹éƒ½å¯ä»¥ä¹°å…¥ï¼ˆé€»è¾‘æˆ–ï¼‰
\item
  ä¸‹è¡Œå‘¨æœŸï¼Œä¹°å…¥æ›´ä¸¥æ ¼ï¼ˆæˆ–è€…ä¸ä¹°å…¥ï¼‰ï¼šæ‰€æœ‰æ¡ä»¶éƒ½æˆç«‹æ‰å¯ä»¥ä¹°å…¥ï¼ˆé€»è¾‘ä¸ï¼‰
\item
  å„ä¸ªåŒºé—´å‚æ•°è¿˜å¯ä»¥ä¸ä¸€æ ·ï¼Œè€ƒè™‘çš„æŒ‡æ ‡å¯ä»¥ä¸ä¸€æ ·ï¼ˆä¸è€ƒè™‘çš„æŒ‡æ ‡åªè¦ä¹˜ä»¥0å³ä¸èµ·ä½œç”¨ï¼‰
\end{enumerate}

ç­‰ç­‰ç­‰ç­‰ï¼Œå„ä½è‡ªè¡Œå‘æŒ¥ã€‚

é¦–å…ˆï¼Œå„è‡ªè®¡ç®—2ä¸ªç³»ç»Ÿçš„æŒä»“ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å•ä¸€å‡çº¿ç³»ç»Ÿçš„æŒä»“æƒ…å†µ}
\NormalTok{pos\_ma }\OperatorTok{=}\NormalTok{ (df.price }\OperatorTok{\textgreater{}}\NormalTok{ sma(df.price,}\DecValTok{120}\NormalTok{)).shift(}\DecValTok{1}\NormalTok{)}\OperatorTok{*}\DecValTok{1} \CommentTok{\# æ³¨æ„è¦æ¨è¿Ÿ1å¤©}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# rsiç³»ç»Ÿçš„æŒä»“æƒ…å†µ}
\NormalTok{pos\_rsi }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{] }\CommentTok{\# ç”¨å‰é¢çš„æ•°æ®}
\end{Highlighting}
\end{Shaded}

æŒ‰å‰é¢çš„é€»è¾‘ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æˆ‘ä»¬ç”¨120æ—¥å‡çº¿æ¥åšå¤šçœ‹åˆ¤æ–­ï¼ˆ120æ—¥æ˜¯éšä¾¿é€‰çš„ï¼‰
\item
  å¦‚æœ120å‡çº¿å¤šå¤´ï¼Œé‚£ä¹ˆä¹°å…¥æ›´åŠ å®½æ¾ï¼šä¸¤ä¸ªç³»ç»Ÿå–æˆ–ã€‚æ³¨æ„ï¼šè¿™ä¸ª120å‡çº¿å¤šå¤´ï¼Œé‚£ä¹ˆç­‰äºå…¨ç¨‹å¤šå¤´ï¼Œrsiç³»ç»Ÿä¸èµ·ä½œç”¨ã€‚è¿™é‡Œåªæ˜¯ç”¨äºæ¼”ç¤ºï¼Œä½ çš„ç³»ç»Ÿå¯èƒ½ä¸æ˜¯è¿™æ ·ã€‚
\item
  å¦‚æœ120å‡çº¿å¤šå¤´ï¼Œé‚£ä¹ˆä¹°å…¥æ›´åŠ ä¸¥æ ¼ï¼šä¸¤ä¸ªç³»ç»Ÿå–ä¸ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pos\_ma }\OperatorTok{=}\NormalTok{ pos\_ma.fillna(}\DecValTok{0}\NormalTok{)}
\NormalTok{pos\_final }\OperatorTok{=}\NormalTok{ pd.DataFrame(np.where(pos\_ma}\OperatorTok{==}\DecValTok{1}\NormalTok{,}
\NormalTok{                     np.logical\_or(pos\_ma.fillna(}\DecValTok{0}\NormalTok{),pos\_rsi), }
\NormalTok{                     np.logical\_and(pos\_ma.fillna(}\DecValTok{0}\NormalTok{),pos\_rsi)),}
\NormalTok{                     index }\OperatorTok{=}\NormalTok{ pos\_ma.index) }\OperatorTok{*} \DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{3}\NormalTok{,}\DecValTok{1}\NormalTok{,figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{,}\DecValTok{5}\NormalTok{), gridspec\_kw}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}height\_ratios\textquotesingle{}}\NormalTok{: [}\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{]\},sharex }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\NormalTok{pos\_ma.plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{0}\NormalTok{])}
\NormalTok{pos\_rsi.plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{1}\NormalTok{])}
\NormalTok{pos\_final.plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{2}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<Axes: xlabel='æ—¥æœŸ'>
\end{verbatim}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/33-technical_analysis_files/figure-pdf/cell-46-output-2.pdf}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}lrets\_final\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ (pos\_final.iloc[:,}\DecValTok{0}\NormalTok{] }\OperatorTok{*}\NormalTok{ df.lrets)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/tmp/ipykernel_50089/2944535238.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df['lrets_final'] = (pos_final.iloc[:,0] * df.lrets)
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]

\NormalTok{df.fillna(}\DecValTok{0}\NormalTok{,inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}

\NormalTok{df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}lrets\_final\textquotesingle{}}\NormalTok{]].cumsum().agg(np.exp).tail(}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/tmp/ipykernel_50089/3761499522.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  df.fillna(0,inplace=True)
\end{verbatim}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& lrets & lrets\_final \\
æ—¥æœŸ & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2023-12-06 & 2.523810 & 1.726663 \\
2023-12-07 & 2.548796 & 1.726663 \\
2023-12-08 & 2.534778 & 1.726663 \\
2023-12-11 & 2.562153 & 1.726663 \\
2023-12-12 & 2.535507 & 1.726663 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fig, axes }\OperatorTok{=}\NormalTok{ plt.subplots(}\DecValTok{4}\NormalTok{,}\DecValTok{1}\NormalTok{,figsize}\OperatorTok{=}\NormalTok{(}\DecValTok{8}\NormalTok{,}\DecValTok{8}\NormalTok{), gridspec\_kw}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}height\_ratios\textquotesingle{}}\NormalTok{: [}\DecValTok{4}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{1}\NormalTok{,]\},sharex }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\NormalTok{df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}lrets\_final\textquotesingle{}}\NormalTok{]].loc[}\StringTok{\textquotesingle{}2020{-}08\textquotesingle{}}\NormalTok{:].cumsum().agg(np.exp).plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{0}\NormalTok{])}
\NormalTok{pos\_ma.plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{1}\NormalTok{])}
\NormalTok{pos\_rsi.plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{2}\NormalTok{])}
\NormalTok{pos\_final.plot(ax}\OperatorTok{=}\NormalTok{axes[}\DecValTok{3}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<Axes: xlabel='æ—¥æœŸ'>
\end{verbatim}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/33-technical_analysis_files/figure-pdf/cell-49-output-2.pdf}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}lrets\_final\textquotesingle{}}\NormalTok{]].loc[}\StringTok{\textquotesingle{}2020{-}08\textquotesingle{}}\NormalTok{:].agg(sharpe\_ratio)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
lrets          0.161377
lrets_final    0.378548
dtype: float64
\end{verbatim}

å¾ˆæ˜æ˜¾ï¼Œç°æœ‰4ä¸ªå‚æ•°ï¼šå‡çº¿å‘¨æœŸï¼Œrsiå‘¨æœŸï¼Œrsiä¹°å…¥å’Œå–å‡ºçš„é˜ˆå€¼ï¼Œéƒ½å¯ä»¥è¿›è¡Œä¼˜åŒ–ï¼Œå„ä½å¯ä»¥è‡ªè¡Œæ‘¸ç´¢ã€‚

\hypertarget{ux6edaux52a8ux6d4bux8bd5ux8303ux4f8b}{%
\chapter{æ»šåŠ¨æµ‹è¯•èŒƒä¾‹}\label{ux6edaux52a8ux6d4bux8bd5ux8303ux4f8b}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ akshare }\ImportTok{as}\NormalTok{ ak}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ sma(x,period):}
    \ControlFlowTok{return}\NormalTok{ x.rolling(period).mean()}

\KeywordTok{def}\NormalTok{ sharpe\_ratio(lrets, rf }\OperatorTok{=} \FloatTok{0.03}\NormalTok{):}
    \ControlFlowTok{return}\NormalTok{ (np.mean(lrets) }\OperatorTok{*} \DecValTok{250} \OperatorTok{{-}}\NormalTok{ rf) }\OperatorTok{/}\NormalTok{ (np.std(lrets) }\OperatorTok{*}\NormalTok{ np.sqrt(}\DecValTok{250}\NormalTok{))}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è¯»å–å®å¾·æ—¶ä»£}
\CommentTok{\# è§ï¼šhttps://akshare.xyz/data/stock/stock.html\#id20}

\NormalTok{df }\OperatorTok{=}\NormalTok{ ak.stock\_zh\_a\_hist(symbol}\OperatorTok{=}\StringTok{"300750"}\NormalTok{,start\_date}\OperatorTok{=}\StringTok{\textquotesingle{}20180101\textquotesingle{}}\NormalTok{,end\_date}\OperatorTok{=}\StringTok{\textquotesingle{}20231212\textquotesingle{}}\NormalTok{, adjust}\OperatorTok{=}\StringTok{\textquotesingle{}qfq\textquotesingle{}}\NormalTok{)}

\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllllll@{}}
\toprule\noalign{}
& æ—¥æœŸ & å¼€ç›˜ & æ”¶ç›˜ & æœ€é«˜ & æœ€ä½ & æˆäº¤é‡ & æˆäº¤é¢ & æŒ¯å¹… & æ¶¨è·Œå¹… &
æ¶¨è·Œé¢ & æ¢æ‰‹ç‡ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 2018-06-11 & 14.66 & 18.01 & 18.01 & 14.66 & 788 & 2.845471e+06 &
28.22 & 51.73 & 6.14 & 0.04 \\
1 & 2018-06-12 & 20.02 & 20.02 & 20.02 & 20.02 & 266 & 1.058375e+06 &
0.00 & 11.16 & 2.01 & 0.01 \\
2 & 2018-06-13 & 22.24 & 22.24 & 22.24 & 22.24 & 450 & 1.972314e+06 &
0.00 & 11.09 & 2.22 & 0.02 \\
3 & 2018-06-14 & 24.67 & 24.67 & 24.67 & 24.67 & 743 & 3.578184e+06 &
0.00 & 10.93 & 2.43 & 0.03 \\
4 & 2018-06-15 & 27.35 & 27.35 & 27.35 & 27.35 & 2565 & 1.359503e+07 &
0.00 & 10.86 & 2.68 & 0.12 \\
... & ... & ... & ... & ... & ... & ... & ... & ... & ... & ... & ... \\
1334 & 2023-12-06 & 158.65 & 162.88 & 166.86 & 158.22 & 367693 &
6.024340e+09 & 5.44 & 2.56 & 4.07 & 0.94 \\
1335 & 2023-12-07 & 162.00 & 164.49 & 166.36 & 161.60 & 269084 &
4.410842e+09 & 2.92 & 0.99 & 1.61 & 0.69 \\
1336 & 2023-12-08 & 165.00 & 163.59 & 166.33 & 163.12 & 245020 &
4.030383e+09 & 1.95 & -0.55 & -0.90 & 0.63 \\
1337 & 2023-12-11 & 162.01 & 165.35 & 165.69 & 160.16 & 214896 &
3.497266e+09 & 3.38 & 1.08 & 1.76 & 0.55 \\
1338 & 2023-12-12 & 164.00 & 163.63 & 165.22 & 162.98 & 147339 &
2.415528e+09 & 1.35 & -1.04 & -1.72 & 0.38 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}æ—¥æœŸ\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ pd.to\_datetime(df[}\StringTok{\textquotesingle{}æ—¥æœŸ\textquotesingle{}}\NormalTok{])}
\NormalTok{df.set\_index(}\StringTok{\textquotesingle{}æ—¥æœŸ\textquotesingle{}}\NormalTok{,inplace }\OperatorTok{=} \VariableTok{True}\NormalTok{)}
\NormalTok{df }\OperatorTok{=}\NormalTok{ df[[}\StringTok{\textquotesingle{}æ¶¨è·Œå¹…\textquotesingle{}}\NormalTok{]]}\OperatorTok{/}\DecValTok{100}
\NormalTok{df.fillna(}\DecValTok{0}\NormalTok{,inplace}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{df[}\StringTok{\textquotesingle{}price\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ (df[}\StringTok{\textquotesingle{}æ¶¨è·Œå¹…\textquotesingle{}}\NormalTok{] }\OperatorTok{+} \DecValTok{1}\NormalTok{).cumprod() }\CommentTok{\# ç”¨æ¶¨è·Œå¹…åç®—å‡ºå¤æƒä»·ï¼Œä¸Šå¸‚æ—¥å‰ä¸€å¤©ä¸º1ã€‚}
\NormalTok{df[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.log(df[}\StringTok{\textquotesingle{}æ¶¨è·Œå¹…\textquotesingle{}}\NormalTok{] }\OperatorTok{+} \DecValTok{1}\NormalTok{)}
\NormalTok{df.tail()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& æ¶¨è·Œå¹… & price & lrets \\
æ—¥æœŸ & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2023-12-06 & 0.0256 & 13.678666 & 0.025278 \\
2023-12-07 & 0.0099 & 13.814085 & 0.009851 \\
2023-12-08 & -0.0055 & 13.738107 & -0.005515 \\
2023-12-11 & 0.0108 & 13.886479 & 0.010742 \\
2023-12-12 & -0.0104 & 13.742059 & -0.010454 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# è·å¾—æ‰€æœ‰æœˆä»½}

\NormalTok{all\_months }\OperatorTok{=}\NormalTok{ df.resample(}\StringTok{\textquotesingle{}M\textquotesingle{}}\NormalTok{).last().index.strftime(}\StringTok{\textquotesingle{}\%Y{-}\%m\textquotesingle{}}\NormalTok{)}
\NormalTok{all\_months}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Index(['2018-06', '2018-07', '2018-08', '2018-09', '2018-10', '2018-11',
       '2018-12', '2019-01', '2019-02', '2019-03', '2019-04', '2019-05',
       '2019-06', '2019-07', '2019-08', '2019-09', '2019-10', '2019-11',
       '2019-12', '2020-01', '2020-02', '2020-03', '2020-04', '2020-05',
       '2020-06', '2020-07', '2020-08', '2020-09', '2020-10', '2020-11',
       '2020-12', '2021-01', '2021-02', '2021-03', '2021-04', '2021-05',
       '2021-06', '2021-07', '2021-08', '2021-09', '2021-10', '2021-11',
       '2021-12', '2022-01', '2022-02', '2022-03', '2022-04', '2022-05',
       '2022-06', '2022-07', '2022-08', '2022-09', '2022-10', '2022-11',
       '2022-12', '2023-01', '2023-02', '2023-03', '2023-04', '2023-05',
       '2023-06', '2023-07', '2023-08', '2023-09', '2023-10', '2023-11',
       '2023-12'],
      dtype='object', name='æ—¥æœŸ')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# å¯¹äºæŒ‡å®šçš„èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œæ‰¾å‡ºæœ€ä½³çš„å‡çº¿}

\KeywordTok{def}\NormalTok{ get\_best\_ma(start, end):}
    
\NormalTok{    ma\_period\_list }\OperatorTok{=} \BuiltInTok{range}\NormalTok{(}\DecValTok{60}\NormalTok{,}\DecValTok{250}\NormalTok{,}\DecValTok{10}\NormalTok{)}

\NormalTok{    result }\OperatorTok{=}\NormalTok{ []}

    \ControlFlowTok{for}\NormalTok{ ma\_period }\KeywordTok{in}\NormalTok{ ma\_period\_list:}

\NormalTok{        df[}\StringTok{\textquotesingle{}ma\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(df.price, ma\_period)}
\NormalTok{        df[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.where(df.price }\OperatorTok{\textgreater{}}\NormalTok{ df.ma,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{) }\CommentTok{\# åªå…è®¸åšå¤š}
\NormalTok{        df[}\StringTok{\textquotesingle{}traded\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{] }\OperatorTok{*}\NormalTok{ df.pos.shift() }

\NormalTok{        result.append((ma\_period, sharpe\_ratio(df.loc[start:end].traded)))}

\NormalTok{    res }\OperatorTok{=}\NormalTok{ pd.DataFrame(result)}
\NormalTok{    res.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}ma\_period\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}sharpe\textquotesingle{}}\NormalTok{]}
    \ControlFlowTok{return}\NormalTok{ res}

\NormalTok{get\_best\_ma(}\StringTok{\textquotesingle{}2021{-}05\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}2021{-}11\textquotesingle{}}\NormalTok{).sort\_values([}\StringTok{\textquotesingle{}sharpe\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}ma\_period\textquotesingle{}}\NormalTok{],ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{).head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& ma\_period & sharpe \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
18 & 240 & 2.026914 \\
17 & 230 & 2.026914 \\
16 & 220 & 2.026914 \\
15 & 210 & 2.026914 \\
14 & 200 & 2.026914 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{train\_time }\OperatorTok{=}\NormalTok{ []}
\NormalTok{test\_time }\OperatorTok{=}\NormalTok{ []}

\NormalTok{back\_n }\OperatorTok{=} \DecValTok{2}
\NormalTok{test\_n }\OperatorTok{=} \DecValTok{1}

\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\DecValTok{0}\NormalTok{,}\BuiltInTok{len}\NormalTok{(all\_months) }\OperatorTok{{-}}\NormalTok{ (back\_n }\OperatorTok{+}\NormalTok{ test\_n) }\OperatorTok{+} \DecValTok{1}\NormalTok{,test\_n):}
\NormalTok{    train\_time.append(all\_months[i:(i}\OperatorTok{+}\NormalTok{back\_n)])}
\NormalTok{    test\_time.append(all\_months[i}\OperatorTok{+}\NormalTok{back\_n:(i}\OperatorTok{+}\NormalTok{back\_n}\OperatorTok{+}\NormalTok{test\_n) ])}

\NormalTok{train\_time[}\DecValTok{0}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Index(['2018-06', '2018-07'], dtype='object', name='æ—¥æœŸ')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{test\_time[}\DecValTok{0}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Index(['2018-08'], dtype='object', name='æ—¥æœŸ')
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{def}\NormalTok{ test\_a\_window(i):}
\NormalTok{    start }\OperatorTok{=}\NormalTok{ train\_time[i][}\DecValTok{0}\NormalTok{]}
\NormalTok{    end }\OperatorTok{=}\NormalTok{ train\_time[i][}\OperatorTok{{-}}\DecValTok{1}\NormalTok{]}
\NormalTok{    res }\OperatorTok{=}\NormalTok{ get\_best\_ma(train\_time[i][}\DecValTok{0}\NormalTok{],train\_time[i][}\OperatorTok{{-}}\DecValTok{1}\NormalTok{]).sort\_values([}\StringTok{\textquotesingle{}sharpe\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}ma\_period\textquotesingle{}}\NormalTok{],ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{).iloc[}\DecValTok{0}\NormalTok{]}
    
    \CommentTok{\#print(f"åœ¨\{start\}åˆ°\{end\}ä¹‹é—´ï¼Œæœ€ä½³çš„å‡çº¿æ˜¯\{int(res[\textquotesingle{}ma\_period\textquotesingle{}])\}ï¼ŒåŒºé—´å¹´åŒ–å¤æ™®æ¯”ç‡æ˜¯\{round(res[\textquotesingle{}sharpe\textquotesingle{}],4)\}ã€‚")}

\NormalTok{    ma\_period }\OperatorTok{=} \BuiltInTok{int}\NormalTok{(res[}\StringTok{\textquotesingle{}ma\_period\textquotesingle{}}\NormalTok{])}
\NormalTok{    df[}\StringTok{\textquotesingle{}ma\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ sma(df.price, ma\_period)}
\NormalTok{    df[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ np.where(df.price }\OperatorTok{\textgreater{}}\NormalTok{ df.ma,}\DecValTok{1}\NormalTok{,}\DecValTok{0}\NormalTok{) }
\NormalTok{    df[}\StringTok{\textquotesingle{}traded\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{] }\OperatorTok{*}\NormalTok{ df.pos.shift() }
    \CommentTok{\#print(f"ä½¿ç”¨ä¸Šè¿°è®¾ç½®ï¼Œåœ¨\{list(test\_time[i])\}å†…çš„å¯¹æ•°æ”¶ç›Šç‡æ˜¯\{round(df.loc[test\_time[i][0]:test\_time[i][{-}1]].traded.sum(),4)\}")}

    \ControlFlowTok{return}\NormalTok{ df[}\StringTok{\textquotesingle{}pos\textquotesingle{}}\NormalTok{].loc[test\_time[i][}\DecValTok{0}\NormalTok{]:test\_time[i][}\OperatorTok{{-}}\DecValTok{1}\NormalTok{]]}

\NormalTok{test\_a\_window(}\DecValTok{4}\NormalTok{).head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/tmp/ipykernel_66002/2749032695.py:5: RuntimeWarning: divide by zero encountered in scalar divide
  return (np.mean(lrets) * 250 - rf) / (np.std(lrets) * np.sqrt(250))
\end{verbatim}

\begin{verbatim}
æ—¥æœŸ
2018-12-03    1
2018-12-04    1
2018-12-05    1
2018-12-06    1
2018-12-07    1
Name: pos, dtype: int64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pos\_total }\OperatorTok{=}\NormalTok{ []}
\ControlFlowTok{for}\NormalTok{ i }\KeywordTok{in} \BuiltInTok{range}\NormalTok{(}\BuiltInTok{len}\NormalTok{(train\_time)):}
\NormalTok{    pos\_total.append(test\_a\_window(i))}

\NormalTok{pos\_total }\OperatorTok{=}\NormalTok{ pd.concat(pos\_total)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/tmp/ipykernel_66002/2749032695.py:5: RuntimeWarning: divide by zero encountered in scalar divide
  return (np.mean(lrets) * 250 - rf) / (np.std(lrets) * np.sqrt(250))
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.loc[:,}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ df.lrets }\OperatorTok{*}\NormalTok{ pos\_total.shift() }\CommentTok{\# æ³¨æ„ä¸è¦ä½œå¼Š}
\NormalTok{df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{]].loc[}\StringTok{\textquotesingle{}2020\textquotesingle{}}\NormalTok{:].cumsum().}\BuiltInTok{apply}\NormalTok{(np.exp).plot()}\OperatorTok{;}
\end{Highlighting}
\end{Shaded}

\begin{figure}[H]

{\centering \includegraphics{index_files/mediabag/rolling_test_files/figure-pdf/cell-13-output-1.pdf}

}

\end{figure}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{]].loc[}\StringTok{\textquotesingle{}2020\textquotesingle{}}\NormalTok{:].agg(}\BuiltInTok{sum}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
lrets       1.051267
strategy    1.332854
dtype: float64
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[[}\StringTok{\textquotesingle{}lrets\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}strategy\textquotesingle{}}\NormalTok{]].loc[}\StringTok{\textquotesingle{}2020\textquotesingle{}}\NormalTok{:].agg(sharpe\_ratio)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
lrets       0.502773
strategy    0.773818
dtype: float64
\end{verbatim}

\hypertarget{ux5173ux8054ux89c4ux5219}{%
\chapter{å…³è”è§„åˆ™}\label{ux5173ux8054ux89c4ux5219}}

\hypertarget{ux5b89ux88c5ux6709ux5173ux8f6fux4ef6ux5305}{%
\section{å®‰è£…æœ‰å…³è½¯ä»¶åŒ…}\label{ux5b89ux88c5ux6709ux5173ux8f6fux4ef6ux5305}}

åŸä¹¦é™„å¸¦çš„ä»£ç æœ‰ç‚¹é—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ¯”è¾ƒçŸ¥åçš„Pythonçš„åŒ…\texttt{mlxtend}ã€‚

è¯·æ‰§è¡Œanaconda
promptï¼ˆåœ¨Windowså¼€å§‹èœå•ä¸­æœ‰ï¼‰ï¼Œæˆ–è€…Terminalï¼ˆå¯¹è‹¹æœç”¨æˆ·ï¼‰ã€‚

è¿è¡Œ:

\begin{verbatim}
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple mlxtend
\end{verbatim}

ä¸Šè¿°ä»£ç å°†ä¼šä»æ¸…åå¤§å­¦çš„é•œåƒä¸­å®‰è£…\texttt{mlxtend}ã€‚

\hypertarget{ux57faux672cux6982ux5ff5}{%
\section{åŸºæœ¬æ¦‚å¿µ}\label{ux57faux672cux6982ux5ff5}}

\begin{quote}
Support æ”¯æŒåº¦

æ‰€è°“supportï¼ŒæŒ‡çš„æ˜¯``äº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡''ï¼Œå°±æ˜¯æ¦‚ç‡è®ºä¸­çš„é‚£ä¸ªæ¦‚ç‡ã€‚å› æ­¤ï¼Œæ˜¾ç„¶å‘ç”Ÿ1ä¸ªäº‹ä»¶ï¼Œæˆ–è€…åŒæ—¶å‘ç”Ÿå¤šä¸ªäº‹ä»¶çš„æ¦‚ç‡ï¼Œè¿™é‡Œéƒ½æ˜¯supportã€‚
\end{quote}

ä¾‹å¦‚ï¼šå‘ç”ŸAäº‹ä»¶

\[
Support(A) = \frac{Aå‘ç”Ÿçš„æ¬¡æ•°}{æ‰€æœ‰äº‹ä»¶çš„æ•°é‡} 
\]

Aå’ŒBåŒæ—¶å‘ç”Ÿ

\[
Support(A \rightarrow B) = \frac{Aï¼ŒBåŒæ—¶å‘ç”Ÿçš„æ¬¡æ•°}{æ‰€æœ‰äº‹ä»¶çš„æ•°é‡} 
\]

\begin{quote}
Confidence æ”¯æŒåº¦
\end{quote}

æ‰€è°“confidenceï¼ŒæŒ‡çš„æ˜¯``äº‹ä»¶å‘ç”Ÿçš„æ¡ä»¶æ¦‚ç‡''ï¼ŒåŒæ ·å°±æ˜¯æ¦‚ç‡è®ºä¸­çš„æ¦‚å¿µã€‚

ä¾‹å¦‚ï¼Œå‘ç”ŸAçš„æƒ…å†µä¸‹ï¼Œå‘ç”ŸBçš„æ¦‚ç‡ã€‚

\[
Confidence(A \rightarrow B) = P(B|A) = \frac{Support(A \cap B)}{Support(A)}
\]

è¿™é‡Œçš„æ¦‚å¿µå’Œæ¦‚ç‡è®ºä¸­çš„å®Œå…¨ä¸€è‡´ï¼Œä¸éœ€è¦å±•å¼€ã€‚

\begin{quote}
Lift æå‡åº¦
\end{quote}

è¡¡é‡Açš„å‘ç”Ÿï¼Œå¯¹Bå‘ç”Ÿçš„æ¦‚ç‡çš„æå‡ç¨‹åº¦ã€‚å¤§äº1ä¸ºæœ‰æå‡ï¼ˆå¦‚2ç§å•†å“æ€»æ˜¯ä¸€èµ·ä¹°ï¼‰ï¼Œç­‰äº1ä¸ºæ— å˜åŒ–ï¼Œå°äº1ä¸ºæœ‰ä¸‹é™ï¼ˆå¦‚ä¸¤ç§å•†å“å¾€å¾€é€‰äº†Aå°±ä¸ä¼šé€‰Bï¼‰ã€‚

\hypertarget{ux8d2dux7269ux6e05ux5355ux793aux4f8b}{%
\section{è´­ç‰©æ¸…å•ç¤ºä¾‹}\label{ux8d2dux7269ux6e05ux5355ux793aux4f8b}}

è¯»å–æ•°æ®ï¼Œæ‰‹åŠ¨è¿›è¡Œä¸€ä¸‹è®¡ç®—ã€‚

æ•°æ®ï¼šè¶…å¸‚è´­ä¹°è®°å½•ï¼Œæ•°æ®ä½äº\texttt{case6/tr.xlsx}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# æ•°æ®æ²¡æœ‰é¢˜å¤´è¡Œï¼Œæ‰€ä»¥ä½¿ç”¨header=None}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/case6/tr.xlsx\textquotesingle{}}\NormalTok{,header}\OperatorTok{=}\VariableTok{None}\NormalTok{).set\_index(}\DecValTok{0}\NormalTok{)}
\NormalTok{df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& 1 & 2 & 3 & 4 \\
0 & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
I1 & è¥¿çº¢æŸ¿ & æ’éª¨ & é¸¡è›‹ & NaN \\
I2 & è¥¿çº¢æŸ¿ & èŒ„å­ & NaN & NaN \\
I3 & é¸¡è›‹ & è¢œå­ & NaN & NaN \\
I4 & è¥¿çº¢æŸ¿ & æ’éª¨ & èŒ„å­ & NaN \\
I5 & è¥¿çº¢æŸ¿ & æ’éª¨ & è¢œå­ & é…¸å¥¶ \\
I6 & é¸¡è›‹ & èŒ„å­ & é…¸å¥¶ & NaN \\
I7 & æ’éª¨ & é¸¡è›‹ & èŒ„å­ & NaN \\
I8 & åœŸè±† & é¸¡è›‹ & è¢œå­ & NaN \\
I9 & è¥¿çº¢æŸ¿ & æ’éª¨ & é‹å­ & åœŸè±† \\
\end{longtable}

æ•°æ®ä¸­ï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªè´­ç‰©å•ï¼ˆå³ä¸€ä¸ªäº‹åŠ¡ï¼‰ï¼Œé‚£ä¹ˆæ€»äº‹åŠ¡çš„æ•°é‡æ˜¯9ã€‚

æˆ‘ä»¬è®¡ç®—ä¸€ä¸‹ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Support(æ’éª¨, è¥¿çº¢æŸ¿)ï¼šåŒæ—¶è´­ä¹°æ’éª¨å’Œè¥¿çº¢æŸ¿çš„æ¦‚ç‡ã€‚
\item
  Confidence(æ’éª¨, è¥¿çº¢æŸ¿)ï¼šè´­ä¹°äº†æ’éª¨çš„æƒ…å†µä¸‹ï¼Œä¼šè´­ä¹°è¥¿çº¢æŸ¿çš„æ¦‚ç‡ã€‚
\end{enumerate}

ç›®æµ‹ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  åŒæ—¶è´­ä¹°äº†æ’éª¨å’Œè¥¿çº¢æŸ¿çš„å•å­æœ‰4ä¸ªï¼Œ{[}1,4,5,9{]}ï¼Œé‚£ä¹ˆSupport(æ’éª¨,
  è¥¿çº¢æŸ¿) = 4/9 = 0.4444
\item
  è´­ä¹°äº†æ’éª¨çš„å•å­æœ‰5ä¸ªï¼Œ{[}1,4,5,7,9{]}ï¼Œé‚£ä¹ˆConfidence(æ’éª¨, è¥¿çº¢æŸ¿) =
  4/5 = 0.8
\end{enumerate}

è®¡ç®—çš„ç»“æœå’Œè¯¾æœ¬p119çš„è¡¨æ ¼ç›¸åŒã€‚

\hypertarget{ux7528ux4ee3ux7801ux5b8cux6210}{%
\section{ç”¨ä»£ç å®Œæˆ}\label{ux7528ux4ee3ux7801ux5b8cux6210}}

è¿™é‡Œä½¿ç”¨æ¥è‡ª\texttt{mlxtend}åŒ…çš„\texttt{Apriori}ï¼ŒåŒæ ·æ˜¯è®¡ç®—å…ƒç´ ä¹‹é—´çš„Supportå’ŒConfidenceï¼Œä½†å…¶è®¡ç®—é€Ÿåº¦æ¯”ä½ è‡ªå·±å†™ä»£ç ç©·ä¸¾è¦æ›´å¿«ã€‚

è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸€ç›´çš„è¦æ±‚ï¼šå°½é‡ä¸è¦è‡ªå·±å†™ç®—æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨ç°æˆçš„ä»£ç ã€‚

\textbf{\texttt{mlxtend} å®‰è£…è§æœ¬ç« å¼€å¤´}

\hypertarget{ux6570ux636eux9884ux5904ux7406}{%
\subsection{æ•°æ®é¢„å¤„ç†ï¼š}\label{ux6570ux636eux9884ux5904ux7406}}

é¦–å…ˆè¦æŠŠæ•°æ®è½¬ä¸º one-hot ç¼–ç çš„å½¢å¼ï¼ˆæ•™æ p117 è¡¨æ ¼6-1ï¼‰:

æ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªè´­ç‰©å•ï¼Œåˆ—æ˜¯å•†å“åç§°ï¼Œæ•°æ®æ˜¯01å˜é‡ï¼Œè¡¨ç¤ºè¿™ä¸ªè´­ç‰©å•ä¸­æ˜¯å¦æœ‰è¿™é¡¹å•†å“ï¼Œæœ‰åˆ™ä¸º1ï¼Œåä¹‹ä¸º0ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# åé¢çš„è½¬æ¢å‡½æ•°ä¸æ¥å—â€œå­—ç¬¦ä¸²å’Œnp.nanåŒæ—¶å­˜åœ¨â€çš„æ•°æ®ï¼Œå› æ­¤éœ€è¦æŠŠç¼ºå¤±å€¼å…ˆè¿›è¡Œå¡«å……}
\CommentTok{\# æˆ‘ä»¬æŠŠç¼ºå¤±å€¼å¡«å……ä¸ºä»»ä½•å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚\textquotesingle{}x\textquotesingle{}}
\NormalTok{tmp\_df }\OperatorTok{=}\NormalTok{ df.fillna(}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{)}
\NormalTok{tmp\_df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& 1 & 2 & 3 & 4 \\
0 & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
I1 & è¥¿çº¢æŸ¿ & æ’éª¨ & é¸¡è›‹ & x \\
I2 & è¥¿çº¢æŸ¿ & èŒ„å­ & x & x \\
I3 & é¸¡è›‹ & è¢œå­ & x & x \\
I4 & è¥¿çº¢æŸ¿ & æ’éª¨ & èŒ„å­ & x \\
I5 & è¥¿çº¢æŸ¿ & æ’éª¨ & è¢œå­ & é…¸å¥¶ \\
I6 & é¸¡è›‹ & èŒ„å­ & é…¸å¥¶ & x \\
I7 & æ’éª¨ & é¸¡è›‹ & èŒ„å­ & x \\
I8 & åœŸè±† & é¸¡è›‹ & è¢œå­ & x \\
I9 & è¥¿çº¢æŸ¿ & æ’éª¨ & é‹å­ & åœŸè±† \\
\end{longtable}

ä½¿ç”¨TransactionEncoderï¼Œå¯ä»¥æŠŠä¸Šé¢çš„DataFrameè½¬ä¸ºone-hotæ ¼å¼çš„æ•°æ®ã€‚

ä½†æ˜¯æœ‰å…³çš„å‡½æ•°ä¸æ¥æ”¶DataFrameæ ¼å¼çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨tmp\_df.valuesï¼Œå–å¾—æ•°æ®å¯¹åº”çš„ndarrayçš„ç‰ˆæœ¬ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{tmp\_df.values}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([['è¥¿çº¢æŸ¿', 'æ’éª¨', 'é¸¡è›‹', 'x'],
       ['è¥¿çº¢æŸ¿', 'èŒ„å­', 'x', 'x'],
       ['é¸¡è›‹', 'è¢œå­', 'x', 'x'],
       ['è¥¿çº¢æŸ¿', 'æ’éª¨', 'èŒ„å­', 'x'],
       ['è¥¿çº¢æŸ¿', 'æ’éª¨', 'è¢œå­', 'é…¸å¥¶'],
       ['é¸¡è›‹', 'èŒ„å­', 'é…¸å¥¶', 'x'],
       ['æ’éª¨', 'é¸¡è›‹', 'èŒ„å­', 'x'],
       ['åœŸè±†', 'é¸¡è›‹', 'è¢œå­', 'x'],
       ['è¥¿çº¢æŸ¿', 'æ’éª¨', 'é‹å­', 'åœŸè±†']], dtype=object)
\end{verbatim}

å¯¹æ•°ä¸Šè¿°æ•°æ®ï¼Œå…ˆfitï¼Œå†transformå³å¯

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ mlxtend.preprocessing }\ImportTok{import}\NormalTok{ TransactionEncoder}
\NormalTok{te }\OperatorTok{=}\NormalTok{ TransactionEncoder()}


\NormalTok{te\_data }\OperatorTok{=}\NormalTok{ te.fit(tmp\_df.values).transform(tmp\_df.values) }
\NormalTok{te\_data}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
array([[ True, False,  True, False, False,  True, False, False,  True],
       [ True, False, False,  True, False,  True, False, False, False],
       [ True, False, False, False,  True, False, False, False,  True],
       [ True, False,  True,  True, False,  True, False, False, False],
       [False, False,  True, False,  True,  True,  True, False, False],
       [ True, False, False,  True, False, False,  True, False,  True],
       [ True, False,  True,  True, False, False, False, False,  True],
       [ True,  True, False, False,  True, False, False, False,  True],
       [False,  True,  True, False, False,  True, False,  True, False]])
\end{verbatim}

te.columns\_ï¼šå¯ä»¥è·å¾—å¯¹åº”çš„åˆ—å

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{te.columns\_}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
['x', 'åœŸè±†', 'æ’éª¨', 'èŒ„å­', 'è¢œå­', 'è¥¿çº¢æŸ¿', 'é…¸å¥¶', 'é‹å­', 'é¸¡è›‹']
\end{verbatim}

æŠŠæ•°æ®è½¬ä¸ºDataFrameï¼Œå°±èƒ½çœ‹å¾—æ›´æ¸…æ¥šï¼š

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OperatorTok{=}\NormalTok{ pd.DataFrame(te\_data,columns}\OperatorTok{=}\NormalTok{te.columns\_).drop(}\StringTok{\textquotesingle{}x\textquotesingle{}}\NormalTok{,axis}\OperatorTok{=}\DecValTok{1}\NormalTok{) }
\NormalTok{data }\OperatorTok{*} \DecValTok{1}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllllll@{}}
\toprule\noalign{}
& åœŸè±† & æ’éª¨ & èŒ„å­ & è¢œå­ & è¥¿çº¢æŸ¿ & é…¸å¥¶ & é‹å­ & é¸¡è›‹ \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 0 & 1 & 0 & 0 & 1 & 0 & 0 & 1 \\
1 & 0 & 0 & 1 & 0 & 1 & 0 & 0 & 0 \\
2 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 1 \\
3 & 0 & 1 & 1 & 0 & 1 & 0 & 0 & 0 \\
4 & 0 & 1 & 0 & 1 & 1 & 1 & 0 & 0 \\
5 & 0 & 0 & 1 & 0 & 0 & 1 & 0 & 1 \\
6 & 0 & 1 & 1 & 0 & 0 & 0 & 0 & 1 \\
7 & 1 & 0 & 0 & 1 & 0 & 0 & 0 & 1 \\
8 & 1 & 1 & 0 & 0 & 1 & 0 & 1 & 0 \\
\end{longtable}

è¿™ä¸ªè¡¨æ ¼å°±æ˜¯æ•™æp117çš„è¡¨6-1ï¼Œåªæ˜¯æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯ç°æˆçš„ä»£ç å»å¤„ç†ã€‚

å¯¹æ¯”ä¸€ä¸‹åŸå§‹æ•°æ®çš„ç¬¬ä¸€è¡Œï¼Œå’Œone-hotæ•°æ®çš„ç¬¬ä¸€è¡Œï¼Œéƒ½è¡¨è¾¾äº†åŒä¸€ä¸ªå«ä¹‰ï¼šç¬¬ä¸€å¼ è´­ç‰©å•æ˜¯{[}è¥¿çº¢æŸ¿,
æ’éª¨, é¸¡è›‹{]}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.head(}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& 1 & 2 & 3 & 4 \\
0 & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
I1 & è¥¿çº¢æŸ¿ & æ’éª¨ & é¸¡è›‹ & NaN \\
\end{longtable}

\hypertarget{ux8ba1ux7b97ux5173ux8054}{%
\subsection{è®¡ç®—å…³è”}\label{ux8ba1ux7b97ux5173ux8054}}

æŒ‰æ•™æçš„åšæ³•ï¼Œæ‰¾å‡ºæœ€å°æ”¯æŒåº¦ä¸º0.2çš„å…³ç³»ã€‚

é¦–å…ˆè®¡ç®—æ‰€æœ‰å•†å“ä»¥åŠå•†å“é›†çš„supportã€‚å³æŸä¸ªå•†å“é›†å‡ºç°åœ¨å…¨éƒ¨æ¸…å•ä¸­çš„é¢‘ç‡ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ mlxtend.frequent\_patterns }\ImportTok{import}\NormalTok{ apriori}

\CommentTok{\# min\_supportï¼š æ”¯æŒåº¦ä¸ä½äº0.2}
\CommentTok{\# use\_colnamesï¼šæŠŠåˆ—åï¼ˆå•†å“åï¼‰ä½œä¸ºitemsets}
\NormalTok{freq\_data }\OperatorTok{=}\NormalTok{ apriori(data, min\_support}\OperatorTok{=}\FloatTok{0.2}\NormalTok{,use\_colnames}\OperatorTok{=}\VariableTok{True}\NormalTok{).sort\_values(}\StringTok{\textquotesingle{}support\textquotesingle{}}\NormalTok{,ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\NormalTok{freq\_data}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& support & itemsets \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
1 & 0.555556 & (æ’éª¨) \\
4 & 0.555556 & (è¥¿çº¢æŸ¿) \\
6 & 0.555556 & (é¸¡è›‹) \\
2 & 0.444444 & (èŒ„å­) \\
8 & 0.444444 & (è¥¿çº¢æŸ¿, æ’éª¨) \\
3 & 0.333333 & (è¢œå­) \\
0 & 0.222222 & (åœŸè±†) \\
5 & 0.222222 & (é…¸å¥¶) \\
7 & 0.222222 & (èŒ„å­, æ’éª¨) \\
9 & 0.222222 & (é¸¡è›‹, æ’éª¨) \\
10 & 0.222222 & (è¥¿çº¢æŸ¿, èŒ„å­) \\
11 & 0.222222 & (èŒ„å­, é¸¡è›‹) \\
12 & 0.222222 & (è¢œå­, é¸¡è›‹) \\
\end{longtable}

æ˜¾è€Œæ˜“è§ï¼Œitemsetså°±æ˜¯å•†å“é›†ï¼Œsupportå°±æ˜¯æ”¯æŒåº¦ï¼ˆå‡ºç°åœ¨è´­ç‰©å•ä¸­çš„æ¬¡æ•°ï¼‰ï¼Œå¦‚support(è¥¿çº¢æŸ¿ï¼Œæ’éª¨)
= 0.4444ï¼Œå’Œæˆ‘ä»¬å‰é¢ç®—çš„ä¸€æ ·ã€‚

åšä¸ªç®€å•çš„ç­›é€‰ï¼Œé€‰æ‹©å•†å“æ•°é‡å¤§äºç­‰äº2çš„è¡Œ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{freq\_data[freq\_data.itemsets.}\BuiltInTok{apply}\NormalTok{(}\BuiltInTok{len}\NormalTok{) }\OperatorTok{\textgreater{}=}\DecValTok{2}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& support & itemsets \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
8 & 0.444444 & (è¥¿çº¢æŸ¿, æ’éª¨) \\
7 & 0.222222 & (èŒ„å­, æ’éª¨) \\
9 & 0.222222 & (é¸¡è›‹, æ’éª¨) \\
10 & 0.222222 & (è¥¿çº¢æŸ¿, èŒ„å­) \\
11 & 0.222222 & (èŒ„å­, é¸¡è›‹) \\
12 & 0.222222 & (è¢œå­, é¸¡è›‹) \\
\end{longtable}

è®¡ç®—å‡ºé¢‘ç‡ä¹‹åï¼Œå¯ä»¥è¿›ä¸€æ­¥è®¡ç®—å…³è”è§„åˆ™ã€‚

association\_ruleså‡½æ•°ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯å‰é¢è®¡ç®—é¢‘ç‡æ•°æ®
\item
  metricï¼šä½ å¸Œæœ›ç”¨ä»€ä¹ˆæŒ‡æ ‡æ¥åšç­›é€‰ï¼Œæ¯”å¦‚è¿™é‡Œç”¨confidenceæ¥ç­›é€‰
\item
  min\_thresholdï¼šå¯¹äºmetricä¸­æŒ‡å®šçš„é‚£ä¸ªæŒ‡æ ‡ï¼Œä½ ç­›é€‰å‡ºå€¼ä¸ä½äºå¤šå°‘
\end{enumerate}

å¯¹äºè¯¾æœ¬çš„ä¾‹å­ï¼Œç½®ä¿¡åº¦ä¸ä½äº0.4ï¼Œé‚£ä¹ˆå2ä¸ªå‚æ•°å°±æ˜¯\texttt{metric=\textquotesingle{}confidence\textquotesingle{},min\_threshold=0.5}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ mlxtend.frequent\_patterns }\ImportTok{import}\NormalTok{ association\_rules}

\NormalTok{rules }\OperatorTok{=}\NormalTok{ association\_rules(freq\_data, metric}\OperatorTok{=}\StringTok{\textquotesingle{}confidence\textquotesingle{}}\NormalTok{,min\_threshold}\OperatorTok{=}\FloatTok{0.5}\NormalTok{)}
\NormalTok{rules}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& antecedents & consequents & antecedent support & consequent support &
support & confidence & lift & leverage & conviction \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & (è¥¿çº¢æŸ¿) & (æ’éª¨) & 0.555556 & 0.555556 & 0.444444 & 0.800000 & 1.44
& 0.135802 & 2.222222 \\
1 & (æ’éª¨) & (è¥¿çº¢æŸ¿) & 0.555556 & 0.555556 & 0.444444 & 0.800000 & 1.44
& 0.135802 & 2.222222 \\
2 & (èŒ„å­) & (æ’éª¨) & 0.444444 & 0.555556 & 0.222222 & 0.500000 & 0.90 &
-0.024691 & 0.888889 \\
3 & (èŒ„å­) & (è¥¿çº¢æŸ¿) & 0.444444 & 0.555556 & 0.222222 & 0.500000 & 0.90
& -0.024691 & 0.888889 \\
4 & (èŒ„å­) & (é¸¡è›‹) & 0.444444 & 0.555556 & 0.222222 & 0.500000 & 0.90 &
-0.024691 & 0.888889 \\
5 & (è¢œå­) & (é¸¡è›‹) & 0.333333 & 0.555556 & 0.222222 & 0.666667 & 1.20 &
0.037037 & 1.333333 \\
\end{longtable}

é€‰æ‹©å¯¹åº”çš„åˆ—ï¼Œå†æ’åºä¸€ä¸‹ï¼Œå°±æ˜¯è¯¾æœ¬p124çš„ç»“æœã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{rules.iloc[:,[}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]].sort\_values([}\StringTok{\textquotesingle{}support\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}confidence\textquotesingle{}}\NormalTok{],ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& antecedents & consequents & support & confidence \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & (è¥¿çº¢æŸ¿) & (æ’éª¨) & 0.444444 & 0.800000 \\
1 & (æ’éª¨) & (è¥¿çº¢æŸ¿) & 0.444444 & 0.800000 \\
5 & (è¢œå­) & (é¸¡è›‹) & 0.222222 & 0.666667 \\
2 & (èŒ„å­) & (æ’éª¨) & 0.222222 & 0.500000 \\
3 & (èŒ„å­) & (è¥¿çº¢æŸ¿) & 0.222222 & 0.500000 \\
4 & (èŒ„å­) & (é¸¡è›‹) & 0.222222 & 0.500000 \\
\end{longtable}

å¯ä»¥å¾ˆç®€å•åœ°è§£é‡Šä¸€ä¸‹æ•°æ®ï¼Œå¦‚ç¬¬ä¸€è¡Œï¼šå¯¹äºæ¯å¼ è´­ç‰©å•ï¼Œè¥¿çº¢æŸ¿å’Œæ’éª¨åŒæ—¶å‡ºç°çš„é¢‘ç‡æ˜¯0.4444ï¼Œè¥¿çº¢æŸ¿å‡ºç°çš„æƒ…å†µä¸‹ï¼Œæ’éª¨å‡ºç°çš„æ¦‚ç‡æ˜¯0.8ã€‚

\hypertarget{ux6d4bux8bd5}{%
\subsection{æµ‹è¯•}\label{ux6d4bux8bd5}}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ mlxtend.frequent\_patterns }\ImportTok{import}\NormalTok{ fpgrowth}

\NormalTok{fpgrowth(data, min\_support}\OperatorTok{=}\FloatTok{0.2}\NormalTok{,use\_colnames}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& support & itemsets \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 0.555556 & (é¸¡è›‹) \\
1 & 0.555556 & (è¥¿çº¢æŸ¿) \\
2 & 0.555556 & (æ’éª¨) \\
3 & 0.444444 & (èŒ„å­) \\
4 & 0.333333 & (è¢œå­) \\
5 & 0.222222 & (é…¸å¥¶) \\
6 & 0.222222 & (åœŸè±†) \\
7 & 0.444444 & (è¥¿çº¢æŸ¿, æ’éª¨) \\
8 & 0.222222 & (é¸¡è›‹, æ’éª¨) \\
9 & 0.222222 & (è¥¿çº¢æŸ¿, èŒ„å­) \\
10 & 0.222222 & (èŒ„å­, æ’éª¨) \\
11 & 0.222222 & (èŒ„å­, é¸¡è›‹) \\
12 & 0.222222 & (è¢œå­, é¸¡è›‹) \\
\end{longtable}

\hypertarget{ux56fdux9645ux80a1ux7968ux6307ux6570ux5173ux8054ux793aux4f8b}{%
\section{å›½é™…è‚¡ç¥¨æŒ‡æ•°å…³è”ç¤ºä¾‹}\label{ux56fdux9645ux80a1ux7968ux6307ux6570ux5173ux8054ux793aux4f8b}}

é—®ï¼šå›½é™…è‚¡ç¥¨æŒ‡æ•°ï¼ˆåŒ…æ‹¬æˆ‘å›½çš„ä¸Šè¯æŒ‡æ•°ï¼‰ä¹‹é—´ï¼Œå¤§è·Œæœ‰æ²¡æœ‰å…³è”æ€§ï¼Ÿå¦‚ç¾è‚¡è·³æ°´ï¼ŒAè‚¡ä¼šè·³æ°´å—ï¼Ÿ

ç”¨å…³è”è§„åˆ™çš„è¯è¯´ï¼Œå°±æ˜¯æŠŠæ¯ä¸€å›½çš„æŒ‡æ•°å¤§è·Œä½œä¸ºä¸€ä¸ªäº‹ä»¶ï¼Œé‚£ä¹ˆè¿™äº›äº‹ä»¶çš„supportå’Œconfidenceï¼ˆæ¦‚ç‡å’Œæ¡ä»¶æ¦‚ç‡ï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/case6/å›½é™…è‚¡ç¥¨ä»·æ ¼æŒ‡æ•°æ—¥äº¤æ˜“æ•°æ®è¡¨.xlsx\textquotesingle{}}\NormalTok{,}
\NormalTok{                    converters}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}Trddt\textquotesingle{}}\NormalTok{:pd.to\_datetime\})}
\NormalTok{df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllll@{}}
\toprule\noalign{}
& Indexcd & Trddt & Opnidx & Highidx & Lowidx & Clsidx \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & DJI & 2010-01-04 & 10430.69 & 10604.97 & 10430.69 & 10583.96 \\
1 & DJI & 2010-01-05 & 10584.56 & 10584.56 & 10522.52 & 10572.02 \\
2 & DJI & 2010-01-06 & 10564.72 & 10594.99 & 10546.55 & 10573.68 \\
3 & DJI & 2010-01-07 & 10571.11 & 10612.37 & 10505.21 & 10606.86 \\
4 & DJI & 2010-01-08 & 10606.40 & 10619.40 & 10554.33 & 10618.19 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{index\_info\_df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/case6/IDX\_Gidxinfo.xlsx\textquotesingle{}}\NormalTok{)}
\NormalTok{index\_info\_df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& Indexcd & Idxnme \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & DJI & ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•° \\
1 & FCHI & æ³•å›½CAC40æŒ‡æ•° \\
2 & FTSE & è‹±å›½å¯Œæ—¶100æŒ‡æ•° \\
3 & GDAXI & å¾·å›½DAXæŒ‡æ•° \\
4 & HSI & é¦™æ¸¯æ’ç”ŸæŒ‡æ•° \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OperatorTok{=}\NormalTok{ pd.merge(index\_info\_df,df,on}\OperatorTok{=}\StringTok{\textquotesingle{}Indexcd\textquotesingle{}}\NormalTok{)}
\NormalTok{data.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
& Indexcd & Idxnme & Trddt & Opnidx & Highidx & Lowidx & Clsidx \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & DJI & ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•° & 2010-01-04 & 10430.69 & 10604.97 &
10430.69 & 10583.96 \\
1 & DJI & ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•° & 2010-01-05 & 10584.56 & 10584.56 &
10522.52 & 10572.02 \\
2 & DJI & ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•° & 2010-01-06 & 10564.72 & 10594.99 &
10546.55 & 10573.68 \\
3 & DJI & ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•° & 2010-01-07 & 10571.11 & 10612.37 &
10505.21 & 10606.86 \\
4 & DJI & ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•° & 2010-01-08 & 10606.40 & 10619.40 &
10554.33 & 10618.19 \\
\end{longtable}

è®¡ç®—æ¯åªè‚¡ç¥¨çš„è·Œå¹…ã€‚

æ³¨æ„æˆ‘ä»¬ä¸çŸ¥é“åŸå§‹æ•°æ®æœ‰æ²¡æœ‰æ’åºï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå…ˆæ’åºä¸€ä¸‹ï¼Œå†è¿›è¡Œè®¡ç®—ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data[}\StringTok{\textquotesingle{}ret\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ data.sort\_values([}\StringTok{\textquotesingle{}Indexcd\textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}Trddt\textquotesingle{}}\NormalTok{]).groupby(}\StringTok{\textquotesingle{}Indexcd\textquotesingle{}}\NormalTok{)[}\StringTok{\textquotesingle{}Clsidx\textquotesingle{}}\NormalTok{].pct\_change()}
\NormalTok{data[}\StringTok{\textquotesingle{}jump\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ (data[}\StringTok{\textquotesingle{}ret\textquotesingle{}}\NormalTok{] }\OperatorTok{\textless{}} \OperatorTok{{-}}\FloatTok{0.005}\NormalTok{) }\OperatorTok{*} \DecValTok{1} \CommentTok{\# è·Œå¹…æ˜¯å¦å¤§äº0.5\%ï¼Ÿ}
\NormalTok{data.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllll@{}}
\toprule\noalign{}
& Indexcd & Idxnme & Trddt & Opnidx & Highidx & Lowidx & Clsidx & ret &
jump \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & DJI & ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•° & 2010-01-04 & 10430.69 & 10604.97 &
10430.69 & 10583.96 & NaN & 0 \\
1 & DJI & ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•° & 2010-01-05 & 10584.56 & 10584.56 &
10522.52 & 10572.02 & -0.001128 & 0 \\
2 & DJI & ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•° & 2010-01-06 & 10564.72 & 10594.99 &
10546.55 & 10573.68 & 0.000157 & 0 \\
3 & DJI & ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•° & 2010-01-07 & 10571.11 & 10612.37 &
10505.21 & 10606.86 & 0.003138 & 0 \\
4 & DJI & ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•° & 2010-01-08 & 10606.40 & 10619.40 &
10554.33 & 10618.19 & 0.001068 & 0 \\
\end{longtable}

å–å¾—æˆ‘ä»¬éœ€è¦çš„åˆ—ï¼šæŒ‡æ•°åç§°ï¼Œæ—¥æœŸï¼Œå’Œæ˜¯å¦è·³æ°´ï¼Œå†é•¿æ•°æ®è½¬å®½æ•°æ®ï¼Œç„¶åå»æ‰å«æœ‰naçš„è¡Œï¼ˆå³åªä¿ç•™æ‰€ä»¥æŒ‡æ•°å…±åŒçš„äº¤æ˜“æ—¥ï¼‰

è¿™å°±æ˜¯æˆ‘ä»¬è¦ç”¨æ¥è®¡ç®—å…³è”è§„åˆ™çš„ææ–™

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{oh\_data }\OperatorTok{=}\NormalTok{ data[[}\StringTok{\textquotesingle{}Idxnme\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}Trddt\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}jump\textquotesingle{}}\NormalTok{]].pivot(}
\NormalTok{    index}\OperatorTok{=}\StringTok{\textquotesingle{}Trddt\textquotesingle{}}\NormalTok{, columns}\OperatorTok{=}\StringTok{\textquotesingle{}Idxnme\textquotesingle{}}\NormalTok{, values}\OperatorTok{=}\StringTok{\textquotesingle{}jump\textquotesingle{}}\NormalTok{).dropna().astype(}\BuiltInTok{int}\NormalTok{)}

\NormalTok{oh\_data.iloc[:}\DecValTok{5}\NormalTok{,:}\DecValTok{5}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllll@{}}
\toprule\noalign{}
Idxnme & ä¸­å›½æ²ªæ·±300æŒ‡æ•° & ä¿„ç½—æ–¯MicexæŒ‡æ•° & å°åº¦å­Ÿä¹°30æŒ‡æ•° &
å°æ¹¾åŠ æƒæŒ‡æ•° & å¯Œæ—¶æ–°åŠ å¡æµ·å³¡æ—¶æŠ¥æŒ‡æ•° \\
Trddt & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2010-01-12 & 0 & 1 & 1 & 0 & 1 \\
2010-01-13 & 1 & 0 & 0 & 1 & 1 \\
2010-01-14 & 0 & 0 & 0 & 0 & 0 \\
2010-01-15 & 0 & 0 & 0 & 0 & 0 \\
2010-01-19 & 0 & 0 & 1 & 1 & 0 \\
\end{longtable}

æŒ‰è¯¾æœ¬çš„ä¾‹å­ï¼Œé€‰æ‹©æ”¯æŒåº¦ä¸ä½äº0.08ï¼Œæ”¯æŒåº¦ä¸ä½äº0.9çš„æŒ‡æ•°é›†åˆã€‚

é¦–å…ˆè®¡ç®—æ”¯æŒåº¦ï¼ˆé¢‘ç‡æ•°æ®ï¼‰ï¼Œæœ€å°æ”¯æŒåº¦æ˜¯0.08ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{freq\_data }\OperatorTok{=}\NormalTok{ apriori(oh\_data, min\_support}\OperatorTok{=}\FloatTok{0.08}\NormalTok{,use\_colnames}\OperatorTok{=}\VariableTok{True}\NormalTok{).sort\_values(}\StringTok{\textquotesingle{}support\textquotesingle{}}\NormalTok{,ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\NormalTok{freq\_data}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/home/lee/anaconda3/lib/python3.9/site-packages/mlxtend/frequent_patterns/fpcommon.py:111: DeprecationWarning: DataFrames with non-bool types result in worse computationalperformance and their support might be discontinued in the future.Please use a DataFrame with bool type
  warnings.warn(
\end{verbatim}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& support & itemsets \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
1 & 0.303378 & (ä¿„ç½—æ–¯MicexæŒ‡æ•°) \\
0 & 0.298917 & (ä¸­å›½æ²ªæ·±300æŒ‡æ•°) \\
7 & 0.288719 & (æ³•å›½CAC40æŒ‡æ•°) \\
6 & 0.288082 & (æ—¥æœ¬æ—¥ç»225) \\
11 & 0.275972 & (é¦™æ¸¯æ’ç”ŸæŒ‡æ•°) \\
... & ... & ... \\
75 & 0.080306 & (ä¸­å›½æ²ªæ·±300æŒ‡æ•°, éŸ©å›½KOSPIæŒ‡æ•°, å°æ¹¾åŠ æƒæŒ‡æ•°) \\
97 & 0.080306 & (å°åº¦å­Ÿä¹°30æŒ‡æ•°, å°æ¹¾åŠ æƒæŒ‡æ•°, éŸ©å›½KOSPIæŒ‡æ•°) \\
114 & 0.080306 & (é¦™æ¸¯æ’ç”ŸæŒ‡æ•°, å¾·å›½DAXæŒ‡æ•°, å¯Œæ—¶æ–°åŠ å¡æµ·å³¡æ—¶æŠ¥æŒ‡æ•°) \\
123 & 0.080306 & (é¦™æ¸¯æ’ç”ŸæŒ‡æ•°, å¾·å›½DAXæŒ‡æ•°, æ—¥æœ¬æ—¥ç»225) \\
86 & 0.080306 & (ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°, å¾·å›½DAXæŒ‡æ•°, ä¿„ç½—æ–¯MicexæŒ‡æ•°) \\
\end{longtable}

ç”¨é¢‘ç‡æ•°æ®è®¡ç®—ç½®ä¿¡åº¦ï¼Œæœ€å°ç½®ä¿¡åº¦æ˜¯0.9ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{rules }\OperatorTok{=}\NormalTok{ association\_rules(freq\_data, metric}\OperatorTok{=}\StringTok{\textquotesingle{}confidence\textquotesingle{}}\NormalTok{, min\_threshold}\OperatorTok{=}\FloatTok{0.9}\NormalTok{)}

\NormalTok{rules.iloc[:, [}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{]].sort\_values(}\StringTok{\textquotesingle{}confidence\textquotesingle{}}\NormalTok{, ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& antecedents & consequents & support & confidence \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
6 & (ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°, å¾·å›½DAXæŒ‡æ•°, è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°)
& 0.097514 & 0.968354 \\
10 & (å°åº¦å­Ÿä¹°30æŒ‡æ•°, å¾·å›½DAXæŒ‡æ•°, è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) &
0.087317 & 0.958042 \\
4 & (ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°, è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) & 0.104525 &
0.937143 \\
1 & (ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°, å¾·å›½DAXæŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) & 0.113448 &
0.936842 \\
7 & (ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°, è‹±å›½å¯Œæ—¶100æŒ‡æ•°, æ³•å›½CAC40æŒ‡æ•°) & (å¾·å›½DAXæŒ‡æ•°)
& 0.097514 & 0.932927 \\
11 & (å¾·å›½DAXæŒ‡æ•°, æ—¥æœ¬æ—¥ç»225, è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) &
0.085405 & 0.930556 \\
2 & (å¾·å›½DAXæŒ‡æ•°, ä¿„ç½—æ–¯MicexæŒ‡æ•°, è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) &
0.109624 & 0.929730 \\
8 & (é¦™æ¸¯æ’ç”ŸæŒ‡æ•°, å¾·å›½DAXæŒ‡æ•°, è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) &
0.095602 & 0.914634 \\
9 & (é¦™æ¸¯æ’ç”ŸæŒ‡æ•°, è‹±å›½å¯Œæ—¶100æŒ‡æ•°, æ³•å›½CAC40æŒ‡æ•°) & (å¾·å›½DAXæŒ‡æ•°) &
0.095602 & 0.914634 \\
0 & (å¾·å›½DAXæŒ‡æ•°, è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) & 0.168260 &
0.913495 \\
12 & (æ³•å›½CAC40æŒ‡æ•°, æ—¥æœ¬æ—¥ç»225, è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & (å¾·å›½DAXæŒ‡æ•°) &
0.085405 & 0.911565 \\
3 & (å°åº¦å­Ÿä¹°30æŒ‡æ•°, å¾·å›½DAXæŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) & 0.105163 &
0.906593 \\
5 & (ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°, è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & (å¾·å›½DAXæŒ‡æ•°) & 0.100701 &
0.902857 \\
\end{longtable}

è¿™å°±æ˜¯è¯¾æœ¬p129çš„è¡¨6-7ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  supportï¼šantecedentså’ŒconsequentsåŒæ—¶ä¸‹è·Œè¶…è¿‡0.5\%ï¼Œå æ‰€æœ‰äº¤æ˜“æ—¥çš„æ¯”ä¾‹ã€‚
\item
  confidenceï¼šå¦‚æœantecedentséƒ½ä¸‹è·Œè¶…è¿‡0.5\%ï¼Œé‚£ä¹ˆconsequentsä¹Ÿä¼šè·³æ°´è¶…è¿‡0.5\%çš„æ¦‚ç‡ã€‚
\end{enumerate}

é‚£ä¹ˆç¬¬1è¡Œçš„è§£é‡Šæ˜¯ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  (å¾·å›½DAXæŒ‡æ•°, ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°, è‹±å›½å¯Œæ—¶100æŒ‡æ•°)
  (æ³•å›½CAC40æŒ‡æ•°)ï¼Œè¿™4ä¸ªæŒ‡æ•°åŒæ—¶è·Œè¶…è¿‡0.5\%ï¼Œå æ‰€æœ‰å…±åŒäº¤æ˜“æ—¥9.75\%ã€‚æ‰€æœ‰å…±åŒçš„äº¤æ˜“æ—¥ä¸­ï¼Œä¸€èµ·è·³æ°´çš„æ—¥å­å¤§æ¦‚10\%ã€‚
\item
  å¦‚æœ(å¾·å›½DAXæŒ‡æ•°, ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°, è‹±å›½å¯Œæ—¶100æŒ‡æ•°)
  åŒæ—¶ä¸‹è·Œè¶…è¿‡0.5\%ï¼Œé‚£ä¹ˆ(æ³•å›½CAC40æŒ‡æ•°)ä¸‹è·Œè¶…è¿‡0.5\%çš„æ¦‚ç‡96.84\%ã€‚å‰3ä¸ªæŒ‡æ•°å¦‚æœè·³æ°´ï¼Œæ³•å›½æŒ‡æ•°ä¹Ÿå‡ ä¹å¿…ç„¶è·³æ°´ã€‚
\end{enumerate}

å¦‚æœè¦è®¡ç®—æ¶¨å¹…çš„å…³è”ï¼Œæ˜¾ç„¶ä¹Ÿå®Œå…¨ç±»ä¼¼ï¼Œåªè¦æŠŠ\texttt{data{[}\textquotesingle{}ret\textquotesingle{}{]}\ \textless{}\ -0.005}æ”¹ä¸€ä¸‹å³å¯

\hypertarget{ux4e00ux5bf9ux4e00ux89c4ux5219}{%
\subsection{ä¸€å¯¹ä¸€è§„åˆ™}\label{ux4e00ux5bf9ux4e00ux89c4ux5219}}

ä»æ ·æœ¬ä¸­æå–1å¯¹1çš„è§„åˆ™ï¼Œåªè¦æŠŠantecedentså’Œconsequentsé‡Œé¢çš„å…ƒç´ æ•°é‡åŒæ—¶ä¸º1çš„è¡Œé€‰å‡ºæ¥å³å¯ã€‚

è¿™é‡Œå€Ÿç”¨æ•™æp128çš„æ•°å€¼ï¼Œæœ€å°æ”¯æŒåº¦0.1ï¼Œæœ€å°ç½®ä¿¡åº¦0.6ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{freq\_data }\OperatorTok{=}\NormalTok{ apriori(oh\_data, min\_support}\OperatorTok{=}\FloatTok{0.1}\NormalTok{,use\_colnames}\OperatorTok{=}\VariableTok{True}\NormalTok{).sort\_values(}\StringTok{\textquotesingle{}support\textquotesingle{}}\NormalTok{,ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\NormalTok{rules }\OperatorTok{=}\NormalTok{ association\_rules(freq\_data, metric}\OperatorTok{=}\StringTok{\textquotesingle{}confidence\textquotesingle{}}\NormalTok{, min\_threshold}\OperatorTok{=}\FloatTok{0.6}\NormalTok{)}
\NormalTok{rules.iloc[:, [}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{]].head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/home/lee/anaconda3/lib/python3.9/site-packages/mlxtend/frequent_patterns/fpcommon.py:111: DeprecationWarning: DataFrames with non-bool types result in worse computationalperformance and their support might be discontinued in the future.Please use a DataFrame with bool type
  warnings.warn(
\end{verbatim}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& antecedents & consequents & support & confidence \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & (å¾·å›½DAXæŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) & 0.224984 & 0.836493 \\
1 & (æ³•å›½CAC40æŒ‡æ•°) & (å¾·å›½DAXæŒ‡æ•°) & 0.224984 & 0.779249 \\
2 & (æ³•å›½CAC40æŒ‡æ•°) & (è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & 0.191842 & 0.664459 \\
3 & (è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) & 0.191842 & 0.775773 \\
4 & (å¾·å›½DAXæŒ‡æ•°) & (è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & 0.184194 & 0.684834 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# antecedentså’Œconsequentsä¸­çš„å…ƒç´ æ•°é‡åŒæ—¶ä¸º1çš„è¡Œ}
\NormalTok{one\_rule }\OperatorTok{=}\NormalTok{ np.logical\_and(rules.antecedents.}\BuiltInTok{apply}\NormalTok{(}\BuiltInTok{len}\NormalTok{) }\OperatorTok{==} \DecValTok{1}\NormalTok{,rules.consequents.}\BuiltInTok{apply}\NormalTok{(}\BuiltInTok{len}\NormalTok{) }\OperatorTok{==} \DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{rules[one\_rule].iloc[:,[}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{,}\DecValTok{4}\NormalTok{,}\DecValTok{5}\NormalTok{]].reset\_index(drop}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& antecedents & consequents & support & confidence \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & (å¾·å›½DAXæŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) & 0.224984 & 0.836493 \\
1 & (æ³•å›½CAC40æŒ‡æ•°) & (å¾·å›½DAXæŒ‡æ•°) & 0.224984 & 0.779249 \\
2 & (æ³•å›½CAC40æŒ‡æ•°) & (è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & 0.191842 & 0.664459 \\
3 & (è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) & 0.191842 & 0.775773 \\
4 & (å¾·å›½DAXæŒ‡æ•°) & (è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & 0.184194 & 0.684834 \\
5 & (è‹±å›½å¯Œæ—¶100æŒ‡æ•°) & (å¾·å›½DAXæŒ‡æ•°) & 0.184194 & 0.744845 \\
6 & (å¯Œæ—¶æ–°åŠ å¡æµ·å³¡æ—¶æŠ¥æŒ‡æ•°) & (é¦™æ¸¯æ’ç”ŸæŒ‡æ•°) & 0.144041 & 0.704050 \\
7 & (éŸ©å›½KOSPIæŒ‡æ•°) & (é¦™æ¸¯æ’ç”ŸæŒ‡æ•°) & 0.139579 & 0.636628 \\
8 & (éŸ©å›½KOSPIæŒ‡æ•°) & (æ—¥æœ¬æ—¥ç»225) & 0.138942 & 0.633721 \\
9 & (ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°) & (æ³•å›½CAC40æŒ‡æ•°) & 0.130019 & 0.680000 \\
10 & (ç¾å›½é“ç¼æ–¯å·¥ä¸šæŒ‡æ•°) & (å¾·å›½DAXæŒ‡æ•°) & 0.121096 & 0.633333 \\
\end{longtable}

è¿™ä¸ªè¡¨å³è¯¾æœ¬p128-p129çš„è¡¨6-6ã€‚

\hypertarget{ux884cux4e1aux8054ux52a8ux548cux8f6eux52a8}{%
\section{è¡Œä¸šè”åŠ¨å’Œè½®åŠ¨}\label{ux884cux4e1aux8054ux52a8ux548cux8f6eux52a8}}

å¯¹åº”è¯¾æœ¬ç¬¬11ç« ï¼Œp223

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{info\_df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/case11/æŒ‡æ•°åŸºæœ¬ä¿¡æ¯è¡¨.xlsx\textquotesingle{}}\NormalTok{).iloc[:,[}\DecValTok{0}\NormalTok{,}\DecValTok{1}\NormalTok{]]}
\NormalTok{info\_df.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}æŒ‡æ•°ä»£ç \textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}æŒ‡æ•°åç§°\textquotesingle{}}\NormalTok{]}
\NormalTok{info\_df.head()}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& æŒ‡æ•°ä»£ç  & æŒ‡æ•°åç§° \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 801010 & å†œæ—ç‰§æ¸” \\
1 & 801020 & é‡‡æ˜ \\
2 & 801030 & åŒ–å·¥ \\
3 & 801040 & é»‘è‰²é‡‘å± \\
4 & 801050 & æœ‰è‰²é‡‘å± \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price\_df }\OperatorTok{=}\NormalTok{ pd.read\_excel(}\StringTok{\textquotesingle{}data/case11/æŒ‡æ•°äº¤æ˜“æ•°æ®è¡¨20100104{-}20170307.xlsx\textquotesingle{}}\NormalTok{,converters}\OperatorTok{=}\NormalTok{\{}\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{:pd.to\_datetime\})}
\NormalTok{price\_df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llll@{}}
\toprule\noalign{}
& æŒ‡æ•°ä»£ç  & äº¤æ˜“æ—¥æœŸ & æ”¶ç›˜ä»· \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 801010 & 2010-01-04 & 2058.27 \\
1 & 801010 & 2010-01-05 & 2081.28 \\
2 & 801010 & 2010-01-06 & 2048.70 \\
3 & 801010 & 2010-01-07 & 1999.31 \\
4 & 801010 & 2010-01-08 & 2018.81 \\
... & ... & ... & ... \\
54731 & 801890 & 2017-03-01 & 1673.23 \\
54732 & 801890 & 2017-03-02 & 1666.43 \\
54733 & 801890 & 2017-03-03 & 1667.51 \\
54734 & 801890 & 2017-03-06 & 1692.56 \\
54735 & 801890 & 2017-03-07 & 1694.80 \\
\end{longtable}

å’Œå‰é¢ä¸€æ ·ï¼Œæˆ‘ä»¬æŠŠæŒ‡æ•°åç§°mergeè¿›ä»·æ ¼åºåˆ—ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price\_df }\OperatorTok{=}\NormalTok{ pd.merge(price\_df,info\_df)}
\NormalTok{price\_df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& æŒ‡æ•°ä»£ç  & äº¤æ˜“æ—¥æœŸ & æ”¶ç›˜ä»· & æŒ‡æ•°åç§° \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 801010 & 2010-01-04 & 2058.27 & å†œæ—ç‰§æ¸” \\
1 & 801010 & 2010-01-05 & 2081.28 & å†œæ—ç‰§æ¸” \\
2 & 801010 & 2010-01-06 & 2048.70 & å†œæ—ç‰§æ¸” \\
3 & 801010 & 2010-01-07 & 1999.31 & å†œæ—ç‰§æ¸” \\
4 & 801010 & 2010-01-08 & 2018.81 & å†œæ—ç‰§æ¸” \\
... & ... & ... & ... & ... \\
54731 & 801890 & 2017-03-01 & 1673.23 & æœºæ¢°è®¾å¤‡ \\
54732 & 801890 & 2017-03-02 & 1666.43 & æœºæ¢°è®¾å¤‡ \\
54733 & 801890 & 2017-03-03 & 1667.51 & æœºæ¢°è®¾å¤‡ \\
54734 & 801890 & 2017-03-06 & 1692.56 & æœºæ¢°è®¾å¤‡ \\
54735 & 801890 & 2017-03-07 & 1694.80 & æœºæ¢°è®¾å¤‡ \\
\end{longtable}

æŸ¥çœ‹æ¯ä¸ªè¡Œä¸šæŒ‡æ•°çš„é•¿åº¦

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{length\_df }\OperatorTok{=}\NormalTok{ price\_df.groupby(}\StringTok{\textquotesingle{}æŒ‡æ•°ä»£ç \textquotesingle{}}\NormalTok{).agg(}\BuiltInTok{len}\NormalTok{).reset\_index()}
\NormalTok{length\_df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& æŒ‡æ•°ä»£ç  & äº¤æ˜“æ—¥æœŸ & æ”¶ç›˜ä»· & æŒ‡æ•°åç§° \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 801010 & 1741 & 1741 & 1741 \\
1 & 801020 & 1741 & 1741 & 1741 \\
2 & 801030 & 1741 & 1741 & 1741 \\
3 & 801040 & 1741 & 1741 & 1741 \\
4 & 801050 & 1741 & 1741 & 1741 \\
5 & 801060 & 998 & 998 & 998 \\
6 & 801070 & 998 & 998 & 998 \\
7 & 801080 & 1741 & 1741 & 1741 \\
8 & 801090 & 998 & 998 & 998 \\
9 & 801100 & 998 & 998 & 998 \\
10 & 801110 & 1741 & 1741 & 1741 \\
11 & 801120 & 1741 & 1741 & 1741 \\
12 & 801130 & 1741 & 1741 & 1741 \\
13 & 801140 & 1741 & 1741 & 1741 \\
14 & 801150 & 1741 & 1741 & 1741 \\
15 & 801160 & 1741 & 1741 & 1741 \\
16 & 801170 & 1741 & 1741 & 1741 \\
17 & 801180 & 1741 & 1741 & 1741 \\
18 & 801190 & 998 & 998 & 998 \\
19 & 801200 & 1741 & 1741 & 1741 \\
20 & 801210 & 1741 & 1741 & 1741 \\
21 & 801220 & 998 & 998 & 998 \\
22 & 801230 & 1741 & 1741 & 1741 \\
23 & 801710 & 1741 & 1741 & 1741 \\
24 & 801720 & 1741 & 1741 & 1741 \\
25 & 801730 & 1741 & 1741 & 1741 \\
26 & 801740 & 1741 & 1741 & 1741 \\
27 & 801750 & 1741 & 1741 & 1741 \\
28 & 801760 & 1741 & 1741 & 1741 \\
29 & 801770 & 1741 & 1741 & 1741 \\
30 & 801780 & 1741 & 1741 & 1741 \\
31 & 801790 & 1741 & 1741 & 1741 \\
32 & 801880 & 1741 & 1741 & 1741 \\
33 & 801890 & 1741 & 1741 & 1741 \\
\end{longtable}

æŸäº›è¡Œä¸šæŒ‡æ•°çŸ­ä¸€ç‚¹ï¼Œå¯èƒ½æ˜¯æ¯”è¾ƒæ™šæ‰æ¨å‡ºã€‚æå–äº¤æ˜“æ—¥é•¿åº¦ä¸º1741çš„è¡Œä¸šã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{full\_len\_codes }\OperatorTok{=}\NormalTok{ length\_df.query(}\StringTok{"äº¤æ˜“æ—¥æœŸ == 1741"}\NormalTok{)[}\StringTok{\textquotesingle{}æŒ‡æ•°ä»£ç \textquotesingle{}}\NormalTok{]}
\NormalTok{full\_len\_codes}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0     801010
1     801020
2     801030
3     801040
4     801050
7     801080
10    801110
11    801120
12    801130
13    801140
14    801150
15    801160
16    801170
17    801180
19    801200
20    801210
22    801230
23    801710
24    801720
25    801730
26    801740
27    801750
28    801760
29    801770
30    801780
31    801790
32    801880
33    801890
Name: æŒ‡æ•°ä»£ç , dtype: int64
\end{verbatim}

åœ¨äº¤æ˜“ä¿¡æ¯price\_dfä¸­ï¼Œæå–æŒ‡æ•°ä»£ç å±äºfull\_len\_codesï¼Œç”¨.isin()æ–¹æ³•ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mask }\OperatorTok{=}\NormalTok{ price\_df[}\StringTok{\textquotesingle{}æŒ‡æ•°ä»£ç \textquotesingle{}}\NormalTok{].isin(full\_len\_codes)}
\NormalTok{mask}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
0        True
1        True
2        True
3        True
4        True
         ... 
54731    True
54732    True
54733    True
54734    True
54735    True
Name: æŒ‡æ•°ä»£ç , Length: 54736, dtype: bool
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price\_df }\OperatorTok{=}\NormalTok{ price\_df[mask]}
\NormalTok{price\_df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& æŒ‡æ•°ä»£ç  & äº¤æ˜“æ—¥æœŸ & æ”¶ç›˜ä»· & æŒ‡æ•°åç§° \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 801010 & 2010-01-04 & 2058.27 & å†œæ—ç‰§æ¸” \\
1 & 801010 & 2010-01-05 & 2081.28 & å†œæ—ç‰§æ¸” \\
2 & 801010 & 2010-01-06 & 2048.70 & å†œæ—ç‰§æ¸” \\
3 & 801010 & 2010-01-07 & 1999.31 & å†œæ—ç‰§æ¸” \\
4 & 801010 & 2010-01-08 & 2018.81 & å†œæ—ç‰§æ¸” \\
... & ... & ... & ... & ... \\
54731 & 801890 & 2017-03-01 & 1673.23 & æœºæ¢°è®¾å¤‡ \\
54732 & 801890 & 2017-03-02 & 1666.43 & æœºæ¢°è®¾å¤‡ \\
54733 & 801890 & 2017-03-03 & 1667.51 & æœºæ¢°è®¾å¤‡ \\
54734 & 801890 & 2017-03-06 & 1692.56 & æœºæ¢°è®¾å¤‡ \\
54735 & 801890 & 2017-03-07 & 1694.80 & æœºæ¢°è®¾å¤‡ \\
\end{longtable}

ç®€å•æ£€æŸ¥ä¸€ä¸‹ï¼ŒæŒ‰ä»£ç åˆ†ç»„åï¼Œæ˜¯å¦å…¨éƒ¨åˆ†ç»„çš„é•¿åº¦éƒ½æ˜¯1741

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{all}\NormalTok{(price\_df.groupby(}\StringTok{\textquotesingle{}æŒ‡æ•°ä»£ç \textquotesingle{}}\NormalTok{).agg(}\BuiltInTok{len}\NormalTok{)[}\StringTok{\textquotesingle{}æ”¶ç›˜ä»·\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \DecValTok{1741}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
True
\end{verbatim}

é‚£ä¹ˆç°åœ¨price\_dfä¸­çš„å…¨éƒ¨æŒ‡æ•°ï¼Œäº¤æ˜“æ—¥çš„é•¿åº¦éƒ½ä¸€è‡´äº†ã€‚

\hypertarget{ux6708ux9891ux6da8ux8dcc}{%
\subsection{æœˆé¢‘æ¶¨è·Œ}\label{ux6708ux9891ux6da8ux8dcc}}

é¦–å…ˆè®¡ç®—æœˆé¢‘ä¸‹çš„æ¶¨è·Œå¹…å’Œæ˜¯å¦ä¸Šæ¶¨ã€‚

æ³¨æ„å› ä¸ºæˆ‘ä»¬ä¸ç¡®å®šä»·æ ¼æ•°æ®æ˜¯ä¸æ˜¯å®Œå…¨æŒ‰äº¤æ˜“æ—¥æœŸæ’åºï¼Œä¿é™©èµ·è§æˆ‘ä»¬æ‰‹åŠ¨æ’åºä¸€æ¬¡ã€‚

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  åœ¨è®¡ç®—æ”¶ç›Šç‡ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å¯¹``æ¯ä¸ªæŒ‡æ•°ä»£ç å†…éƒ¨æŒ‰æ—¥æœŸæ’åº''ï¼Œä½†å› ä¸ºä¸èƒ½åˆ†ç»„åå†ç»„å†…æ’åºï¼Œå› ä¸ºæˆ‘ä»¬ç”¨å¤šé‡æ’åºæ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœã€‚
\item
  æ’åºåï¼ŒæŒ‰æŒ‡æ•°ä»£ç åˆ†ç»„ï¼Œå–å‡ºæ”¶ç›˜ä»·è®¡ç®—æ—¥æ”¶ç›Šç‡ï¼Œä»¥åŠæ˜¯å¦ä¸Šæ¶¨çš„æ ‡å¿—ã€‚
\item
  å»æ‰å«æœ‰naçš„è¡Œã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price\_w\_df }\OperatorTok{=}\NormalTok{ price\_df.sort\_values([}\StringTok{\textquotesingle{}æŒ‡æ•°ä»£ç \textquotesingle{}}\NormalTok{,}\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{]).set\_index(}\StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{).groupby(}\StringTok{\textquotesingle{}æŒ‡æ•°ä»£ç \textquotesingle{}}\NormalTok{).resample(}\StringTok{\textquotesingle{}M\textquotesingle{}}\NormalTok{).last()}
\NormalTok{price\_w\_df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& & æŒ‡æ•°ä»£ç  & æ”¶ç›˜ä»· & æŒ‡æ•°åç§° \\
æŒ‡æ•°ä»£ç  & äº¤æ˜“æ—¥æœŸ & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\multirow{5}{*}{801010} & 2010-01-31 & 801010 & 2021.48 & å†œæ—ç‰§æ¸” \\
& 2010-02-28 & 801010 & 2132.22 & å†œæ—ç‰§æ¸” \\
& 2010-03-31 & 801010 & 2105.68 & å†œæ—ç‰§æ¸” \\
& 2010-04-30 & 801010 & 2034.38 & å†œæ—ç‰§æ¸” \\
& 2010-05-31 & 801010 & 1923.09 & å†œæ—ç‰§æ¸” \\
... & ... & ... & ... & ... \\
\multirow{5}{*}{801890} & 2016-11-30 & 801890 & 1731.66 & æœºæ¢°è®¾å¤‡ \\
& 2016-12-31 & 801890 & 1623.81 & æœºæ¢°è®¾å¤‡ \\
& 2017-01-31 & 801890 & 1594.32 & æœºæ¢°è®¾å¤‡ \\
& 2017-02-28 & 801890 & 1667.32 & æœºæ¢°è®¾å¤‡ \\
& 2017-03-31 & 801890 & 1694.80 & æœºæ¢°è®¾å¤‡ \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price\_w\_df }\OperatorTok{=}\NormalTok{ price\_w\_df.drop(}\StringTok{\textquotesingle{}æŒ‡æ•°ä»£ç \textquotesingle{}}\NormalTok{,axis }\OperatorTok{=} \DecValTok{1}\NormalTok{).reset\_index()}
\NormalTok{price\_w\_df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& æŒ‡æ•°ä»£ç  & äº¤æ˜“æ—¥æœŸ & æ”¶ç›˜ä»· & æŒ‡æ•°åç§° \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 801010 & 2010-01-31 & 2021.48 & å†œæ—ç‰§æ¸” \\
1 & 801010 & 2010-02-28 & 2132.22 & å†œæ—ç‰§æ¸” \\
2 & 801010 & 2010-03-31 & 2105.68 & å†œæ—ç‰§æ¸” \\
3 & 801010 & 2010-04-30 & 2034.38 & å†œæ—ç‰§æ¸” \\
4 & 801010 & 2010-05-31 & 1923.09 & å†œæ—ç‰§æ¸” \\
... & ... & ... & ... & ... \\
2431 & 801890 & 2016-11-30 & 1731.66 & æœºæ¢°è®¾å¤‡ \\
2432 & 801890 & 2016-12-31 & 1623.81 & æœºæ¢°è®¾å¤‡ \\
2433 & 801890 & 2017-01-31 & 1594.32 & æœºæ¢°è®¾å¤‡ \\
2434 & 801890 & 2017-02-28 & 1667.32 & æœºæ¢°è®¾å¤‡ \\
2435 & 801890 & 2017-03-31 & 1694.80 & æœºæ¢°è®¾å¤‡ \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{price\_w\_df[}\StringTok{\textquotesingle{}æœˆæ”¶ç›Šç‡\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ price\_w\_df[}\StringTok{\textquotesingle{}æ”¶ç›˜ä»·\textquotesingle{}}\NormalTok{].pct\_change()}
\NormalTok{price\_w\_df[}\StringTok{\textquotesingle{}æœˆup\textquotesingle{}}\NormalTok{]  }\OperatorTok{=}\NormalTok{  (price\_w\_df[}\StringTok{\textquotesingle{}æœˆæ”¶ç›Šç‡\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}} \DecValTok{0}\NormalTok{) }\OperatorTok{*} \DecValTok{1}
\NormalTok{price\_w\_df}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllllll@{}}
\toprule\noalign{}
& æŒ‡æ•°ä»£ç  & äº¤æ˜“æ—¥æœŸ & æ”¶ç›˜ä»· & æŒ‡æ•°åç§° & æœˆæ”¶ç›Šç‡ & æœˆup \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 801010 & 2010-01-31 & 2021.48 & å†œæ—ç‰§æ¸” & NaN & 0 \\
1 & 801010 & 2010-02-28 & 2132.22 & å†œæ—ç‰§æ¸” & 0.054782 & 1 \\
2 & 801010 & 2010-03-31 & 2105.68 & å†œæ—ç‰§æ¸” & -0.012447 & 0 \\
3 & 801010 & 2010-04-30 & 2034.38 & å†œæ—ç‰§æ¸” & -0.033861 & 0 \\
4 & 801010 & 2010-05-31 & 1923.09 & å†œæ—ç‰§æ¸” & -0.054705 & 0 \\
... & ... & ... & ... & ... & ... & ... \\
2431 & 801890 & 2016-11-30 & 1731.66 & æœºæ¢°è®¾å¤‡ & 0.059553 & 1 \\
2432 & 801890 & 2016-12-31 & 1623.81 & æœºæ¢°è®¾å¤‡ & -0.062281 & 0 \\
2433 & 801890 & 2017-01-31 & 1594.32 & æœºæ¢°è®¾å¤‡ & -0.018161 & 0 \\
2434 & 801890 & 2017-02-28 & 1667.32 & æœºæ¢°è®¾å¤‡ & 0.045788 & 1 \\
2435 & 801890 & 2017-03-31 & 1694.80 & æœºæ¢°è®¾å¤‡ & 0.016482 & 1 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OperatorTok{=}\NormalTok{ price\_w\_df.pivot(index }\OperatorTok{=} \StringTok{\textquotesingle{}äº¤æ˜“æ—¥æœŸ\textquotesingle{}}\NormalTok{,columns}\OperatorTok{=}\StringTok{\textquotesingle{}æŒ‡æ•°åç§°\textquotesingle{}}\NormalTok{,values }\OperatorTok{=} \StringTok{\textquotesingle{}æœˆup\textquotesingle{}}\NormalTok{).dropna().astype(}\BuiltInTok{int}\NormalTok{)}
\NormalTok{data.iloc[:,:}\DecValTok{7}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
æŒ‡æ•°åç§° & äº¤é€šè¿è¾“ & ä¼ åª’ & å…¬ç”¨äº‹ä¸š & å†œæ—ç‰§æ¸” & åŒ–å·¥ & åŒ»è¯ç”Ÿç‰© &
å•†ä¸šè´¸æ˜“ \\
äº¤æ˜“æ—¥æœŸ & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2010-01-31 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\
2010-02-28 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\
2010-03-31 & 1 & 1 & 1 & 0 & 1 & 0 & 1 \\
2010-04-30 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\
2010-05-31 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\
... & ... & ... & ... & ... & ... & ... & ... \\
2016-11-30 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\
2016-12-31 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
2017-01-31 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\
2017-02-28 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\
2017-03-31 & 0 & 1 & 1 & 1 & 1 & 1 & 0 \\
\end{longtable}

åœ¨æ•°æ®ä¸­ï¼Œ2017å¹´çš„3æœˆåªæœ‰å‡ ä¸ªäº¤æ˜“æ—¥ï¼Œå› æ­¤å¯ä»¥å»æ‰ï¼ˆæ•™æp235ï¼‰ã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data }\OperatorTok{=}\NormalTok{ data.loc[:}\StringTok{\textquotesingle{}2017{-}02\textquotesingle{}}\NormalTok{]}
\NormalTok{data.iloc[:,:}\DecValTok{7}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
æŒ‡æ•°åç§° & äº¤é€šè¿è¾“ & ä¼ åª’ & å…¬ç”¨äº‹ä¸š & å†œæ—ç‰§æ¸” & åŒ–å·¥ & åŒ»è¯ç”Ÿç‰© &
å•†ä¸šè´¸æ˜“ \\
äº¤æ˜“æ—¥æœŸ & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2010-01-31 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\
2010-02-28 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\
2010-03-31 & 1 & 1 & 1 & 0 & 1 & 0 & 1 \\
2010-04-30 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\
2010-05-31 & 0 & 0 & 0 & 0 & 0 & 1 & 0 \\
... & ... & ... & ... & ... & ... & ... & ... \\
2016-10-31 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\
2016-11-30 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\
2016-12-31 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
2017-01-31 & 1 & 0 & 0 & 0 & 0 & 0 & 0 \\
2017-02-28 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\
\end{longtable}

ä¸Šè¿°è¡¨æ ¼å³æ•™æp238çš„å›¾11-8ã€‚æ³¨æ„æ•™æç”¨çš„ç®—æ³•æ˜¯æœ€åä¸€å¤©çš„ä»·æ ¼å‡å»ç¬¬ä¸€å¤©ä»·æ ¼ï¼Œè¿™ä¸ªç®—æ³•ä¸æ­£ç¡®ï¼Œä½†åœ¨æœˆåº¦ä¸Šå’Œpct\_change()åªæœ‰ä¸€ç‚¹å·®å¼‚ã€‚

\hypertarget{ux6708ux9891ux5173ux8054ux5ea6}{%
\subsection{æœˆé¢‘å…³è”åº¦}\label{ux6708ux9891ux5173ux8054ux5ea6}}

æ¥ä¸‹æ¥å°±æ˜¯è®¡ç®—å…³è”åº¦ã€‚æŒ‰è¯¾æœ¬çš„å‚æ•°ï¼Œæœ€å°æ”¯æŒåº¦ä¸º0.47ï¼Œæœ€å°ç½®ä¿¡åº¦ä¸º0.9ã€‚

æ³¨æ„ï¼š

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  æœ€å°æ”¯æŒåº¦ï¼ˆäº‹ä»¶æˆ–è€…å¤šä¸ªäº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ï¼‰å¦‚æœè®¾ç½®å¾—å¤ªä½ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿæå¤§é‡çš„ç»„åˆï¼Œè¿ç®—æ—¶é—´å¯èƒ½æé•¿ï¼Œå¹¶ä¸”ä½ çš„å†…å­˜å¯èƒ½ä¸è¶³ä»¥å®Œæˆè¿ç®—ã€‚å› æ­¤è¿™ä¸ªå€¼ä¸€èˆ¬å…ˆè®¾ç½®çš„å¾—å¤§ä¸€ç‚¹ã€‚
\item
  fpgrowthç®—æ³•å’Œaprioriç®—æ³•çš„ç›®çš„ç›¸åŒï¼Œä½†é€Ÿåº¦æ›´å¿«ï¼Œæ‰€ä»¥ä¸‹é¢çš„ä»£ç ä¹Ÿå¯ä»¥ç›´æ¥æŠŠ\texttt{apriori()}å‡½æ•°æ”¹ä¸º\texttt{fpgrowth()}å‡½æ•°ï¼Œå‚æ•°ä¸€æ ·ã€‚
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ mlxtend.frequent\_patterns }\ImportTok{import}\NormalTok{ apriori, fpgrowth, association\_rules}

\NormalTok{freq\_data }\OperatorTok{=}\NormalTok{ apriori(data, min\_support}\OperatorTok{=}\FloatTok{0.47}\NormalTok{,use\_colnames}\OperatorTok{=}\VariableTok{True}\NormalTok{).sort\_values(}\StringTok{\textquotesingle{}support\textquotesingle{}}\NormalTok{,ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{).reset\_index(drop}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{freq\_data}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/home/lee/anaconda3/lib/python3.9/site-packages/mlxtend/frequent_patterns/fpcommon.py:111: DeprecationWarning: DataFrames with non-bool types result in worse computationalperformance and their support might be discontinued in the future.Please use a DataFrame with bool type
  warnings.warn(
\end{verbatim}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& support & itemsets \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 0.616279 & (åŒ»è¯ç”Ÿç‰©) \\
1 & 0.604651 & (å®¶ç”¨ç”µå™¨) \\
2 & 0.593023 & (æœ‰è‰²é‡‘å±) \\
3 & 0.581395 & (å»ºç­‘ææ–™) \\
4 & 0.581395 & (æœºæ¢°è®¾å¤‡) \\
... & ... & ... \\
158 & 0.476744 & (ç”µæ°”è®¾å¤‡, è½»å·¥åˆ¶é€ ) \\
159 & 0.476744 & (é€šä¿¡, ç”µå­å…ƒå™¨ä»¶) \\
160 & 0.476744 & (ç”µå­å…ƒå™¨ä»¶, ç»¼åˆ) \\
161 & 0.476744 & (çººç»‡æœè£…, ç”µå­å…ƒå™¨ä»¶) \\
162 & 0.476744 & (ç”µå­å…ƒå™¨ä»¶, ç”µæ°”è®¾å¤‡, è®¡ç®—æœº, è½»å·¥åˆ¶é€ , æœºæ¢°è®¾å¤‡) \\
\end{longtable}

åœ¨æœˆåº¦çš„é¢‘ç‡ä¸Šï¼Œå•ä¸ªæ¿å—ä¸Šæ¶¨ï¼Œæˆ–è€…å¤šä¸ªæ¿å—åŒæ—¶ä¸Šæ¶¨ï¼Œå…¶æ¦‚ç‡é«˜äº0.47çš„ï¼Œåœ¨ä¸Šè¡¨ä¸­ã€‚

è·å¾—å…¨éƒ¨çš„è§„åˆ™ï¼Œæœ€ä½ç½®ä¿¡åº¦ä¸º0.9

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{rules }\OperatorTok{=}\NormalTok{ association\_rules(freq\_data, metric}\OperatorTok{=}\StringTok{\textquotesingle{}confidence\textquotesingle{}}\NormalTok{, min\_threshold}\OperatorTok{=}\FloatTok{0.9}\NormalTok{)}
\NormalTok{rules.iloc[:, [}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& antecedents & consequents & support & confidence \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & (è®¡ç®—æœº) & (ç”µå­å…ƒå™¨ä»¶) & 0.546512 & 0.940000 \\
1 & (ç”µå­å…ƒå™¨ä»¶) & (è®¡ç®—æœº) & 0.546512 & 0.979167 \\
2 & (åŒ–å·¥) & (è½»å·¥åˆ¶é€ ) & 0.534884 & 0.958333 \\
3 & (è½»å·¥åˆ¶é€ ) & (åŒ–å·¥) & 0.534884 & 0.978723 \\
4 & (é‡‡æ˜) & (æœ‰è‰²é‡‘å±) & 0.523256 & 0.937500 \\
... & ... & ... & ... & ... \\
396 & (ç”µæ°”è®¾å¤‡, æœºæ¢°è®¾å¤‡) & (è®¡ç®—æœº, ç”µå­å…ƒå™¨ä»¶, è½»å·¥åˆ¶é€ ) & 0.476744 &
0.953488 \\
397 & (è®¡ç®—æœº, è½»å·¥åˆ¶é€ ) & (æœºæ¢°è®¾å¤‡, ç”µæ°”è®¾å¤‡, ç”µå­å…ƒå™¨ä»¶) & 0.476744 &
0.911111 \\
398 & (è®¡ç®—æœº, æœºæ¢°è®¾å¤‡) & (ç”µæ°”è®¾å¤‡, ç”µå­å…ƒå™¨ä»¶, è½»å·¥åˆ¶é€ ) & 0.476744 &
0.931818 \\
399 & (æœºæ¢°è®¾å¤‡, è½»å·¥åˆ¶é€ ) & (è®¡ç®—æœº, ç”µæ°”è®¾å¤‡, ç”µå­å…ƒå™¨ä»¶) & 0.476744 &
0.953488 \\
400 & (ç”µæ°”è®¾å¤‡) & (æœºæ¢°è®¾å¤‡, è®¡ç®—æœº, ç”µå­å…ƒå™¨ä»¶, è½»å·¥åˆ¶é€ ) & 0.476744 &
0.931818 \\
\end{longtable}

æ‰¾åˆ°1å¯¹1çš„è§„åˆ™ï¼Œå¹¶ä¸”æŸ¥çœ‹ç½®ä¿¡åº¦æœ€é«˜çš„å‰å‡ ä¸ªã€‚

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mask }\OperatorTok{=}\NormalTok{ rules.}\BuiltInTok{apply}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ x: }\BuiltInTok{len}\NormalTok{(x.antecedents) }\OperatorTok{==} \DecValTok{1} \KeywordTok{and} \BuiltInTok{len}\NormalTok{(x.consequents) }\OperatorTok{==} \DecValTok{1}\NormalTok{,axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\NormalTok{rules.iloc[:, [}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{]][mask].sort\_values(}\StringTok{\textquotesingle{}confidence\textquotesingle{}}\NormalTok{,ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{).head(}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& antecedents & consequents & support & confidence \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
1 & (ç”µå­å…ƒå™¨ä»¶) & (è®¡ç®—æœº) & 0.546512 & 0.979167 \\
3 & (è½»å·¥åˆ¶é€ ) & (åŒ–å·¥) & 0.534884 & 0.978723 \\
36 & (ç”µæ°”è®¾å¤‡) & (æœºæ¢°è®¾å¤‡) & 0.500000 & 0.977273 \\
31 & (ç”µæ°”è®¾å¤‡) & (è®¡ç®—æœº) & 0.500000 & 0.977273 \\
2 & (åŒ–å·¥) & (è½»å·¥åˆ¶é€ ) & 0.534884 & 0.958333 \\
7 & (è½»å·¥åˆ¶é€ ) & (è®¡ç®—æœº) & 0.523256 & 0.957447 \\
42 & (ç»¼åˆ) & (åŒ–å·¥) & 0.500000 & 0.955556 \\
25 & (ç»¼åˆ) & (è½»å·¥åˆ¶é€ ) & 0.500000 & 0.955556 \\
64 & (ç”µæ°”è®¾å¤‡) & (ç”µå­å…ƒå™¨ä»¶) & 0.488372 & 0.954545 \\
0 & (è®¡ç®—æœº) & (ç”µå­å…ƒå™¨ä»¶) & 0.546512 & 0.940000 \\
\end{longtable}

\hypertarget{ux6d4bux8bd5-1}{%
\subsection{æµ‹è¯•}\label{ux6d4bux8bd5-1}}

æœ¬æœˆæ¶¨è·Œå’Œä¸‹æœˆçš„æ¶¨è·Œï¼Œæœ‰æ²¡æœ‰å…³è”ï¼Ÿ

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data\_s1 }\OperatorTok{=}\NormalTok{ data.shift(}\OperatorTok{{-}}\DecValTok{1}\NormalTok{)}
\NormalTok{data\_s1.columns }\OperatorTok{=}\NormalTok{ [x }\OperatorTok{+} \StringTok{\textquotesingle{}s1\textquotesingle{}} \ControlFlowTok{for}\NormalTok{ x }\KeywordTok{in}\NormalTok{ data\_s1.columns]}
\NormalTok{data\_s1.iloc[:}\DecValTok{7}\NormalTok{,:}\DecValTok{7}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllll@{}}
\toprule\noalign{}
& äº¤é€šè¿è¾“s1 & ä¼ åª’s1 & å…¬ç”¨äº‹ä¸šs1 & å†œæ—ç‰§æ¸”s1 & åŒ–å·¥s1 & åŒ»è¯ç”Ÿç‰©s1 &
å•†ä¸šè´¸æ˜“s1 \\
äº¤æ˜“æ—¥æœŸ & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2010-01-31 & 1.0 & 1.0 & 1.0 & 1.0 & 1.0 & 1.0 & 1.0 \\
2010-02-28 & 1.0 & 1.0 & 1.0 & 0.0 & 1.0 & 0.0 & 1.0 \\
2010-03-31 & 0.0 & 0.0 & 0.0 & 0.0 & 0.0 & 1.0 & 0.0 \\
2010-04-30 & 0.0 & 0.0 & 0.0 & 0.0 & 0.0 & 1.0 & 0.0 \\
2010-05-31 & 0.0 & 0.0 & 0.0 & 0.0 & 0.0 & 0.0 & 0.0 \\
2010-06-30 & 1.0 & 1.0 & 1.0 & 1.0 & 1.0 & 1.0 & 1.0 \\
2010-07-31 & 1.0 & 1.0 & 1.0 & 1.0 & 1.0 & 1.0 & 1.0 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{data2 }\OperatorTok{=}\NormalTok{ pd.concat([data,data\_s1],axis}\OperatorTok{=}\DecValTok{1}\NormalTok{).dropna().astype(}\BuiltInTok{int}\NormalTok{)}
\NormalTok{data2}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}llllllllllllllllllllll@{}}
\toprule\noalign{}
& äº¤é€šè¿è¾“ & ä¼ åª’ & å…¬ç”¨äº‹ä¸š & å†œæ—ç‰§æ¸” & åŒ–å·¥ & åŒ»è¯ç”Ÿç‰© & å•†ä¸šè´¸æ˜“ &
å›½é˜²å†›å·¥ & å®¶ç”¨ç”µå™¨ & å»ºç­‘ææ–™ & ... & ç»¼åˆs1 & è®¡ç®—æœºs1 & è½»å·¥åˆ¶é€ s1 &
é€šä¿¡s1 & é‡‡æ˜s1 & é“¶è¡Œs1 & éé“¶é‡‘ès1 & é£Ÿå“é¥®æ–™s1 & é¤é¥®æ—…æ¸¸s1 &
é»‘è‰²é‡‘å±s1 \\
äº¤æ˜“æ—¥æœŸ & & & & & & & & & & & & & & & & & & & & & \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
2010-01-31 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 1 & ... & 1 & 1 & 1 & 1
& 1 & 1 & 0 & 1 & 1 & 1 \\
2010-02-28 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & ... & 1 & 1 & 1 & 0
& 1 & 1 & 1 & 0 & 1 & 0 \\
2010-03-31 & 1 & 1 & 1 & 0 & 1 & 0 & 1 & 0 & 1 & 1 & ... & 0 & 0 & 0 & 0
& 0 & 0 & 0 & 0 & 0 & 0 \\
2010-04-30 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & ... & 0 & 0 & 0 & 0
& 0 & 0 & 0 & 0 & 0 & 0 \\
2010-05-31 & 0 & 0 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & ... & 0 & 0 & 0 & 0
& 0 & 0 & 1 & 0 & 0 & 0 \\
... & ... & ... & ... & ... & ... & ... & ... & ... & ... & ... & ... &
... & ... & ... & ... & ... & ... & ... & ... & ... & ... \\
2016-09-30 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1 & 1 & ... & 1 & 1 & 1 & 1
& 1 & 1 & 1 & 1 & 1 & 1 \\
2016-10-31 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & ... & 0 & 1 & 1 & 1
& 1 & 1 & 1 & 1 & 0 & 1 \\
2016-11-30 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & ... & 0 & 0 & 0 & 0
& 0 & 0 & 0 & 0 & 0 & 0 \\
2016-12-31 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & ... & 0 & 0 & 0 & 0
& 1 & 1 & 1 & 1 & 0 & 1 \\
2017-01-31 & 1 & 0 & 0 & 0 & 0 & 0 & 0 & 1 & 1 & 1 & ... & 1 & 1 & 1 & 1
& 1 & 1 & 1 & 1 & 1 & 1 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{from}\NormalTok{ mlxtend.frequent\_patterns }\ImportTok{import}\NormalTok{ apriori, fpgrowth, association\_rules}

\NormalTok{freq\_data }\OperatorTok{=}\NormalTok{ fpgrowth(data2, min\_support}\OperatorTok{=}\FloatTok{0.4}\NormalTok{,use\_colnames}\OperatorTok{=}\VariableTok{True}\NormalTok{).sort\_values(}\StringTok{\textquotesingle{}support\textquotesingle{}}\NormalTok{,ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{).reset\_index(drop}\OperatorTok{=}\VariableTok{True}\NormalTok{)}
\NormalTok{freq\_data}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
/home/lee/anaconda3/lib/python3.9/site-packages/mlxtend/frequent_patterns/fpcommon.py:111: DeprecationWarning: DataFrames with non-bool types result in worse computationalperformance and their support might be discontinued in the future.Please use a DataFrame with bool type
  warnings.warn(
\end{verbatim}

\begin{longtable}[]{@{}lll@{}}
\toprule\noalign{}
& support & itemsets \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & 0.611765 & (å®¶ç”¨ç”µå™¨s1) \\
1 & 0.611765 & (åŒ»è¯ç”Ÿç‰©) \\
2 & 0.611765 & (åŒ»è¯ç”Ÿç‰©s1) \\
3 & 0.600000 & (å®¶ç”¨ç”µå™¨) \\
4 & 0.588235 & (æœºæ¢°è®¾å¤‡s1) \\
... & ... & ... \\
24699 & 0.400000 & (é¤é¥®æ—…æ¸¸s1, åŒ–å·¥s1, é€šä¿¡s1, ç”µæ°”è®¾å¤‡s1, åŒ»è¯ç”Ÿç‰©s1,
å†œæ—ç‰§æ¸”s1) \\
24700 & 0.400000 & (é¤é¥®æ—…æ¸¸s1, åŒ–å·¥s1, é€šä¿¡s1, ç”µæ°”è®¾å¤‡s1, åŒ»è¯ç”Ÿç‰©s1,
æœºæ¢°è®¾å¤‡s1) \\
24701 & 0.400000 & (é¤é¥®æ—…æ¸¸s1, åŒ–å·¥s1, é€šä¿¡s1, ç”µæ°”è®¾å¤‡s1, åŒ»è¯ç”Ÿç‰©s1,
æœºæ¢°è®¾å¤‡s1, å†œ... \\
24702 & 0.400000 & (é¤é¥®æ—…æ¸¸s1, é€šä¿¡s1, è½»å·¥åˆ¶é€ s1, ç”µæ°”è®¾å¤‡s1,
åŒ»è¯ç”Ÿç‰©s1, æœºæ¢°è®¾å¤‡s1) \\
24703 & 0.400000 & (éé“¶é‡‘è, æœºæ¢°è®¾å¤‡, åŒ–å·¥) \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{freq\_data2 }\OperatorTok{=}\NormalTok{ freq\_data[freq\_data.itemsets.agg(}\BuiltInTok{len}\NormalTok{) }\OperatorTok{\textless{}=} \DecValTok{2}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{rules }\OperatorTok{=}\NormalTok{ association\_rules(freq\_data2, metric}\OperatorTok{=}\StringTok{\textquotesingle{}confidence\textquotesingle{}}\NormalTok{, min\_threshold}\OperatorTok{=}\FloatTok{0.9}\NormalTok{)}
\NormalTok{rules.iloc[:, [}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{]]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& antecedents & consequents & support & confidence \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
0 & (ç”µå­å…ƒå™¨ä»¶s1) & (è®¡ç®—æœºs1) & 0.552941 & 0.979167 \\
1 & (è®¡ç®—æœºs1) & (ç”µå­å…ƒå™¨ä»¶s1) & 0.552941 & 0.959184 \\
2 & (è®¡ç®—æœº) & (ç”µå­å…ƒå™¨ä»¶) & 0.541176 & 0.938776 \\
3 & (ç”µå­å…ƒå™¨ä»¶) & (è®¡ç®—æœº) & 0.541176 & 0.978723 \\
4 & (è½»å·¥åˆ¶é€ s1) & (åŒ–å·¥s1) & 0.541176 & 0.978723 \\
... & ... & ... & ... & ... \\
121 & (ä¼ åª’) & (é€šä¿¡) & 0.435294 & 0.902439 \\
122 & (ä¼ åª’) & (ç”µæ°”è®¾å¤‡) & 0.435294 & 0.902439 \\
123 & (éé“¶é‡‘è) & (å®¶ç”¨ç”µå™¨) & 0.435294 & 0.902439 \\
124 & (å»ºç­‘è£…é¥°) & (å®¶ç”¨ç”µå™¨) & 0.435294 & 0.902439 \\
125 & (å»ºç­‘è£…é¥°) & (å»ºç­‘ææ–™) & 0.435294 & 0.902439 \\
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{mask1 }\OperatorTok{=}\NormalTok{ rules.antecedents.}\BuiltInTok{apply}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ x: }\KeywordTok{not} \BuiltInTok{any}\NormalTok{([}\StringTok{\textquotesingle{}s1\textquotesingle{}} \KeywordTok{in}\NormalTok{ y }\ControlFlowTok{for}\NormalTok{ y }\KeywordTok{in}\NormalTok{ x ]))}
\NormalTok{mask2 }\OperatorTok{=}\NormalTok{ rules.consequents.}\BuiltInTok{apply}\NormalTok{(}\KeywordTok{lambda}\NormalTok{ x: }\BuiltInTok{all}\NormalTok{([}\StringTok{\textquotesingle{}s1\textquotesingle{}} \KeywordTok{in}\NormalTok{ y }\ControlFlowTok{for}\NormalTok{ y }\KeywordTok{in}\NormalTok{ x ]))}

\NormalTok{mask }\OperatorTok{=}\NormalTok{ np.logical\_and(mask1,mask2)}

\NormalTok{rules.iloc[:, [}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{, }\DecValTok{4}\NormalTok{, }\DecValTok{5}\NormalTok{]][mask]}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}lllll@{}}
\toprule\noalign{}
& antecedents & consequents & support & confidence \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\end{longtable}

ç­”æ¡ˆæ˜¯ä¼¼ä¹æ²¡æœ‰ã€‚



\end{document}
